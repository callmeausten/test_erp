var Ng=e=>{throw TypeError(e)};var Pm=(e,t,s)=>t.has(e)||Ng("Cannot "+s);var R=(e,t,s)=>(Pm(e,t,"read from private field"),s?s.call(e):t.get(e)),Te=(e,t,s)=>t.has(e)?Ng("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),xe=(e,t,s,r)=>(Pm(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),qe=(e,t,s)=>(Pm(e,t,"access private method"),s);var Pc=(e,t,s,r)=>({set _(a){xe(e,t,a,s)},get _(){return R(e,t,r)}});function XC(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();function q0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var H0={exports:{}},Nu={},K0={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hc=Symbol.for("react.element"),JC=Symbol.for("react.portal"),ek=Symbol.for("react.fragment"),tk=Symbol.for("react.strict_mode"),nk=Symbol.for("react.profiler"),sk=Symbol.for("react.provider"),rk=Symbol.for("react.context"),ak=Symbol.for("react.forward_ref"),ik=Symbol.for("react.suspense"),ok=Symbol.for("react.memo"),lk=Symbol.for("react.lazy"),Sg=Symbol.iterator;function ck(e){return e===null||typeof e!="object"?null:(e=Sg&&e[Sg]||e["@@iterator"],typeof e=="function"?e:null)}var Q0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G0=Object.assign,Y0={};function Co(e,t,s){this.props=e,this.context=t,this.refs=Y0,this.updater=s||Q0}Co.prototype.isReactComponent={};Co.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Co.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Z0(){}Z0.prototype=Co.prototype;function up(e,t,s){this.props=e,this.context=t,this.refs=Y0,this.updater=s||Q0}var mp=up.prototype=new Z0;mp.constructor=up;G0(mp,Co.prototype);mp.isPureReactComponent=!0;var Cg=Array.isArray,X0=Object.prototype.hasOwnProperty,hp={current:null},J0={key:!0,ref:!0,__self:!0,__source:!0};function ej(e,t,s){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)X0.call(t,r)&&!J0.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:hc,type:e,key:i,ref:o,props:a,_owner:hp.current}}function dk(e,t){return{$$typeof:hc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fp(e){return typeof e=="object"&&e!==null&&e.$$typeof===hc}function uk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var kg=/\/+/g;function Em(e,t){return typeof e=="object"&&e!==null&&e.key!=null?uk(""+e.key):t.toString(36)}function rd(e,t,s,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case hc:case JC:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Em(o,0):r,Cg(a)?(s="",e!=null&&(s=e.replace(kg,"$&/")+"/"),rd(a,t,s,"",function(d){return d})):a!=null&&(fp(a)&&(a=dk(a,s+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(kg,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",Cg(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Em(i,l);o+=rd(i,t,s,c,a)}else if(c=ck(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Em(i,l++),o+=rd(i,t,s,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ec(e,t,s){if(e==null)return e;var r=[],a=0;return rd(e,r,"","",function(i){return t.call(s,i,a++)}),r}function mk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var In={current:null},ad={transition:null},hk={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:ad,ReactCurrentOwner:hp};function tj(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:Ec,forEach:function(e,t,s){Ec(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Ec(e,function(){t++}),t},toArray:function(e){return Ec(e,function(t){return t})||[]},only:function(e){if(!fp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xe.Component=Co;Xe.Fragment=ek;Xe.Profiler=nk;Xe.PureComponent=up;Xe.StrictMode=tk;Xe.Suspense=ik;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hk;Xe.act=tj;Xe.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=G0({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=hp.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)X0.call(t,c)&&!J0.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:hc,type:e.type,key:a,ref:i,props:r,_owner:o}};Xe.createContext=function(e){return e={$$typeof:rk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sk,_context:e},e.Consumer=e};Xe.createElement=ej;Xe.createFactory=function(e){var t=ej.bind(null,e);return t.type=e,t};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(e){return{$$typeof:ak,render:e}};Xe.isValidElement=fp;Xe.lazy=function(e){return{$$typeof:lk,_payload:{_status:-1,_result:e},_init:mk}};Xe.memo=function(e,t){return{$$typeof:ok,type:e,compare:t===void 0?null:t}};Xe.startTransition=function(e){var t=ad.transition;ad.transition={};try{e()}finally{ad.transition=t}};Xe.unstable_act=tj;Xe.useCallback=function(e,t){return In.current.useCallback(e,t)};Xe.useContext=function(e){return In.current.useContext(e)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(e){return In.current.useDeferredValue(e)};Xe.useEffect=function(e,t){return In.current.useEffect(e,t)};Xe.useId=function(){return In.current.useId()};Xe.useImperativeHandle=function(e,t,s){return In.current.useImperativeHandle(e,t,s)};Xe.useInsertionEffect=function(e,t){return In.current.useInsertionEffect(e,t)};Xe.useLayoutEffect=function(e,t){return In.current.useLayoutEffect(e,t)};Xe.useMemo=function(e,t){return In.current.useMemo(e,t)};Xe.useReducer=function(e,t,s){return In.current.useReducer(e,t,s)};Xe.useRef=function(e){return In.current.useRef(e)};Xe.useState=function(e){return In.current.useState(e)};Xe.useSyncExternalStore=function(e,t,s){return In.current.useSyncExternalStore(e,t,s)};Xe.useTransition=function(){return In.current.useTransition()};Xe.version="18.3.1";K0.exports=Xe;var u=K0.exports;const De=q0(u),Su=XC({__proto__:null,default:De},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fk=u,pk=Symbol.for("react.element"),xk=Symbol.for("react.fragment"),gk=Object.prototype.hasOwnProperty,yk=fk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vk={key:!0,ref:!0,__self:!0,__source:!0};function nj(e,t,s){var r,a={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)gk.call(t,r)&&!vk.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:pk,type:e,key:i,ref:o,props:a,_owner:yk.current}}Nu.Fragment=xk;Nu.jsx=nj;Nu.jsxs=nj;H0.exports=Nu;var n=H0.exports,sj={exports:{}},Zn={},rj={exports:{}},aj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,U){var H=W.length;W.push(U);e:for(;0<H;){var q=H-1>>>1,ne=W[q];if(0<a(ne,U))W[q]=U,W[H]=ne,H=q;else break e}}function s(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var U=W[0],H=W.pop();if(H!==U){W[0]=H;e:for(var q=0,ne=W.length,me=ne>>>1;q<me;){var fe=2*(q+1)-1,$e=W[fe],F=fe+1,X=W[F];if(0>a($e,H))F<ne&&0>a(X,$e)?(W[q]=X,W[F]=H,q=F):(W[q]=$e,W[fe]=H,q=fe);else if(F<ne&&0>a(X,H))W[q]=X,W[F]=H,q=F;else break e}}return U}function a(W,U){var H=W.sortIndex-U.sortIndex;return H!==0?H:W.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,m=null,y=3,v=!1,j=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(W){for(var U=s(d);U!==null;){if(U.callback===null)r(d);else if(U.startTime<=W)r(d),U.sortIndex=U.expirationTime,t(c,U);else break;U=s(d)}}function b(W){if(x=!1,p(W),!j)if(s(c)!==null)j=!0,L(S);else{var U=s(d);U!==null&&ie(b,U.startTime-W)}}function S(W,U){j=!1,x&&(x=!1,g(k),k=-1),v=!0;var H=y;try{for(p(U),m=s(c);m!==null&&(!(m.expirationTime>U)||W&&!I());){var q=m.callback;if(typeof q=="function"){m.callback=null,y=m.priorityLevel;var ne=q(m.expirationTime<=U);U=e.unstable_now(),typeof ne=="function"?m.callback=ne:m===s(c)&&r(c),p(U)}else r(c);m=s(c)}if(m!==null)var me=!0;else{var fe=s(d);fe!==null&&ie(b,fe.startTime-U),me=!1}return me}finally{m=null,y=H,v=!1}}var N=!1,T=null,k=-1,A=5,C=-1;function I(){return!(e.unstable_now()-C<A)}function $(){if(T!==null){var W=e.unstable_now();C=W;var U=!0;try{U=T(!0,W)}finally{U?B():(N=!1,T=null)}}else N=!1}var B;if(typeof h=="function")B=function(){h($)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,P=E.port2;E.port1.onmessage=$,B=function(){P.postMessage(null)}}else B=function(){w($,0)};function L(W){T=W,N||(N=!0,B())}function ie(W,U){k=w(function(){W(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){j||v||(j=!0,L(S))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(W){switch(y){case 1:case 2:case 3:var U=3;break;default:U=y}var H=y;y=U;try{return W()}finally{y=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,U){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var H=y;y=W;try{return U()}finally{y=H}},e.unstable_scheduleCallback=function(W,U,H){var q=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?q+H:q):H=q,W){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=H+ne,W={id:f++,callback:U,priorityLevel:W,startTime:H,expirationTime:ne,sortIndex:-1},H>q?(W.sortIndex=H,t(d,W),s(c)===null&&W===s(d)&&(x?(g(k),k=-1):x=!0,ie(b,H-q))):(W.sortIndex=ne,t(c,W),j||v||(j=!0,L(S))),W},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(W){var U=y;return function(){var H=y;y=U;try{return W.apply(this,arguments)}finally{y=H}}}})(aj);rj.exports=aj;var jk=rj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bk=u,Qn=jk;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ij=new Set,Pl={};function di(e,t){lo(e,t),lo(e+"Capture",t)}function lo(e,t){for(Pl[e]=t,e=0;e<t.length;e++)ij.add(t[e])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ch=Object.prototype.hasOwnProperty,wk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ig={},Tg={};function Nk(e){return Ch.call(Tg,e)?!0:Ch.call(Ig,e)?!1:wk.test(e)?Tg[e]=!0:(Ig[e]=!0,!1)}function Sk(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ck(e,t,s,r){if(t===null||typeof t>"u"||Sk(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Tn(e,t,s,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mn[e]=new Tn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mn[t]=new Tn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mn[e]=new Tn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mn[e]=new Tn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mn[e]=new Tn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mn[e]=new Tn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mn[e]=new Tn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mn[e]=new Tn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mn[e]=new Tn(e,5,!1,e.toLowerCase(),null,!1,!1)});var pp=/[\-:]([a-z])/g;function xp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pp,xp);mn[t]=new Tn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pp,xp);mn[t]=new Tn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pp,xp);mn[t]=new Tn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mn[e]=new Tn(e,1,!1,e.toLowerCase(),null,!1,!1)});mn.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mn[e]=new Tn(e,1,!1,e.toLowerCase(),null,!0,!0)});function gp(e,t,s,r){var a=mn.hasOwnProperty(t)?mn[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ck(t,s,a,r)&&(s=null),r||a===null?Nk(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,r=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var Pr=bk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ac=Symbol.for("react.element"),Pi=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),yp=Symbol.for("react.strict_mode"),kh=Symbol.for("react.profiler"),oj=Symbol.for("react.provider"),lj=Symbol.for("react.context"),vp=Symbol.for("react.forward_ref"),Ih=Symbol.for("react.suspense"),Th=Symbol.for("react.suspense_list"),jp=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),cj=Symbol.for("react.offscreen"),Pg=Symbol.iterator;function Uo(e){return e===null||typeof e!="object"?null:(e=Pg&&e[Pg]||e["@@iterator"],typeof e=="function"?e:null)}var Mt=Object.assign,Am;function ol(e){if(Am===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Am=t&&t[1]||""}return`
`+Am+e}var Rm=!1;function _m(e,t){if(!e||Rm)return"";Rm=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Rm=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?ol(e):""}function kk(e){switch(e.tag){case 5:return ol(e.type);case 16:return ol("Lazy");case 13:return ol("Suspense");case 19:return ol("SuspenseList");case 0:case 2:case 15:return e=_m(e.type,!1),e;case 11:return e=_m(e.type.render,!1),e;case 1:return e=_m(e.type,!0),e;default:return""}}function Ph(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ei:return"Fragment";case Pi:return"Portal";case kh:return"Profiler";case yp:return"StrictMode";case Ih:return"Suspense";case Th:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lj:return(e.displayName||"Context")+".Consumer";case oj:return(e._context.displayName||"Context")+".Provider";case vp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jp:return t=e.displayName||null,t!==null?t:Ph(e.type)||"Memo";case Fr:t=e._payload,e=e._init;try{return Ph(e(t))}catch{}}return null}function Ik(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ph(t);case 8:return t===yp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ha(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tk(e){var t=dj(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rc(e){e._valueTracker||(e._valueTracker=Tk(e))}function uj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=dj(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Cd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Eh(e,t){var s=t.checked;return Mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Eg(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=ha(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mj(e,t){t=t.checked,t!=null&&gp(e,"checked",t,!1)}function Ah(e,t){mj(e,t);var s=ha(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rh(e,t.type,s):t.hasOwnProperty("defaultValue")&&Rh(e,t.type,ha(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ag(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Rh(e,t,s){(t!=="number"||Cd(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var ll=Array.isArray;function zi(e,t,s,r){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&r&&(e[s].defaultSelected=!0)}else{for(s=""+ha(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function _h(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rg(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(oe(92));if(ll(s)){if(1<s.length)throw Error(oe(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:ha(s)}}function hj(e,t){var s=ha(t.value),r=ha(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function _g(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _c,pj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_c=_c||document.createElement("div"),_c.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_c.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function El(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pk=["Webkit","ms","Moz","O"];Object.keys(pl).forEach(function(e){Pk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pl[t]=pl[e]})});function xj(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||pl.hasOwnProperty(e)&&pl[e]?(""+t).trim():t+"px"}function gj(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,a=xj(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,a):e[s]=a}}var Ek=Mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oh(e,t){if(t){if(Ek[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function Lh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mh=null;function bp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fh=null,Ui=null,Bi=null;function Dg(e){if(e=xc(e)){if(typeof Fh!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=Pu(t),Fh(e.stateNode,e.type,t))}}function yj(e){Ui?Bi?Bi.push(e):Bi=[e]:Ui=e}function vj(){if(Ui){var e=Ui,t=Bi;if(Bi=Ui=null,Dg(e),t)for(e=0;e<t.length;e++)Dg(t[e])}}function jj(e,t){return e(t)}function bj(){}var Dm=!1;function wj(e,t,s){if(Dm)return e(t,s);Dm=!0;try{return jj(e,t,s)}finally{Dm=!1,(Ui!==null||Bi!==null)&&(bj(),vj())}}function Al(e,t){var s=e.stateNode;if(s===null)return null;var r=Pu(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(oe(231,t,typeof s));return s}var $h=!1;if(br)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){$h=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{$h=!1}function Ak(e,t,s,r,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(f){this.onError(f)}}var xl=!1,kd=null,Id=!1,Vh=null,Rk={onError:function(e){xl=!0,kd=e}};function _k(e,t,s,r,a,i,o,l,c){xl=!1,kd=null,Ak.apply(Rk,arguments)}function Dk(e,t,s,r,a,i,o,l,c){if(_k.apply(this,arguments),xl){if(xl){var d=kd;xl=!1,kd=null}else throw Error(oe(198));Id||(Id=!0,Vh=d)}}function ui(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Nj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Og(e){if(ui(e)!==e)throw Error(oe(188))}function Ok(e){var t=e.alternate;if(!t){if(t=ui(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var s=e,r=t;;){var a=s.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return Og(a),e;if(i===r)return Og(a),t;i=i.sibling}throw Error(oe(188))}if(s.return!==r.return)s=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===s){o=!0,s=a,r=i;break}if(l===r){o=!0,r=a,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,r=a;break}if(l===r){o=!0,r=i,s=a;break}l=l.sibling}if(!o)throw Error(oe(189))}}if(s.alternate!==r)throw Error(oe(190))}if(s.tag!==3)throw Error(oe(188));return s.stateNode.current===s?e:t}function Sj(e){return e=Ok(e),e!==null?Cj(e):null}function Cj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cj(e);if(t!==null)return t;e=e.sibling}return null}var kj=Qn.unstable_scheduleCallback,Lg=Qn.unstable_cancelCallback,Lk=Qn.unstable_shouldYield,Mk=Qn.unstable_requestPaint,zt=Qn.unstable_now,Fk=Qn.unstable_getCurrentPriorityLevel,wp=Qn.unstable_ImmediatePriority,Ij=Qn.unstable_UserBlockingPriority,Td=Qn.unstable_NormalPriority,$k=Qn.unstable_LowPriority,Tj=Qn.unstable_IdlePriority,Cu=null,Ys=null;function Vk(e){if(Ys&&typeof Ys.onCommitFiberRoot=="function")try{Ys.onCommitFiberRoot(Cu,e,void 0,(e.current.flags&128)===128)}catch{}}var Ts=Math.clz32?Math.clz32:Bk,zk=Math.log,Uk=Math.LN2;function Bk(e){return e>>>=0,e===0?32:31-(zk(e)/Uk|0)|0}var Dc=64,Oc=4194304;function cl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pd(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~a;l!==0?r=cl(l):(i&=o,i!==0&&(r=cl(i)))}else o=s&~a,o!==0?r=cl(o):i!==0&&(r=cl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Ts(t),a=1<<s,r|=e[s],t&=~a;return r}function Wk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qk(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ts(i),l=1<<o,c=a[o];c===-1?(!(l&s)||l&r)&&(a[o]=Wk(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function zh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pj(){var e=Dc;return Dc<<=1,!(Dc&4194240)&&(Dc=64),e}function Om(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function fc(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ts(t),e[t]=s}function Hk(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Ts(s),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,s&=~i}}function Np(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Ts(s),a=1<<r;a&t|e[r]&t&&(e[r]|=t),s&=~a}}var vt=0;function Ej(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Aj,Sp,Rj,_j,Dj,Uh=!1,Lc=[],ta=null,na=null,sa=null,Rl=new Map,_l=new Map,zr=[],Kk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mg(e,t){switch(e){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":Rl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(t.pointerId)}}function Wo(e,t,s,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=xc(t),t!==null&&Sp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Qk(e,t,s,r,a){switch(t){case"focusin":return ta=Wo(ta,e,t,s,r,a),!0;case"dragenter":return na=Wo(na,e,t,s,r,a),!0;case"mouseover":return sa=Wo(sa,e,t,s,r,a),!0;case"pointerover":var i=a.pointerId;return Rl.set(i,Wo(Rl.get(i)||null,e,t,s,r,a)),!0;case"gotpointercapture":return i=a.pointerId,_l.set(i,Wo(_l.get(i)||null,e,t,s,r,a)),!0}return!1}function Oj(e){var t=Ra(e.target);if(t!==null){var s=ui(t);if(s!==null){if(t=s.tag,t===13){if(t=Nj(s),t!==null){e.blockedOn=t,Dj(e.priority,function(){Rj(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function id(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Bh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Mh=r,s.target.dispatchEvent(r),Mh=null}else return t=xc(s),t!==null&&Sp(t),e.blockedOn=s,!1;t.shift()}return!0}function Fg(e,t,s){id(e)&&s.delete(t)}function Gk(){Uh=!1,ta!==null&&id(ta)&&(ta=null),na!==null&&id(na)&&(na=null),sa!==null&&id(sa)&&(sa=null),Rl.forEach(Fg),_l.forEach(Fg)}function qo(e,t){e.blockedOn===t&&(e.blockedOn=null,Uh||(Uh=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,Gk)))}function Dl(e){function t(a){return qo(a,e)}if(0<Lc.length){qo(Lc[0],e);for(var s=1;s<Lc.length;s++){var r=Lc[s];r.blockedOn===e&&(r.blockedOn=null)}}for(ta!==null&&qo(ta,e),na!==null&&qo(na,e),sa!==null&&qo(sa,e),Rl.forEach(t),_l.forEach(t),s=0;s<zr.length;s++)r=zr[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<zr.length&&(s=zr[0],s.blockedOn===null);)Oj(s),s.blockedOn===null&&zr.shift()}var Wi=Pr.ReactCurrentBatchConfig,Ed=!0;function Yk(e,t,s,r){var a=vt,i=Wi.transition;Wi.transition=null;try{vt=1,Cp(e,t,s,r)}finally{vt=a,Wi.transition=i}}function Zk(e,t,s,r){var a=vt,i=Wi.transition;Wi.transition=null;try{vt=4,Cp(e,t,s,r)}finally{vt=a,Wi.transition=i}}function Cp(e,t,s,r){if(Ed){var a=Bh(e,t,s,r);if(a===null)qm(e,t,r,Ad,s),Mg(e,r);else if(Qk(a,e,t,s,r))r.stopPropagation();else if(Mg(e,r),t&4&&-1<Kk.indexOf(e)){for(;a!==null;){var i=xc(a);if(i!==null&&Aj(i),i=Bh(e,t,s,r),i===null&&qm(e,t,r,Ad,s),i===a)break;a=i}a!==null&&r.stopPropagation()}else qm(e,t,r,null,s)}}var Ad=null;function Bh(e,t,s,r){if(Ad=null,e=bp(r),e=Ra(e),e!==null)if(t=ui(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Nj(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ad=e,null}function Lj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fk()){case wp:return 1;case Ij:return 4;case Td:case $k:return 16;case Tj:return 536870912;default:return 16}default:return 16}}var Xr=null,kp=null,od=null;function Mj(){if(od)return od;var e,t=kp,s=t.length,r,a="value"in Xr?Xr.value:Xr.textContent,i=a.length;for(e=0;e<s&&t[e]===a[e];e++);var o=s-e;for(r=1;r<=o&&t[s-r]===a[i-r];r++);return od=a.slice(e,1<r?1-r:void 0)}function ld(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mc(){return!0}function $g(){return!1}function Xn(e){function t(s,r,a,i,o){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mc:$g,this.isPropagationStopped=$g,this}return Mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Mc)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Mc)},persist:function(){},isPersistent:Mc}),t}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ip=Xn(ko),pc=Mt({},ko,{view:0,detail:0}),Xk=Xn(pc),Lm,Mm,Ho,ku=Mt({},pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ho&&(Ho&&e.type==="mousemove"?(Lm=e.screenX-Ho.screenX,Mm=e.screenY-Ho.screenY):Mm=Lm=0,Ho=e),Lm)},movementY:function(e){return"movementY"in e?e.movementY:Mm}}),Vg=Xn(ku),Jk=Mt({},ku,{dataTransfer:0}),e4=Xn(Jk),t4=Mt({},pc,{relatedTarget:0}),Fm=Xn(t4),n4=Mt({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),s4=Xn(n4),r4=Mt({},ko,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),a4=Xn(r4),i4=Mt({},ko,{data:0}),zg=Xn(i4),o4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=c4[e])?!!t[e]:!1}function Tp(){return d4}var u4=Mt({},pc,{key:function(e){if(e.key){var t=o4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ld(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?l4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tp,charCode:function(e){return e.type==="keypress"?ld(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ld(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),m4=Xn(u4),h4=Mt({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ug=Xn(h4),f4=Mt({},pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tp}),p4=Xn(f4),x4=Mt({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),g4=Xn(x4),y4=Mt({},ku,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),v4=Xn(y4),j4=[9,13,27,32],Pp=br&&"CompositionEvent"in window,gl=null;br&&"documentMode"in document&&(gl=document.documentMode);var b4=br&&"TextEvent"in window&&!gl,Fj=br&&(!Pp||gl&&8<gl&&11>=gl),Bg=" ",Wg=!1;function $j(e,t){switch(e){case"keyup":return j4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ai=!1;function w4(e,t){switch(e){case"compositionend":return Vj(t);case"keypress":return t.which!==32?null:(Wg=!0,Bg);case"textInput":return e=t.data,e===Bg&&Wg?null:e;default:return null}}function N4(e,t){if(Ai)return e==="compositionend"||!Pp&&$j(e,t)?(e=Mj(),od=kp=Xr=null,Ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fj&&t.locale!=="ko"?null:t.data;default:return null}}var S4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!S4[e.type]:t==="textarea"}function zj(e,t,s,r){yj(r),t=Rd(t,"onChange"),0<t.length&&(s=new Ip("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var yl=null,Ol=null;function C4(e){Xj(e,0)}function Iu(e){var t=Di(e);if(uj(t))return e}function k4(e,t){if(e==="change")return t}var Uj=!1;if(br){var $m;if(br){var Vm="oninput"in document;if(!Vm){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),Vm=typeof Hg.oninput=="function"}$m=Vm}else $m=!1;Uj=$m&&(!document.documentMode||9<document.documentMode)}function Kg(){yl&&(yl.detachEvent("onpropertychange",Bj),Ol=yl=null)}function Bj(e){if(e.propertyName==="value"&&Iu(Ol)){var t=[];zj(t,Ol,e,bp(e)),wj(C4,t)}}function I4(e,t,s){e==="focusin"?(Kg(),yl=t,Ol=s,yl.attachEvent("onpropertychange",Bj)):e==="focusout"&&Kg()}function T4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iu(Ol)}function P4(e,t){if(e==="click")return Iu(t)}function E4(e,t){if(e==="input"||e==="change")return Iu(t)}function A4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rs=typeof Object.is=="function"?Object.is:A4;function Ll(e,t){if(Rs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!Ch.call(t,a)||!Rs(e[a],t[a]))return!1}return!0}function Qg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gg(e,t){var s=Qg(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Qg(s)}}function Wj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qj(){for(var e=window,t=Cd();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Cd(e.document)}return t}function Ep(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function R4(e){var t=qj(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Wj(s.ownerDocument.documentElement,s)){if(r!==null&&Ep(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=Gg(s,i);var o=Gg(s,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _4=br&&"documentMode"in document&&11>=document.documentMode,Ri=null,Wh=null,vl=null,qh=!1;function Yg(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;qh||Ri==null||Ri!==Cd(r)||(r=Ri,"selectionStart"in r&&Ep(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vl&&Ll(vl,r)||(vl=r,r=Rd(Wh,"onSelect"),0<r.length&&(t=new Ip("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Ri)))}function Fc(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var _i={animationend:Fc("Animation","AnimationEnd"),animationiteration:Fc("Animation","AnimationIteration"),animationstart:Fc("Animation","AnimationStart"),transitionend:Fc("Transition","TransitionEnd")},zm={},Hj={};br&&(Hj=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function Tu(e){if(zm[e])return zm[e];if(!_i[e])return e;var t=_i[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Hj)return zm[e]=t[s];return e}var Kj=Tu("animationend"),Qj=Tu("animationiteration"),Gj=Tu("animationstart"),Yj=Tu("transitionend"),Zj=new Map,Zg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ja(e,t){Zj.set(e,t),di(t,[e])}for(var Um=0;Um<Zg.length;Um++){var Bm=Zg[Um],D4=Bm.toLowerCase(),O4=Bm[0].toUpperCase()+Bm.slice(1);ja(D4,"on"+O4)}ja(Kj,"onAnimationEnd");ja(Qj,"onAnimationIteration");ja(Gj,"onAnimationStart");ja("dblclick","onDoubleClick");ja("focusin","onFocus");ja("focusout","onBlur");ja(Yj,"onTransitionEnd");lo("onMouseEnter",["mouseout","mouseover"]);lo("onMouseLeave",["mouseout","mouseover"]);lo("onPointerEnter",["pointerout","pointerover"]);lo("onPointerLeave",["pointerout","pointerover"]);di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));di("onBeforeInput",["compositionend","keypress","textInput","paste"]);di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L4=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function Xg(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,Dk(r,t,void 0,e),e.currentTarget=null}function Xj(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Xg(a,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Xg(a,l,d),i=c}}}if(Id)throw e=Vh,Id=!1,Vh=null,e}function It(e,t){var s=t[Yh];s===void 0&&(s=t[Yh]=new Set);var r=e+"__bubble";s.has(r)||(Jj(t,e,2,!1),s.add(r))}function Wm(e,t,s){var r=0;t&&(r|=4),Jj(s,e,r,t)}var $c="_reactListening"+Math.random().toString(36).slice(2);function Ml(e){if(!e[$c]){e[$c]=!0,ij.forEach(function(s){s!=="selectionchange"&&(L4.has(s)||Wm(s,!1,e),Wm(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$c]||(t[$c]=!0,Wm("selectionchange",!1,t))}}function Jj(e,t,s,r){switch(Lj(t)){case 1:var a=Yk;break;case 4:a=Zk;break;default:a=Cp}s=a.bind(null,t,s,e),a=void 0,!$h||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function qm(e,t,s,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ra(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}wj(function(){var d=i,f=bp(s),m=[];e:{var y=Zj.get(e);if(y!==void 0){var v=Ip,j=e;switch(e){case"keypress":if(ld(s)===0)break e;case"keydown":case"keyup":v=m4;break;case"focusin":j="focus",v=Fm;break;case"focusout":j="blur",v=Fm;break;case"beforeblur":case"afterblur":v=Fm;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Vg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=e4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=p4;break;case Kj:case Qj:case Gj:v=s4;break;case Yj:v=g4;break;case"scroll":v=Xk;break;case"wheel":v=v4;break;case"copy":case"cut":case"paste":v=a4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ug}var x=(t&4)!==0,w=!x&&e==="scroll",g=x?y!==null?y+"Capture":null:y;x=[];for(var h=d,p;h!==null;){p=h;var b=p.stateNode;if(p.tag===5&&b!==null&&(p=b,g!==null&&(b=Al(h,g),b!=null&&x.push(Fl(h,b,p)))),w)break;h=h.return}0<x.length&&(y=new v(y,j,null,s,f),m.push({event:y,listeners:x}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",y&&s!==Mh&&(j=s.relatedTarget||s.fromElement)&&(Ra(j)||j[wr]))break e;if((v||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,v?(j=s.relatedTarget||s.toElement,v=d,j=j?Ra(j):null,j!==null&&(w=ui(j),j!==w||j.tag!==5&&j.tag!==6)&&(j=null)):(v=null,j=d),v!==j)){if(x=Vg,b="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ug,b="onPointerLeave",g="onPointerEnter",h="pointer"),w=v==null?y:Di(v),p=j==null?y:Di(j),y=new x(b,h+"leave",v,s,f),y.target=w,y.relatedTarget=p,b=null,Ra(f)===d&&(x=new x(g,h+"enter",j,s,f),x.target=p,x.relatedTarget=w,b=x),w=b,v&&j)t:{for(x=v,g=j,h=0,p=x;p;p=bi(p))h++;for(p=0,b=g;b;b=bi(b))p++;for(;0<h-p;)x=bi(x),h--;for(;0<p-h;)g=bi(g),p--;for(;h--;){if(x===g||g!==null&&x===g.alternate)break t;x=bi(x),g=bi(g)}x=null}else x=null;v!==null&&Jg(m,y,v,x,!1),j!==null&&w!==null&&Jg(m,w,j,x,!0)}}e:{if(y=d?Di(d):window,v=y.nodeName&&y.nodeName.toLowerCase(),v==="select"||v==="input"&&y.type==="file")var S=k4;else if(qg(y))if(Uj)S=E4;else{S=T4;var N=I4}else(v=y.nodeName)&&v.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(S=P4);if(S&&(S=S(e,d))){zj(m,S,s,f);break e}N&&N(e,y,d),e==="focusout"&&(N=y._wrapperState)&&N.controlled&&y.type==="number"&&Rh(y,"number",y.value)}switch(N=d?Di(d):window,e){case"focusin":(qg(N)||N.contentEditable==="true")&&(Ri=N,Wh=d,vl=null);break;case"focusout":vl=Wh=Ri=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Yg(m,s,f);break;case"selectionchange":if(_4)break;case"keydown":case"keyup":Yg(m,s,f)}var T;if(Pp)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ai?$j(e,s)&&(k="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(k="onCompositionStart");k&&(Fj&&s.locale!=="ko"&&(Ai||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ai&&(T=Mj()):(Xr=f,kp="value"in Xr?Xr.value:Xr.textContent,Ai=!0)),N=Rd(d,k),0<N.length&&(k=new zg(k,e,null,s,f),m.push({event:k,listeners:N}),T?k.data=T:(T=Vj(s),T!==null&&(k.data=T)))),(T=b4?w4(e,s):N4(e,s))&&(d=Rd(d,"onBeforeInput"),0<d.length&&(f=new zg("onBeforeInput","beforeinput",null,s,f),m.push({event:f,listeners:d}),f.data=T))}Xj(m,t)})}function Fl(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Rd(e,t){for(var s=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Al(e,s),i!=null&&r.unshift(Fl(e,i,a)),i=Al(e,t),i!=null&&r.push(Fl(e,i,a))),e=e.return}return r}function bi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jg(e,t,s,r,a){for(var i=t._reactName,o=[];s!==null&&s!==r;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,a?(c=Al(s,i),c!=null&&o.unshift(Fl(s,c,l))):a||(c=Al(s,i),c!=null&&o.push(Fl(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var M4=/\r\n?/g,F4=/\u0000|\uFFFD/g;function ey(e){return(typeof e=="string"?e:""+e).replace(M4,`
`).replace(F4,"")}function Vc(e,t,s){if(t=ey(t),ey(e)!==t&&s)throw Error(oe(425))}function _d(){}var Hh=null,Kh=null;function Qh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gh=typeof setTimeout=="function"?setTimeout:void 0,$4=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,V4=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(e){return ty.resolve(null).then(e).catch(z4)}:Gh;function z4(e){setTimeout(function(){throw e})}function Hm(e,t){var s=t,r=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(r===0){e.removeChild(a),Dl(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=a}while(s);Dl(t)}function ra(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ny(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Io=Math.random().toString(36).slice(2),Ks="__reactFiber$"+Io,$l="__reactProps$"+Io,wr="__reactContainer$"+Io,Yh="__reactEvents$"+Io,U4="__reactListeners$"+Io,B4="__reactHandles$"+Io;function Ra(e){var t=e[Ks];if(t)return t;for(var s=e.parentNode;s;){if(t=s[wr]||s[Ks]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=ny(e);e!==null;){if(s=e[Ks])return s;e=ny(e)}return t}e=s,s=e.parentNode}return null}function xc(e){return e=e[Ks]||e[wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Di(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function Pu(e){return e[$l]||null}var Zh=[],Oi=-1;function ba(e){return{current:e}}function Tt(e){0>Oi||(e.current=Zh[Oi],Zh[Oi]=null,Oi--)}function Ct(e,t){Oi++,Zh[Oi]=e.current,e.current=t}var fa={},xn=ba(fa),Mn=ba(!1),Ga=fa;function co(e,t){var s=e.type.contextTypes;if(!s)return fa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in s)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Fn(e){return e=e.childContextTypes,e!=null}function Dd(){Tt(Mn),Tt(xn)}function sy(e,t,s){if(xn.current!==fa)throw Error(oe(168));Ct(xn,t),Ct(Mn,s)}function eb(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(oe(108,Ik(e)||"Unknown",a));return Mt({},s,r)}function Od(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fa,Ga=xn.current,Ct(xn,e),Ct(Mn,Mn.current),!0}function ry(e,t,s){var r=e.stateNode;if(!r)throw Error(oe(169));s?(e=eb(e,t,Ga),r.__reactInternalMemoizedMergedChildContext=e,Tt(Mn),Tt(xn),Ct(xn,e)):Tt(Mn),Ct(Mn,s)}var ur=null,Eu=!1,Km=!1;function tb(e){ur===null?ur=[e]:ur.push(e)}function W4(e){Eu=!0,tb(e)}function wa(){if(!Km&&ur!==null){Km=!0;var e=0,t=vt;try{var s=ur;for(vt=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}ur=null,Eu=!1}catch(a){throw ur!==null&&(ur=ur.slice(e+1)),kj(wp,wa),a}finally{vt=t,Km=!1}}return null}var Li=[],Mi=0,Ld=null,Md=0,is=[],os=0,Ya=null,xr=1,gr="";function Pa(e,t){Li[Mi++]=Md,Li[Mi++]=Ld,Ld=e,Md=t}function nb(e,t,s){is[os++]=xr,is[os++]=gr,is[os++]=Ya,Ya=e;var r=xr;e=gr;var a=32-Ts(r)-1;r&=~(1<<a),s+=1;var i=32-Ts(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,xr=1<<32-Ts(t)+a|s<<a|r,gr=i+e}else xr=1<<i|s<<a|r,gr=e}function Ap(e){e.return!==null&&(Pa(e,1),nb(e,1,0))}function Rp(e){for(;e===Ld;)Ld=Li[--Mi],Li[Mi]=null,Md=Li[--Mi],Li[Mi]=null;for(;e===Ya;)Ya=is[--os],is[os]=null,gr=is[--os],is[os]=null,xr=is[--os],is[os]=null}var Hn=null,qn=null,At=!1,Cs=null;function sb(e,t){var s=ls(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function ay(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Hn=e,qn=ra(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Hn=e,qn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Ya!==null?{id:xr,overflow:gr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=ls(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Hn=e,qn=null,!0):!1;default:return!1}}function Xh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jh(e){if(At){var t=qn;if(t){var s=t;if(!ay(e,t)){if(Xh(e))throw Error(oe(418));t=ra(s.nextSibling);var r=Hn;t&&ay(e,t)?sb(r,s):(e.flags=e.flags&-4097|2,At=!1,Hn=e)}}else{if(Xh(e))throw Error(oe(418));e.flags=e.flags&-4097|2,At=!1,Hn=e}}}function iy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Hn=e}function zc(e){if(e!==Hn)return!1;if(!At)return iy(e),At=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qh(e.type,e.memoizedProps)),t&&(t=qn)){if(Xh(e))throw rb(),Error(oe(418));for(;t;)sb(e,t),t=ra(t.nextSibling)}if(iy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){qn=ra(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}qn=null}}else qn=Hn?ra(e.stateNode.nextSibling):null;return!0}function rb(){for(var e=qn;e;)e=ra(e.nextSibling)}function uo(){qn=Hn=null,At=!1}function _p(e){Cs===null?Cs=[e]:Cs.push(e)}var q4=Pr.ReactCurrentBatchConfig;function Ko(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(oe(309));var r=s.stateNode}if(!r)throw Error(oe(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(oe(284));if(!s._owner)throw Error(oe(290,e))}return e}function Uc(e,t){throw e=Object.prototype.toString.call(t),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function oy(e){var t=e._init;return t(e._payload)}function ab(e){function t(g,h){if(e){var p=g.deletions;p===null?(g.deletions=[h],g.flags|=16):p.push(h)}}function s(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function r(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function a(g,h){return g=la(g,h),g.index=0,g.sibling=null,g}function i(g,h,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<h?(g.flags|=2,h):p):(g.flags|=2,h)):(g.flags|=1048576,h)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,h,p,b){return h===null||h.tag!==6?(h=eh(p,g.mode,b),h.return=g,h):(h=a(h,p),h.return=g,h)}function c(g,h,p,b){var S=p.type;return S===Ei?f(g,h,p.props.children,b,p.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Fr&&oy(S)===h.type)?(b=a(h,p.props),b.ref=Ko(g,h,p),b.return=g,b):(b=pd(p.type,p.key,p.props,null,g.mode,b),b.ref=Ko(g,h,p),b.return=g,b)}function d(g,h,p,b){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=th(p,g.mode,b),h.return=g,h):(h=a(h,p.children||[]),h.return=g,h)}function f(g,h,p,b,S){return h===null||h.tag!==7?(h=Qa(p,g.mode,b,S),h.return=g,h):(h=a(h,p),h.return=g,h)}function m(g,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return h=eh(""+h,g.mode,p),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Ac:return p=pd(h.type,h.key,h.props,null,g.mode,p),p.ref=Ko(g,null,h),p.return=g,p;case Pi:return h=th(h,g.mode,p),h.return=g,h;case Fr:var b=h._init;return m(g,b(h._payload),p)}if(ll(h)||Uo(h))return h=Qa(h,g.mode,p,null),h.return=g,h;Uc(g,h)}return null}function y(g,h,p,b){var S=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:l(g,h,""+p,b);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ac:return p.key===S?c(g,h,p,b):null;case Pi:return p.key===S?d(g,h,p,b):null;case Fr:return S=p._init,y(g,h,S(p._payload),b)}if(ll(p)||Uo(p))return S!==null?null:f(g,h,p,b,null);Uc(g,p)}return null}function v(g,h,p,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(p)||null,l(h,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ac:return g=g.get(b.key===null?p:b.key)||null,c(h,g,b,S);case Pi:return g=g.get(b.key===null?p:b.key)||null,d(h,g,b,S);case Fr:var N=b._init;return v(g,h,p,N(b._payload),S)}if(ll(b)||Uo(b))return g=g.get(p)||null,f(h,g,b,S,null);Uc(h,b)}return null}function j(g,h,p,b){for(var S=null,N=null,T=h,k=h=0,A=null;T!==null&&k<p.length;k++){T.index>k?(A=T,T=null):A=T.sibling;var C=y(g,T,p[k],b);if(C===null){T===null&&(T=A);break}e&&T&&C.alternate===null&&t(g,T),h=i(C,h,k),N===null?S=C:N.sibling=C,N=C,T=A}if(k===p.length)return s(g,T),At&&Pa(g,k),S;if(T===null){for(;k<p.length;k++)T=m(g,p[k],b),T!==null&&(h=i(T,h,k),N===null?S=T:N.sibling=T,N=T);return At&&Pa(g,k),S}for(T=r(g,T);k<p.length;k++)A=v(T,g,k,p[k],b),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?k:A.key),h=i(A,h,k),N===null?S=A:N.sibling=A,N=A);return e&&T.forEach(function(I){return t(g,I)}),At&&Pa(g,k),S}function x(g,h,p,b){var S=Uo(p);if(typeof S!="function")throw Error(oe(150));if(p=S.call(p),p==null)throw Error(oe(151));for(var N=S=null,T=h,k=h=0,A=null,C=p.next();T!==null&&!C.done;k++,C=p.next()){T.index>k?(A=T,T=null):A=T.sibling;var I=y(g,T,C.value,b);if(I===null){T===null&&(T=A);break}e&&T&&I.alternate===null&&t(g,T),h=i(I,h,k),N===null?S=I:N.sibling=I,N=I,T=A}if(C.done)return s(g,T),At&&Pa(g,k),S;if(T===null){for(;!C.done;k++,C=p.next())C=m(g,C.value,b),C!==null&&(h=i(C,h,k),N===null?S=C:N.sibling=C,N=C);return At&&Pa(g,k),S}for(T=r(g,T);!C.done;k++,C=p.next())C=v(T,g,k,C.value,b),C!==null&&(e&&C.alternate!==null&&T.delete(C.key===null?k:C.key),h=i(C,h,k),N===null?S=C:N.sibling=C,N=C);return e&&T.forEach(function($){return t(g,$)}),At&&Pa(g,k),S}function w(g,h,p,b){if(typeof p=="object"&&p!==null&&p.type===Ei&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ac:e:{for(var S=p.key,N=h;N!==null;){if(N.key===S){if(S=p.type,S===Ei){if(N.tag===7){s(g,N.sibling),h=a(N,p.props.children),h.return=g,g=h;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Fr&&oy(S)===N.type){s(g,N.sibling),h=a(N,p.props),h.ref=Ko(g,N,p),h.return=g,g=h;break e}s(g,N);break}else t(g,N);N=N.sibling}p.type===Ei?(h=Qa(p.props.children,g.mode,b,p.key),h.return=g,g=h):(b=pd(p.type,p.key,p.props,null,g.mode,b),b.ref=Ko(g,h,p),b.return=g,g=b)}return o(g);case Pi:e:{for(N=p.key;h!==null;){if(h.key===N)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){s(g,h.sibling),h=a(h,p.children||[]),h.return=g,g=h;break e}else{s(g,h);break}else t(g,h);h=h.sibling}h=th(p,g.mode,b),h.return=g,g=h}return o(g);case Fr:return N=p._init,w(g,h,N(p._payload),b)}if(ll(p))return j(g,h,p,b);if(Uo(p))return x(g,h,p,b);Uc(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,h!==null&&h.tag===6?(s(g,h.sibling),h=a(h,p),h.return=g,g=h):(s(g,h),h=eh(p,g.mode,b),h.return=g,g=h),o(g)):s(g,h)}return w}var mo=ab(!0),ib=ab(!1),Fd=ba(null),$d=null,Fi=null,Dp=null;function Op(){Dp=Fi=$d=null}function Lp(e){var t=Fd.current;Tt(Fd),e._currentValue=t}function ef(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function qi(e,t){$d=e,Dp=Fi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ln=!0),e.firstContext=null)}function hs(e){var t=e._currentValue;if(Dp!==e)if(e={context:e,memoizedValue:t,next:null},Fi===null){if($d===null)throw Error(oe(308));Fi=e,$d.dependencies={lanes:0,firstContext:e}}else Fi=Fi.next=e;return t}var _a=null;function Mp(e){_a===null?_a=[e]:_a.push(e)}function ob(e,t,s,r){var a=t.interleaved;return a===null?(s.next=s,Mp(t)):(s.next=a.next,a.next=s),t.interleaved=s,Nr(e,r)}function Nr(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var $r=!1;function Fp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,lt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Nr(e,s)}return a=r.interleaved,a===null?(t.next=t,Mp(r)):(t.next=a.next,a.next=t),r.interleaved=t,Nr(e,s)}function cd(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Np(e,s)}}function ly(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?a=i=o:i=i.next=o,s=s.next}while(s!==null);i===null?a=i=t:i=i.next=t}else a=i=t;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Vd(e,t,s,r){var a=e.updateQueue;$r=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;o=0,f=d=c=null,l=i;do{var y=l.lane,v=l.eventTime;if((r&y)===y){f!==null&&(f=f.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,x=l;switch(y=t,v=s,x.tag){case 1:if(j=x.payload,typeof j=="function"){m=j.call(v,m,y);break e}m=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=x.payload,y=typeof j=="function"?j.call(v,m,y):j,y==null)break e;m=Mt({},m,y);break e;case 2:$r=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,y=a.effects,y===null?a.effects=[l]:y.push(l))}else v={eventTime:v,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=v,c=m):f=f.next=v,o|=y;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;y=l,l=y.next,y.next=null,a.lastBaseUpdate=y,a.shared.pending=null}}while(!0);if(f===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Xa|=o,e.lanes=o,e.memoizedState=m}}function cy(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!="function")throw Error(oe(191,a));a.call(r)}}}var gc={},Zs=ba(gc),Vl=ba(gc),zl=ba(gc);function Da(e){if(e===gc)throw Error(oe(174));return e}function $p(e,t){switch(Ct(zl,t),Ct(Vl,e),Ct(Zs,gc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dh(t,e)}Tt(Zs),Ct(Zs,t)}function ho(){Tt(Zs),Tt(Vl),Tt(zl)}function cb(e){Da(zl.current);var t=Da(Zs.current),s=Dh(t,e.type);t!==s&&(Ct(Vl,e),Ct(Zs,s))}function Vp(e){Vl.current===e&&(Tt(Zs),Tt(Vl))}var Dt=ba(0);function zd(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qm=[];function zp(){for(var e=0;e<Qm.length;e++)Qm[e]._workInProgressVersionPrimary=null;Qm.length=0}var dd=Pr.ReactCurrentDispatcher,Gm=Pr.ReactCurrentBatchConfig,Za=0,Lt=null,Zt=null,nn=null,Ud=!1,jl=!1,Ul=0,H4=0;function hn(){throw Error(oe(321))}function Up(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Rs(e[s],t[s]))return!1;return!0}function Bp(e,t,s,r,a,i){if(Za=i,Lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dd.current=e===null||e.memoizedState===null?Y4:Z4,e=s(r,a),jl){i=0;do{if(jl=!1,Ul=0,25<=i)throw Error(oe(301));i+=1,nn=Zt=null,t.updateQueue=null,dd.current=X4,e=s(r,a)}while(jl)}if(dd.current=Bd,t=Zt!==null&&Zt.next!==null,Za=0,nn=Zt=Lt=null,Ud=!1,t)throw Error(oe(300));return e}function Wp(){var e=Ul!==0;return Ul=0,e}function Bs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Lt.memoizedState=nn=e:nn=nn.next=e,nn}function fs(){if(Zt===null){var e=Lt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var t=nn===null?Lt.memoizedState:nn.next;if(t!==null)nn=t,Zt=e;else{if(e===null)throw Error(oe(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},nn===null?Lt.memoizedState=nn=e:nn=nn.next=e}return nn}function Bl(e,t){return typeof t=="function"?t(e):t}function Ym(e){var t=fs(),s=t.queue;if(s===null)throw Error(oe(311));s.lastRenderedReducer=e;var r=Zt,a=r.baseQueue,i=s.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,s.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,d=i;do{var f=d.lane;if((Za&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,Lt.lanes|=f,Xa|=f}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,Rs(r,t.memoizedState)||(Ln=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){a=e;do i=a.lane,Lt.lanes|=i,Xa|=i,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Zm(e){var t=fs(),s=t.queue;if(s===null)throw Error(oe(311));s.lastRenderedReducer=e;var r=s.dispatch,a=s.pending,i=t.memoizedState;if(a!==null){s.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Rs(i,t.memoizedState)||(Ln=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,r]}function db(){}function ub(e,t){var s=Lt,r=fs(),a=t(),i=!Rs(r.memoizedState,a);if(i&&(r.memoizedState=a,Ln=!0),r=r.queue,qp(fb.bind(null,s,r,e),[e]),r.getSnapshot!==t||i||nn!==null&&nn.memoizedState.tag&1){if(s.flags|=2048,Wl(9,hb.bind(null,s,r,a,t),void 0,null),sn===null)throw Error(oe(349));Za&30||mb(s,t,a)}return a}function mb(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Lt.updateQueue,t===null?(t={lastEffect:null,stores:null},Lt.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function hb(e,t,s,r){t.value=s,t.getSnapshot=r,pb(t)&&xb(e)}function fb(e,t,s){return s(function(){pb(t)&&xb(e)})}function pb(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Rs(e,s)}catch{return!0}}function xb(e){var t=Nr(e,1);t!==null&&Ps(t,e,1,-1)}function dy(e){var t=Bs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:e},t.queue=e,e=e.dispatch=G4.bind(null,Lt,e),[t.memoizedState,e]}function Wl(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=Lt.updateQueue,t===null?(t={lastEffect:null,stores:null},Lt.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function gb(){return fs().memoizedState}function ud(e,t,s,r){var a=Bs();Lt.flags|=e,a.memoizedState=Wl(1|t,s,void 0,r===void 0?null:r)}function Au(e,t,s,r){var a=fs();r=r===void 0?null:r;var i=void 0;if(Zt!==null){var o=Zt.memoizedState;if(i=o.destroy,r!==null&&Up(r,o.deps)){a.memoizedState=Wl(t,s,i,r);return}}Lt.flags|=e,a.memoizedState=Wl(1|t,s,i,r)}function uy(e,t){return ud(8390656,8,e,t)}function qp(e,t){return Au(2048,8,e,t)}function yb(e,t){return Au(4,2,e,t)}function vb(e,t){return Au(4,4,e,t)}function jb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bb(e,t,s){return s=s!=null?s.concat([e]):null,Au(4,4,jb.bind(null,t,e),s)}function Hp(){}function wb(e,t){var s=fs();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Up(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function Nb(e,t){var s=fs();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Up(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function Sb(e,t,s){return Za&21?(Rs(s,t)||(s=Pj(),Lt.lanes|=s,Xa|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ln=!0),e.memoizedState=s)}function K4(e,t){var s=vt;vt=s!==0&&4>s?s:4,e(!0);var r=Gm.transition;Gm.transition={};try{e(!1),t()}finally{vt=s,Gm.transition=r}}function Cb(){return fs().memoizedState}function Q4(e,t,s){var r=oa(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},kb(e))Ib(t,s);else if(s=ob(e,t,s,r),s!==null){var a=Sn();Ps(s,e,r,a),Tb(s,t,r)}}function G4(e,t,s){var r=oa(e),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(kb(e))Ib(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,s);if(a.hasEagerState=!0,a.eagerState=l,Rs(l,o)){var c=t.interleaved;c===null?(a.next=a,Mp(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=ob(e,t,a,r),s!==null&&(a=Sn(),Ps(s,e,r,a),Tb(s,t,r))}}function kb(e){var t=e.alternate;return e===Lt||t!==null&&t===Lt}function Ib(e,t){jl=Ud=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Tb(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Np(e,s)}}var Bd={readContext:hs,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},Y4={readContext:hs,useCallback:function(e,t){return Bs().memoizedState=[e,t===void 0?null:t],e},useContext:hs,useEffect:uy,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,ud(4194308,4,jb.bind(null,t,e),s)},useLayoutEffect:function(e,t){return ud(4194308,4,e,t)},useInsertionEffect:function(e,t){return ud(4,2,e,t)},useMemo:function(e,t){var s=Bs();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=Bs();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Q4.bind(null,Lt,e),[r.memoizedState,e]},useRef:function(e){var t=Bs();return e={current:e},t.memoizedState=e},useState:dy,useDebugValue:Hp,useDeferredValue:function(e){return Bs().memoizedState=e},useTransition:function(){var e=dy(!1),t=e[0];return e=K4.bind(null,e[1]),Bs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=Lt,a=Bs();if(At){if(s===void 0)throw Error(oe(407));s=s()}else{if(s=t(),sn===null)throw Error(oe(349));Za&30||mb(r,t,s)}a.memoizedState=s;var i={value:s,getSnapshot:t};return a.queue=i,uy(fb.bind(null,r,i,e),[e]),r.flags|=2048,Wl(9,hb.bind(null,r,i,s,t),void 0,null),s},useId:function(){var e=Bs(),t=sn.identifierPrefix;if(At){var s=gr,r=xr;s=(r&~(1<<32-Ts(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=Ul++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=H4++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Z4={readContext:hs,useCallback:wb,useContext:hs,useEffect:qp,useImperativeHandle:bb,useInsertionEffect:yb,useLayoutEffect:vb,useMemo:Nb,useReducer:Ym,useRef:gb,useState:function(){return Ym(Bl)},useDebugValue:Hp,useDeferredValue:function(e){var t=fs();return Sb(t,Zt.memoizedState,e)},useTransition:function(){var e=Ym(Bl)[0],t=fs().memoizedState;return[e,t]},useMutableSource:db,useSyncExternalStore:ub,useId:Cb,unstable_isNewReconciler:!1},X4={readContext:hs,useCallback:wb,useContext:hs,useEffect:qp,useImperativeHandle:bb,useInsertionEffect:yb,useLayoutEffect:vb,useMemo:Nb,useReducer:Zm,useRef:gb,useState:function(){return Zm(Bl)},useDebugValue:Hp,useDeferredValue:function(e){var t=fs();return Zt===null?t.memoizedState=e:Sb(t,Zt.memoizedState,e)},useTransition:function(){var e=Zm(Bl)[0],t=fs().memoizedState;return[e,t]},useMutableSource:db,useSyncExternalStore:ub,useId:Cb,unstable_isNewReconciler:!1};function bs(e,t){if(e&&e.defaultProps){t=Mt({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function tf(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:Mt({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ru={isMounted:function(e){return(e=e._reactInternals)?ui(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=Sn(),a=oa(e),i=vr(r,a);i.payload=t,s!=null&&(i.callback=s),t=aa(e,i,a),t!==null&&(Ps(t,e,a,r),cd(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=Sn(),a=oa(e),i=vr(r,a);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=aa(e,i,a),t!==null&&(Ps(t,e,a,r),cd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Sn(),r=oa(e),a=vr(s,r);a.tag=2,t!=null&&(a.callback=t),t=aa(e,a,r),t!==null&&(Ps(t,e,r,s),cd(t,e,r))}};function my(e,t,s,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ll(s,r)||!Ll(a,i):!0}function Pb(e,t,s){var r=!1,a=fa,i=t.contextType;return typeof i=="object"&&i!==null?i=hs(i):(a=Fn(t)?Ga:xn.current,r=t.contextTypes,i=(r=r!=null)?co(e,a):fa),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ru,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function hy(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&Ru.enqueueReplaceState(t,t.state,null)}function nf(e,t,s,r){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Fp(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=hs(i):(i=Fn(t)?Ga:xn.current,a.context=co(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(tf(e,t,i,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ru.enqueueReplaceState(a,a.state,null),Vd(e,s,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function fo(e,t){try{var s="",r=t;do s+=kk(r),r=r.return;while(r);var a=s}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Xm(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function sf(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var J4=typeof WeakMap=="function"?WeakMap:Map;function Eb(e,t,s){s=vr(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){qd||(qd=!0,ff=r),sf(e,t)},s}function Ab(e,t,s){s=vr(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;s.payload=function(){return r(a)},s.callback=function(){sf(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){sf(e,t),typeof r!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function fy(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new J4;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(s)||(a.add(s),e=hI.bind(null,e,t,s),t.then(e,e))}function py(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xy(e,t,s,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=vr(-1,1),t.tag=2,aa(s,t,1))),s.lanes|=1),e)}var eI=Pr.ReactCurrentOwner,Ln=!1;function bn(e,t,s,r){t.child=e===null?ib(t,null,s,r):mo(t,e.child,s,r)}function gy(e,t,s,r,a){s=s.render;var i=t.ref;return qi(t,a),r=Bp(e,t,s,r,i,a),s=Wp(),e!==null&&!Ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Sr(e,t,a)):(At&&s&&Ap(t),t.flags|=1,bn(e,t,r,a),t.child)}function yy(e,t,s,r,a){if(e===null){var i=s.type;return typeof i=="function"&&!ex(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,Rb(e,t,i,r,a)):(e=pd(s.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(s=s.compare,s=s!==null?s:Ll,s(o,r)&&e.ref===t.ref)return Sr(e,t,a)}return t.flags|=1,e=la(i,r),e.ref=t.ref,e.return=t,t.child=e}function Rb(e,t,s,r,a){if(e!==null){var i=e.memoizedProps;if(Ll(i,r)&&e.ref===t.ref)if(Ln=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Ln=!0);else return t.lanes=e.lanes,Sr(e,t,a)}return rf(e,t,s,r,a)}function _b(e,t,s){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(Vi,zn),zn|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ct(Vi,zn),zn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:s,Ct(Vi,zn),zn|=r}else i!==null?(r=i.baseLanes|s,t.memoizedState=null):r=s,Ct(Vi,zn),zn|=r;return bn(e,t,a,s),t.child}function Db(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function rf(e,t,s,r,a){var i=Fn(s)?Ga:xn.current;return i=co(t,i),qi(t,a),s=Bp(e,t,s,r,i,a),r=Wp(),e!==null&&!Ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Sr(e,t,a)):(At&&r&&Ap(t),t.flags|=1,bn(e,t,s,a),t.child)}function vy(e,t,s,r,a){if(Fn(s)){var i=!0;Od(t)}else i=!1;if(qi(t,a),t.stateNode===null)md(e,t),Pb(t,s,r),nf(t,s,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=hs(d):(d=Fn(s)?Ga:xn.current,d=co(t,d));var f=s.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&hy(t,o,r,d),$r=!1;var y=t.memoizedState;o.state=y,Vd(t,r,o,a),c=t.memoizedState,l!==r||y!==c||Mn.current||$r?(typeof f=="function"&&(tf(t,s,f,r),c=t.memoizedState),(l=$r||my(t,s,l,r,y,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,lb(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:bs(t.type,l),o.props=d,m=t.pendingProps,y=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=hs(c):(c=Fn(s)?Ga:xn.current,c=co(t,c));var v=s.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||y!==c)&&hy(t,o,r,c),$r=!1,y=t.memoizedState,o.state=y,Vd(t,r,o,a);var j=t.memoizedState;l!==m||y!==j||Mn.current||$r?(typeof v=="function"&&(tf(t,s,v,r),j=t.memoizedState),(d=$r||my(t,s,d,r,y,j,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,j,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,j,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),o.props=r,o.state=j,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return af(e,t,s,r,i,a)}function af(e,t,s,r,a,i){Db(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&ry(t,s,!1),Sr(e,t,i);r=t.stateNode,eI.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=mo(t,e.child,null,i),t.child=mo(t,null,l,i)):bn(e,t,l,i),t.memoizedState=r.state,a&&ry(t,s,!0),t.child}function Ob(e){var t=e.stateNode;t.pendingContext?sy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sy(e,t.context,!1),$p(e,t.containerInfo)}function jy(e,t,s,r,a){return uo(),_p(a),t.flags|=256,bn(e,t,s,r),t.child}var of={dehydrated:null,treeContext:null,retryLane:0};function lf(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lb(e,t,s){var r=t.pendingProps,a=Dt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ct(Dt,a&1),e===null)return Jh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ou(o,r,0,null),e=Qa(e,r,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=lf(s),t.memoizedState=of,e):Kp(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return tI(e,t,o,r,l,a,s);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=la(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=la(l,i):(i=Qa(i,o,s,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?lf(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~s,t.memoizedState=of,r}return i=e.child,e=i.sibling,r=la(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function Kp(e,t){return t=Ou({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bc(e,t,s,r){return r!==null&&_p(r),mo(t,e.child,null,s),e=Kp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tI(e,t,s,r,a,i,o){if(s)return t.flags&256?(t.flags&=-257,r=Xm(Error(oe(422))),Bc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Ou({mode:"visible",children:r.children},a,0,null),i=Qa(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&mo(t,e.child,null,o),t.child.memoizedState=lf(o),t.memoizedState=of,i);if(!(t.mode&1))return Bc(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(oe(419)),r=Xm(i,r,void 0),Bc(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ln||l){if(r=sn,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Nr(e,a),Ps(r,e,a,-1))}return Jp(),r=Xm(Error(oe(421))),Bc(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=fI.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,qn=ra(a.nextSibling),Hn=t,At=!0,Cs=null,e!==null&&(is[os++]=xr,is[os++]=gr,is[os++]=Ya,xr=e.id,gr=e.overflow,Ya=t),t=Kp(t,r.children),t.flags|=4096,t)}function by(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ef(e.return,t,s)}function Jm(e,t,s,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=s,i.tailMode=a)}function Mb(e,t,s){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(bn(e,t,r.children,s),r=Dt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&by(e,s,t);else if(e.tag===19)by(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ct(Dt,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&zd(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),Jm(t,!1,a,s,i);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&zd(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}Jm(t,!0,s,null,i);break;case"together":Jm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function md(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sr(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Xa|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,s=la(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=la(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function nI(e,t,s){switch(t.tag){case 3:Ob(t),uo();break;case 5:cb(t);break;case 1:Fn(t.type)&&Od(t);break;case 4:$p(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ct(Fd,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ct(Dt,Dt.current&1),t.flags|=128,null):s&t.child.childLanes?Lb(e,t,s):(Ct(Dt,Dt.current&1),e=Sr(e,t,s),e!==null?e.sibling:null);Ct(Dt,Dt.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return Mb(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ct(Dt,Dt.current),r)break;return null;case 22:case 23:return t.lanes=0,_b(e,t,s)}return Sr(e,t,s)}var Fb,cf,$b,Vb;Fb=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};cf=function(){};$b=function(e,t,s,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Da(Zs.current);var i=null;switch(s){case"input":a=Eh(e,a),r=Eh(e,r),i=[];break;case"select":a=Mt({},a,{value:void 0}),r=Mt({},r,{value:void 0}),i=[];break;case"textarea":a=_h(e,a),r=_h(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_d)}Oh(s,r);var o;s=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Pl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(i||(i=[]),i.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Pl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&It("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Vb=function(e,t,s,r){s!==r&&(t.flags|=4)};function Qo(e,t){if(!At)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fn(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function sI(e,t,s){var r=t.pendingProps;switch(Rp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(t),null;case 1:return Fn(t.type)&&Dd(),fn(t),null;case 3:return r=t.stateNode,ho(),Tt(Mn),Tt(xn),zp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cs!==null&&(gf(Cs),Cs=null))),cf(e,t),fn(t),null;case 5:Vp(t);var a=Da(zl.current);if(s=t.type,e!==null&&t.stateNode!=null)$b(e,t,s,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(oe(166));return fn(t),null}if(e=Da(Zs.current),zc(t)){r=t.stateNode,s=t.type;var i=t.memoizedProps;switch(r[Ks]=t,r[$l]=i,e=(t.mode&1)!==0,s){case"dialog":It("cancel",r),It("close",r);break;case"iframe":case"object":case"embed":It("load",r);break;case"video":case"audio":for(a=0;a<dl.length;a++)It(dl[a],r);break;case"source":It("error",r);break;case"img":case"image":case"link":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"input":Eg(r,i),It("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},It("invalid",r);break;case"textarea":Rg(r,i),It("invalid",r)}Oh(s,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Vc(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Vc(r.textContent,l,e),a=["children",""+l]):Pl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&It("scroll",r)}switch(s){case"input":Rc(r),Ag(r,i,!0);break;case"textarea":Rc(r),_g(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=_d)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fj(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(s,{is:r.is}):(e=o.createElement(s),s==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,s),e[Ks]=t,e[$l]=r,Fb(e,t,!1,!1),t.stateNode=e;e:{switch(o=Lh(s,r),s){case"dialog":It("cancel",e),It("close",e),a=r;break;case"iframe":case"object":case"embed":It("load",e),a=r;break;case"video":case"audio":for(a=0;a<dl.length;a++)It(dl[a],e);a=r;break;case"source":It("error",e),a=r;break;case"img":case"image":case"link":It("error",e),It("load",e),a=r;break;case"details":It("toggle",e),a=r;break;case"input":Eg(e,r),a=Eh(e,r),It("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Mt({},r,{value:void 0}),It("invalid",e);break;case"textarea":Rg(e,r),a=_h(e,r),It("invalid",e);break;default:a=r}Oh(s,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?gj(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&pj(e,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&El(e,c):typeof c=="number"&&El(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&It("scroll",e):c!=null&&gp(e,i,c,o))}switch(s){case"input":Rc(e),Ag(e,r,!1);break;case"textarea":Rc(e),_g(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ha(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?zi(e,!!r.multiple,i,!1):r.defaultValue!=null&&zi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=_d)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fn(t),null;case 6:if(e&&t.stateNode!=null)Vb(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(oe(166));if(s=Da(zl.current),Da(Zs.current),zc(t)){if(r=t.stateNode,s=t.memoizedProps,r[Ks]=t,(i=r.nodeValue!==s)&&(e=Hn,e!==null))switch(e.tag){case 3:Vc(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vc(r.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Ks]=t,t.stateNode=r}return fn(t),null;case 13:if(Tt(Dt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(At&&qn!==null&&t.mode&1&&!(t.flags&128))rb(),uo(),t.flags|=98560,i=!1;else if(i=zc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(oe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(oe(317));i[Ks]=t}else uo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fn(t),i=!1}else Cs!==null&&(gf(Cs),Cs=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Dt.current&1?Jt===0&&(Jt=3):Jp())),t.updateQueue!==null&&(t.flags|=4),fn(t),null);case 4:return ho(),cf(e,t),e===null&&Ml(t.stateNode.containerInfo),fn(t),null;case 10:return Lp(t.type._context),fn(t),null;case 17:return Fn(t.type)&&Dd(),fn(t),null;case 19:if(Tt(Dt),i=t.memoizedState,i===null)return fn(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Qo(i,!1);else{if(Jt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=zd(e),o!==null){for(t.flags|=128,Qo(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)i=s,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ct(Dt,Dt.current&1|2),t.child}e=e.sibling}i.tail!==null&&zt()>po&&(t.flags|=128,r=!0,Qo(i,!1),t.lanes=4194304)}else{if(!r)if(e=zd(o),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Qo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!At)return fn(t),null}else 2*zt()-i.renderingStartTime>po&&s!==1073741824&&(t.flags|=128,r=!0,Qo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(s=i.last,s!==null?s.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=zt(),t.sibling=null,s=Dt.current,Ct(Dt,r?s&1|2:s&1),t):(fn(t),null);case 22:case 23:return Xp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zn&1073741824&&(fn(t),t.subtreeFlags&6&&(t.flags|=8192)):fn(t),null;case 24:return null;case 25:return null}throw Error(oe(156,t.tag))}function rI(e,t){switch(Rp(t),t.tag){case 1:return Fn(t.type)&&Dd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ho(),Tt(Mn),Tt(xn),zp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vp(t),null;case 13:if(Tt(Dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(oe(340));uo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Tt(Dt),null;case 4:return ho(),null;case 10:return Lp(t.type._context),null;case 22:case 23:return Xp(),null;case 24:return null;default:return null}}var Wc=!1,pn=!1,aI=typeof WeakSet=="function"?WeakSet:Set,ve=null;function $i(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){$t(e,t,r)}else s.current=null}function df(e,t,s){try{s()}catch(r){$t(e,t,r)}}var wy=!1;function iI(e,t){if(Hh=Ed,e=qj(),Ep(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,f=0,m=e,y=null;t:for(;;){for(var v;m!==s||a!==0&&m.nodeType!==3||(l=o+a),m!==i||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(v=m.firstChild)!==null;)y=m,m=v;for(;;){if(m===e)break t;if(y===s&&++d===a&&(l=o),y===i&&++f===r&&(c=o),(v=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=v}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Kh={focusedElem:e,selectionRange:s},Ed=!1,ve=t;ve!==null;)if(t=ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ve=e;else for(;ve!==null;){t=ve;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var x=j.memoizedProps,w=j.memoizedState,g=t.stateNode,h=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:bs(t.type,x),w);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(b){$t(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,ve=e;break}ve=t.return}return j=wy,wy=!1,j}function bl(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&df(t,s,i)}a=a.next}while(a!==r)}}function _u(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function uf(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function zb(e){var t=e.alternate;t!==null&&(e.alternate=null,zb(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ks],delete t[$l],delete t[Yh],delete t[U4],delete t[B4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ub(e){return e.tag===5||e.tag===3||e.tag===4}function Ny(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ub(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mf(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=_d));else if(r!==4&&(e=e.child,e!==null))for(mf(e,t,s),e=e.sibling;e!==null;)mf(e,t,s),e=e.sibling}function hf(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(hf(e,t,s),e=e.sibling;e!==null;)hf(e,t,s),e=e.sibling}var cn=null,Ss=!1;function Ar(e,t,s){for(s=s.child;s!==null;)Bb(e,t,s),s=s.sibling}function Bb(e,t,s){if(Ys&&typeof Ys.onCommitFiberUnmount=="function")try{Ys.onCommitFiberUnmount(Cu,s)}catch{}switch(s.tag){case 5:pn||$i(s,t);case 6:var r=cn,a=Ss;cn=null,Ar(e,t,s),cn=r,Ss=a,cn!==null&&(Ss?(e=cn,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):cn.removeChild(s.stateNode));break;case 18:cn!==null&&(Ss?(e=cn,s=s.stateNode,e.nodeType===8?Hm(e.parentNode,s):e.nodeType===1&&Hm(e,s),Dl(e)):Hm(cn,s.stateNode));break;case 4:r=cn,a=Ss,cn=s.stateNode.containerInfo,Ss=!0,Ar(e,t,s),cn=r,Ss=a;break;case 0:case 11:case 14:case 15:if(!pn&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&df(s,t,o),a=a.next}while(a!==r)}Ar(e,t,s);break;case 1:if(!pn&&($i(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(l){$t(s,t,l)}Ar(e,t,s);break;case 21:Ar(e,t,s);break;case 22:s.mode&1?(pn=(r=pn)||s.memoizedState!==null,Ar(e,t,s),pn=r):Ar(e,t,s);break;default:Ar(e,t,s)}}function Sy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new aI),t.forEach(function(r){var a=pI.bind(null,e,r);s.has(r)||(s.add(r),r.then(a,a))})}}function vs(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:cn=l.stateNode,Ss=!1;break e;case 3:cn=l.stateNode.containerInfo,Ss=!0;break e;case 4:cn=l.stateNode.containerInfo,Ss=!0;break e}l=l.return}if(cn===null)throw Error(oe(160));Bb(i,o,a),cn=null,Ss=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){$t(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wb(t,e),t=t.sibling}function Wb(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),zs(e),r&4){try{bl(3,e,e.return),_u(3,e)}catch(x){$t(e,e.return,x)}try{bl(5,e,e.return)}catch(x){$t(e,e.return,x)}}break;case 1:vs(t,e),zs(e),r&512&&s!==null&&$i(s,s.return);break;case 5:if(vs(t,e),zs(e),r&512&&s!==null&&$i(s,s.return),e.flags&32){var a=e.stateNode;try{El(a,"")}catch(x){$t(e,e.return,x)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=s!==null?s.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&mj(a,i),Lh(l,o);var d=Lh(l,i);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?gj(a,m):f==="dangerouslySetInnerHTML"?pj(a,m):f==="children"?El(a,m):gp(a,f,m,d)}switch(l){case"input":Ah(a,i);break;case"textarea":hj(a,i);break;case"select":var y=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?zi(a,!!i.multiple,v,!1):y!==!!i.multiple&&(i.defaultValue!=null?zi(a,!!i.multiple,i.defaultValue,!0):zi(a,!!i.multiple,i.multiple?[]:"",!1))}a[$l]=i}catch(x){$t(e,e.return,x)}}break;case 6:if(vs(t,e),zs(e),r&4){if(e.stateNode===null)throw Error(oe(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){$t(e,e.return,x)}}break;case 3:if(vs(t,e),zs(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Dl(t.containerInfo)}catch(x){$t(e,e.return,x)}break;case 4:vs(t,e),zs(e);break;case 13:vs(t,e),zs(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Yp=zt())),r&4&&Sy(e);break;case 22:if(f=s!==null&&s.memoizedState!==null,e.mode&1?(pn=(d=pn)||f,vs(t,e),pn=d):vs(t,e),zs(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(ve=e,f=e.child;f!==null;){for(m=ve=f;ve!==null;){switch(y=ve,v=y.child,y.tag){case 0:case 11:case 14:case 15:bl(4,y,y.return);break;case 1:$i(y,y.return);var j=y.stateNode;if(typeof j.componentWillUnmount=="function"){r=y,s=y.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(x){$t(r,s,x)}}break;case 5:$i(y,y.return);break;case 22:if(y.memoizedState!==null){ky(m);continue}}v!==null?(v.return=y,ve=v):ky(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=xj("display",o))}catch(x){$t(e,e.return,x)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){$t(e,e.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:vs(t,e),zs(e),r&4&&Sy(e);break;case 21:break;default:vs(t,e),zs(e)}}function zs(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Ub(s)){var r=s;break e}s=s.return}throw Error(oe(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(El(a,""),r.flags&=-33);var i=Ny(e);hf(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ny(e);mf(e,l,o);break;default:throw Error(oe(161))}}catch(c){$t(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function oI(e,t,s){ve=e,qb(e)}function qb(e,t,s){for(var r=(e.mode&1)!==0;ve!==null;){var a=ve,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Wc;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||pn;l=Wc;var d=pn;if(Wc=o,(pn=c)&&!d)for(ve=a;ve!==null;)o=ve,c=o.child,o.tag===22&&o.memoizedState!==null?Iy(a):c!==null?(c.return=o,ve=c):Iy(a);for(;i!==null;)ve=i,qb(i),i=i.sibling;ve=a,Wc=l,pn=d}Cy(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ve=i):Cy(e)}}function Cy(e){for(;ve!==null;){var t=ve;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pn||_u(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pn)if(s===null)r.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:bs(t.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&cy(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}cy(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Dl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}pn||t.flags&512&&uf(t)}catch(y){$t(t,t.return,y)}}if(t===e){ve=null;break}if(s=t.sibling,s!==null){s.return=t.return,ve=s;break}ve=t.return}}function ky(e){for(;ve!==null;){var t=ve;if(t===e){ve=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ve=s;break}ve=t.return}}function Iy(e){for(;ve!==null;){var t=ve;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{_u(4,t)}catch(c){$t(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){$t(t,a,c)}}var i=t.return;try{uf(t)}catch(c){$t(t,i,c)}break;case 5:var o=t.return;try{uf(t)}catch(c){$t(t,o,c)}}}catch(c){$t(t,t.return,c)}if(t===e){ve=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ve=l;break}ve=t.return}}var lI=Math.ceil,Wd=Pr.ReactCurrentDispatcher,Qp=Pr.ReactCurrentOwner,ds=Pr.ReactCurrentBatchConfig,lt=0,sn=null,Qt=null,un=0,zn=0,Vi=ba(0),Jt=0,ql=null,Xa=0,Du=0,Gp=0,wl=null,On=null,Yp=0,po=1/0,dr=null,qd=!1,ff=null,ia=null,qc=!1,Jr=null,Hd=0,Nl=0,pf=null,hd=-1,fd=0;function Sn(){return lt&6?zt():hd!==-1?hd:hd=zt()}function oa(e){return e.mode&1?lt&2&&un!==0?un&-un:q4.transition!==null?(fd===0&&(fd=Pj()),fd):(e=vt,e!==0||(e=window.event,e=e===void 0?16:Lj(e.type)),e):1}function Ps(e,t,s,r){if(50<Nl)throw Nl=0,pf=null,Error(oe(185));fc(e,s,r),(!(lt&2)||e!==sn)&&(e===sn&&(!(lt&2)&&(Du|=s),Jt===4&&Ur(e,un)),$n(e,r),s===1&&lt===0&&!(t.mode&1)&&(po=zt()+500,Eu&&wa()))}function $n(e,t){var s=e.callbackNode;qk(e,t);var r=Pd(e,e===sn?un:0);if(r===0)s!==null&&Lg(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&Lg(s),t===1)e.tag===0?W4(Ty.bind(null,e)):tb(Ty.bind(null,e)),V4(function(){!(lt&6)&&wa()}),s=null;else{switch(Ej(r)){case 1:s=wp;break;case 4:s=Ij;break;case 16:s=Td;break;case 536870912:s=Tj;break;default:s=Td}s=Jb(s,Hb.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Hb(e,t){if(hd=-1,fd=0,lt&6)throw Error(oe(327));var s=e.callbackNode;if(Hi()&&e.callbackNode!==s)return null;var r=Pd(e,e===sn?un:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Kd(e,r);else{t=r;var a=lt;lt|=2;var i=Qb();(sn!==e||un!==t)&&(dr=null,po=zt()+500,Ka(e,t));do try{uI();break}catch(l){Kb(e,l)}while(!0);Op(),Wd.current=i,lt=a,Qt!==null?t=0:(sn=null,un=0,t=Jt)}if(t!==0){if(t===2&&(a=zh(e),a!==0&&(r=a,t=xf(e,a))),t===1)throw s=ql,Ka(e,0),Ur(e,r),$n(e,zt()),s;if(t===6)Ur(e,r);else{if(a=e.current.alternate,!(r&30)&&!cI(a)&&(t=Kd(e,r),t===2&&(i=zh(e),i!==0&&(r=i,t=xf(e,i))),t===1))throw s=ql,Ka(e,0),Ur(e,r),$n(e,zt()),s;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(oe(345));case 2:Ea(e,On,dr);break;case 3:if(Ur(e,r),(r&130023424)===r&&(t=Yp+500-zt(),10<t)){if(Pd(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Sn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Gh(Ea.bind(null,e,On,dr),t);break}Ea(e,On,dr);break;case 4:if(Ur(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Ts(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=zt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lI(r/1960))-r,10<r){e.timeoutHandle=Gh(Ea.bind(null,e,On,dr),r);break}Ea(e,On,dr);break;case 5:Ea(e,On,dr);break;default:throw Error(oe(329))}}}return $n(e,zt()),e.callbackNode===s?Hb.bind(null,e):null}function xf(e,t){var s=wl;return e.current.memoizedState.isDehydrated&&(Ka(e,t).flags|=256),e=Kd(e,t),e!==2&&(t=On,On=s,t!==null&&gf(t)),e}function gf(e){On===null?On=e:On.push.apply(On,e)}function cI(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],i=a.getSnapshot;a=a.value;try{if(!Rs(i(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ur(e,t){for(t&=~Gp,t&=~Du,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Ts(t),r=1<<s;e[s]=-1,t&=~r}}function Ty(e){if(lt&6)throw Error(oe(327));Hi();var t=Pd(e,0);if(!(t&1))return $n(e,zt()),null;var s=Kd(e,t);if(e.tag!==0&&s===2){var r=zh(e);r!==0&&(t=r,s=xf(e,r))}if(s===1)throw s=ql,Ka(e,0),Ur(e,t),$n(e,zt()),s;if(s===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ea(e,On,dr),$n(e,zt()),null}function Zp(e,t){var s=lt;lt|=1;try{return e(t)}finally{lt=s,lt===0&&(po=zt()+500,Eu&&wa())}}function Ja(e){Jr!==null&&Jr.tag===0&&!(lt&6)&&Hi();var t=lt;lt|=1;var s=ds.transition,r=vt;try{if(ds.transition=null,vt=1,e)return e()}finally{vt=r,ds.transition=s,lt=t,!(lt&6)&&wa()}}function Xp(){zn=Vi.current,Tt(Vi)}function Ka(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,$4(s)),Qt!==null)for(s=Qt.return;s!==null;){var r=s;switch(Rp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dd();break;case 3:ho(),Tt(Mn),Tt(xn),zp();break;case 5:Vp(r);break;case 4:ho();break;case 13:Tt(Dt);break;case 19:Tt(Dt);break;case 10:Lp(r.type._context);break;case 22:case 23:Xp()}s=s.return}if(sn=e,Qt=e=la(e.current,null),un=zn=t,Jt=0,ql=null,Gp=Du=Xa=0,On=wl=null,_a!==null){for(t=0;t<_a.length;t++)if(s=_a[t],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,i=s.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}s.pending=r}_a=null}return e}function Kb(e,t){do{var s=Qt;try{if(Op(),dd.current=Bd,Ud){for(var r=Lt.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Ud=!1}if(Za=0,nn=Zt=Lt=null,jl=!1,Ul=0,Qp.current=null,s===null||s.return===null){Jt=1,ql=t,Qt=null;break}e:{var i=e,o=s.return,l=s,c=t;if(t=un,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=py(o);if(v!==null){v.flags&=-257,xy(v,o,l,i,t),v.mode&1&&fy(i,d,t),t=v,c=d;var j=t.updateQueue;if(j===null){var x=new Set;x.add(c),t.updateQueue=x}else j.add(c);break e}else{if(!(t&1)){fy(i,d,t),Jp();break e}c=Error(oe(426))}}else if(At&&l.mode&1){var w=py(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),xy(w,o,l,i,t),_p(fo(c,l));break e}}i=c=fo(c,l),Jt!==4&&(Jt=2),wl===null?wl=[i]:wl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Eb(i,c,t);ly(i,g);break e;case 1:l=c;var h=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ia===null||!ia.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Ab(i,l,t);ly(i,b);break e}}i=i.return}while(i!==null)}Yb(s)}catch(S){t=S,Qt===s&&s!==null&&(Qt=s=s.return);continue}break}while(!0)}function Qb(){var e=Wd.current;return Wd.current=Bd,e===null?Bd:e}function Jp(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),sn===null||!(Xa&268435455)&&!(Du&268435455)||Ur(sn,un)}function Kd(e,t){var s=lt;lt|=2;var r=Qb();(sn!==e||un!==t)&&(dr=null,Ka(e,t));do try{dI();break}catch(a){Kb(e,a)}while(!0);if(Op(),lt=s,Wd.current=r,Qt!==null)throw Error(oe(261));return sn=null,un=0,Jt}function dI(){for(;Qt!==null;)Gb(Qt)}function uI(){for(;Qt!==null&&!Lk();)Gb(Qt)}function Gb(e){var t=Xb(e.alternate,e,zn);e.memoizedProps=e.pendingProps,t===null?Yb(e):Qt=t,Qp.current=null}function Yb(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=rI(s,t),s!==null){s.flags&=32767,Qt=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Jt=6,Qt=null;return}}else if(s=sI(s,t,zn),s!==null){Qt=s;return}if(t=t.sibling,t!==null){Qt=t;return}Qt=t=e}while(t!==null);Jt===0&&(Jt=5)}function Ea(e,t,s){var r=vt,a=ds.transition;try{ds.transition=null,vt=1,mI(e,t,s,r)}finally{ds.transition=a,vt=r}return null}function mI(e,t,s,r){do Hi();while(Jr!==null);if(lt&6)throw Error(oe(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(Hk(e,i),e===sn&&(Qt=sn=null,un=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||qc||(qc=!0,Jb(Td,function(){return Hi(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=ds.transition,ds.transition=null;var o=vt;vt=1;var l=lt;lt|=4,Qp.current=null,iI(e,s),Wb(s,e),R4(Kh),Ed=!!Hh,Kh=Hh=null,e.current=s,oI(s),Mk(),lt=l,vt=o,ds.transition=i}else e.current=s;if(qc&&(qc=!1,Jr=e,Hd=a),i=e.pendingLanes,i===0&&(ia=null),Vk(s.stateNode),$n(e,zt()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(qd)throw qd=!1,e=ff,ff=null,e;return Hd&1&&e.tag!==0&&Hi(),i=e.pendingLanes,i&1?e===pf?Nl++:(Nl=0,pf=e):Nl=0,wa(),null}function Hi(){if(Jr!==null){var e=Ej(Hd),t=ds.transition,s=vt;try{if(ds.transition=null,vt=16>e?16:e,Jr===null)var r=!1;else{if(e=Jr,Jr=null,Hd=0,lt&6)throw Error(oe(331));var a=lt;for(lt|=4,ve=e.current;ve!==null;){var i=ve,o=i.child;if(ve.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ve=d;ve!==null;){var f=ve;switch(f.tag){case 0:case 11:case 15:bl(8,f,i)}var m=f.child;if(m!==null)m.return=f,ve=m;else for(;ve!==null;){f=ve;var y=f.sibling,v=f.return;if(zb(f),f===d){ve=null;break}if(y!==null){y.return=v,ve=y;break}ve=v}}}var j=i.alternate;if(j!==null){var x=j.child;if(x!==null){j.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}ve=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ve=o;else e:for(;ve!==null;){if(i=ve,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bl(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ve=g;break e}ve=i.return}}var h=e.current;for(ve=h;ve!==null;){o=ve;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,ve=p;else e:for(o=h;ve!==null;){if(l=ve,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_u(9,l)}}catch(S){$t(l,l.return,S)}if(l===o){ve=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,ve=b;break e}ve=l.return}}if(lt=a,wa(),Ys&&typeof Ys.onPostCommitFiberRoot=="function")try{Ys.onPostCommitFiberRoot(Cu,e)}catch{}r=!0}return r}finally{vt=s,ds.transition=t}}return!1}function Py(e,t,s){t=fo(s,t),t=Eb(e,t,1),e=aa(e,t,1),t=Sn(),e!==null&&(fc(e,1,t),$n(e,t))}function $t(e,t,s){if(e.tag===3)Py(e,e,s);else for(;t!==null;){if(t.tag===3){Py(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ia===null||!ia.has(r))){e=fo(s,e),e=Ab(t,e,1),t=aa(t,e,1),e=Sn(),t!==null&&(fc(t,1,e),$n(t,e));break}}t=t.return}}function hI(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=Sn(),e.pingedLanes|=e.suspendedLanes&s,sn===e&&(un&s)===s&&(Jt===4||Jt===3&&(un&130023424)===un&&500>zt()-Yp?Ka(e,0):Gp|=s),$n(e,t)}function Zb(e,t){t===0&&(e.mode&1?(t=Oc,Oc<<=1,!(Oc&130023424)&&(Oc=4194304)):t=1);var s=Sn();e=Nr(e,t),e!==null&&(fc(e,t,s),$n(e,s))}function fI(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Zb(e,s)}function pI(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(t),Zb(e,s)}var Xb;Xb=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mn.current)Ln=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Ln=!1,nI(e,t,s);Ln=!!(e.flags&131072)}else Ln=!1,At&&t.flags&1048576&&nb(t,Md,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;md(e,t),e=t.pendingProps;var a=co(t,xn.current);qi(t,s),a=Bp(null,t,r,e,a,s);var i=Wp();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fn(r)?(i=!0,Od(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Fp(t),a.updater=Ru,t.stateNode=a,a._reactInternals=t,nf(t,r,e,s),t=af(null,t,r,!0,i,s)):(t.tag=0,At&&i&&Ap(t),bn(null,t,a,s),t=t.child),t;case 16:r=t.elementType;e:{switch(md(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=gI(r),e=bs(r,e),a){case 0:t=rf(null,t,r,e,s);break e;case 1:t=vy(null,t,r,e,s);break e;case 11:t=gy(null,t,r,e,s);break e;case 14:t=yy(null,t,r,bs(r.type,e),s);break e}throw Error(oe(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:bs(r,a),rf(e,t,r,a,s);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:bs(r,a),vy(e,t,r,a,s);case 3:e:{if(Ob(t),e===null)throw Error(oe(387));r=t.pendingProps,i=t.memoizedState,a=i.element,lb(e,t),Vd(t,r,null,s);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=fo(Error(oe(423)),t),t=jy(e,t,r,s,a);break e}else if(r!==a){a=fo(Error(oe(424)),t),t=jy(e,t,r,s,a);break e}else for(qn=ra(t.stateNode.containerInfo.firstChild),Hn=t,At=!0,Cs=null,s=ib(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(uo(),r===a){t=Sr(e,t,s);break e}bn(e,t,r,s)}t=t.child}return t;case 5:return cb(t),e===null&&Jh(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Qh(r,a)?o=null:i!==null&&Qh(r,i)&&(t.flags|=32),Db(e,t),bn(e,t,o,s),t.child;case 6:return e===null&&Jh(t),null;case 13:return Lb(e,t,s);case 4:return $p(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mo(t,null,r,s):bn(e,t,r,s),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:bs(r,a),gy(e,t,r,a,s);case 7:return bn(e,t,t.pendingProps,s),t.child;case 8:return bn(e,t,t.pendingProps.children,s),t.child;case 12:return bn(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Ct(Fd,r._currentValue),r._currentValue=o,i!==null)if(Rs(i.value,o)){if(i.children===a.children&&!Mn.current){t=Sr(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=vr(-1,s&-s),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),ef(i.return,s,t),l.lanes|=s;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(oe(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),ef(o,s,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}bn(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,qi(t,s),a=hs(a),r=r(a),t.flags|=1,bn(e,t,r,s),t.child;case 14:return r=t.type,a=bs(r,t.pendingProps),a=bs(r.type,a),yy(e,t,r,a,s);case 15:return Rb(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:bs(r,a),md(e,t),t.tag=1,Fn(r)?(e=!0,Od(t)):e=!1,qi(t,s),Pb(t,r,a),nf(t,r,a,s),af(null,t,r,!0,e,s);case 19:return Mb(e,t,s);case 22:return _b(e,t,s)}throw Error(oe(156,t.tag))};function Jb(e,t){return kj(e,t)}function xI(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ls(e,t,s,r){return new xI(e,t,s,r)}function ex(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gI(e){if(typeof e=="function")return ex(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vp)return 11;if(e===jp)return 14}return 2}function la(e,t){var s=e.alternate;return s===null?(s=ls(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function pd(e,t,s,r,a,i){var o=2;if(r=e,typeof e=="function")ex(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ei:return Qa(s.children,a,i,t);case yp:o=8,a|=8;break;case kh:return e=ls(12,s,t,a|2),e.elementType=kh,e.lanes=i,e;case Ih:return e=ls(13,s,t,a),e.elementType=Ih,e.lanes=i,e;case Th:return e=ls(19,s,t,a),e.elementType=Th,e.lanes=i,e;case cj:return Ou(s,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oj:o=10;break e;case lj:o=9;break e;case vp:o=11;break e;case jp:o=14;break e;case Fr:o=16,r=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=ls(o,s,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Qa(e,t,s,r){return e=ls(7,e,r,t),e.lanes=s,e}function Ou(e,t,s,r){return e=ls(22,e,r,t),e.elementType=cj,e.lanes=s,e.stateNode={isHidden:!1},e}function eh(e,t,s){return e=ls(6,e,null,t),e.lanes=s,e}function th(e,t,s){return t=ls(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yI(e,t,s,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Om(0),this.expirationTimes=Om(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Om(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function tx(e,t,s,r,a,i,o,l,c){return e=new yI(e,t,s,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ls(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fp(i),e}function vI(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function ew(e){if(!e)return fa;e=e._reactInternals;e:{if(ui(e)!==e||e.tag!==1)throw Error(oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(oe(171))}if(e.tag===1){var s=e.type;if(Fn(s))return eb(e,s,t)}return t}function tw(e,t,s,r,a,i,o,l,c){return e=tx(s,r,!0,e,a,i,o,l,c),e.context=ew(null),s=e.current,r=Sn(),a=oa(s),i=vr(r,a),i.callback=t??null,aa(s,i,a),e.current.lanes=a,fc(e,a,r),$n(e,r),e}function Lu(e,t,s,r){var a=t.current,i=Sn(),o=oa(a);return s=ew(s),t.context===null?t.context=s:t.pendingContext=s,t=vr(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=aa(a,t,o),e!==null&&(Ps(e,a,o,i),cd(e,a,o)),o}function Qd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ey(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function nx(e,t){Ey(e,t),(e=e.alternate)&&Ey(e,t)}function jI(){return null}var nw=typeof reportError=="function"?reportError:function(e){console.error(e)};function sx(e){this._internalRoot=e}Mu.prototype.render=sx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(oe(409));Lu(e,t,null,null)};Mu.prototype.unmount=sx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ja(function(){Lu(null,e,null,null)}),t[wr]=null}};function Mu(e){this._internalRoot=e}Mu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_j();e={blockedOn:null,target:e,priority:t};for(var s=0;s<zr.length&&t!==0&&t<zr[s].priority;s++);zr.splice(s,0,e),s===0&&Oj(e)}};function rx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ay(){}function bI(e,t,s,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var d=Qd(o);i.call(d)}}var o=tw(t,r,e,0,null,!1,!1,"",Ay);return e._reactRootContainer=o,e[wr]=o.current,Ml(e.nodeType===8?e.parentNode:e),Ja(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var d=Qd(c);l.call(d)}}var c=tx(e,0,!1,null,null,!1,!1,"",Ay);return e._reactRootContainer=c,e[wr]=c.current,Ml(e.nodeType===8?e.parentNode:e),Ja(function(){Lu(t,c,s,r)}),c}function $u(e,t,s,r,a){var i=s._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Qd(o);l.call(c)}}Lu(t,o,e,a)}else o=bI(s,t,e,a,r);return Qd(o)}Aj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=cl(t.pendingLanes);s!==0&&(Np(t,s|1),$n(t,zt()),!(lt&6)&&(po=zt()+500,wa()))}break;case 13:Ja(function(){var r=Nr(e,1);if(r!==null){var a=Sn();Ps(r,e,1,a)}}),nx(e,1)}};Sp=function(e){if(e.tag===13){var t=Nr(e,134217728);if(t!==null){var s=Sn();Ps(t,e,134217728,s)}nx(e,134217728)}};Rj=function(e){if(e.tag===13){var t=oa(e),s=Nr(e,t);if(s!==null){var r=Sn();Ps(s,e,t,r)}nx(e,t)}};_j=function(){return vt};Dj=function(e,t){var s=vt;try{return vt=e,t()}finally{vt=s}};Fh=function(e,t,s){switch(t){case"input":if(Ah(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var a=Pu(r);if(!a)throw Error(oe(90));uj(r),Ah(r,a)}}}break;case"textarea":hj(e,s);break;case"select":t=s.value,t!=null&&zi(e,!!s.multiple,t,!1)}};jj=Zp;bj=Ja;var wI={usingClientEntryPoint:!1,Events:[xc,Di,Pu,yj,vj,Zp]},Go={findFiberByHostInstance:Ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NI={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sj(e),e===null?null:e.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||jI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{Cu=Hc.inject(NI),Ys=Hc}catch{}}Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wI;Zn.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rx(t))throw Error(oe(200));return vI(e,t,null,s)};Zn.createRoot=function(e,t){if(!rx(e))throw Error(oe(299));var s=!1,r="",a=nw;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=tx(e,1,!1,null,null,s,!1,r,a),e[wr]=t.current,Ml(e.nodeType===8?e.parentNode:e),new sx(t)};Zn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=Sj(t),e=e===null?null:e.stateNode,e};Zn.flushSync=function(e){return Ja(e)};Zn.hydrate=function(e,t,s){if(!Fu(t))throw Error(oe(200));return $u(null,e,t,!0,s)};Zn.hydrateRoot=function(e,t,s){if(!rx(e))throw Error(oe(405));var r=s!=null&&s.hydratedSources||null,a=!1,i="",o=nw;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=tw(t,null,e,1,s??null,a,!1,i,o),e[wr]=t.current,Ml(e),r)for(e=0;e<r.length;e++)s=r[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new Mu(t)};Zn.render=function(e,t,s){if(!Fu(t))throw Error(oe(200));return $u(null,e,t,!1,s)};Zn.unmountComponentAtNode=function(e){if(!Fu(e))throw Error(oe(40));return e._reactRootContainer?(Ja(function(){$u(null,null,e,!1,function(){e._reactRootContainer=null,e[wr]=null})}),!0):!1};Zn.unstable_batchedUpdates=Zp;Zn.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Fu(s))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return $u(e,t,s,!1,r)};Zn.version="18.3.1-next-f1338f8080-20240426";function sw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sw)}catch(e){console.error(e)}}sw(),sj.exports=Zn;var mi=sj.exports;const SI=q0(mi);var rw,Ry=mi;rw=Ry.createRoot,Ry.hydrateRoot;function CI(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var s,r,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)s=a[0],s==="*"?(o.push(s),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(r=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~r?r:~i?i:a.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var aw={exports:{}},iw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xo=u;function kI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var II=typeof Object.is=="function"?Object.is:kI,TI=xo.useState,PI=xo.useEffect,EI=xo.useLayoutEffect,AI=xo.useDebugValue;function RI(e,t){var s=t(),r=TI({inst:{value:s,getSnapshot:t}}),a=r[0].inst,i=r[1];return EI(function(){a.value=s,a.getSnapshot=t,nh(a)&&i({inst:a})},[e,s,t]),PI(function(){return nh(a)&&i({inst:a}),e(function(){nh(a)&&i({inst:a})})},[e]),AI(s),s}function nh(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!II(e,s)}catch{return!0}}function _I(e,t){return t()}var DI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_I:RI;iw.useSyncExternalStore=xo.useSyncExternalStore!==void 0?xo.useSyncExternalStore:DI;aw.exports=iw;var ow=aw.exports;const OI=Su.useInsertionEffect,LI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lw=LI?u.useLayoutEffect:u.useEffect,MI=OI||lw,ax=e=>{const t=u.useRef([e,(...s)=>t[0](...s)]).current;return MI(()=>{t[0]=e}),t[1]},FI="popstate",ix="pushState",ox="replaceState",$I="hashchange",_y=[FI,ix,ox,$I],VI=e=>{for(const t of _y)addEventListener(t,e);return()=>{for(const t of _y)removeEventListener(t,e)}},cw=(e,t)=>ow.useSyncExternalStore(VI,e,t),Dy=()=>location.search,zI=({ssrSearch:e}={})=>cw(Dy,e!=null?()=>e:Dy),Oy=()=>location.pathname,UI=({ssrPath:e}={})=>cw(Oy,e!=null?()=>e:Oy),BI=(e,{replace:t=!1,state:s=null}={})=>history[t?ox:ix](s,"",e),WI=(e={})=>[UI(e),BI],Ly=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Ly]>"u"){for(const e of[ix,ox]){const t=history[e];history[e]=function(){const s=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),s}}Object.defineProperty(window,Ly,{value:!0})}const qI=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",dw=(e="")=>e==="/"?"":e,HI=(e,t)=>e[0]==="~"?e.slice(1):dw(t)+e,KI=(e="",t)=>qI(My(dw(e)),My(t)),My=e=>{try{return decodeURI(e)}catch{return e}},uw={hook:WI,searchHook:zI,parser:CI,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,s)=>e(t,s)},mw=u.createContext(uw),To=()=>u.useContext(mw),hw={},fw=u.createContext(hw),QI=()=>u.useContext(fw),yc=e=>{const[t,s]=e.hook(e);return[KI(e.base,t),ax((r,a)=>e.aroundNav(s,HI(r,e.base),a))]},Na=()=>yc(To()),pw=(e,t,s,r)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=a.exec(s)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((m,y)=>[m,c[y]])):o.groups;let f={...c};return d&&Object.assign(f,d),f})(),...r?[l]:[]]:[!1,null]},GI=({children:e,...t})=>{var f,m,y;const s=To(),r=t.hook?uw:s;let a=r;const[i,o=t.ssrSearch??""]=((f=t.ssrPath)==null?void 0:f.split("?"))??[];i&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((m=t.hook)==null?void 0:m.hrefs),t.searchHook=t.searchHook??((y=t.hook)==null?void 0:y.searchHook);let l=u.useRef({}),c=l.current,d=c;for(let v in r){const j=v==="base"?r[v]+(t[v]??""):t[v]??r[v];c===d&&j!==d[v]&&(l.current=d={...d}),d[v]=j,(j!==r[v]||j!==a[v])&&(a=d)}return u.createElement(mw.Provider,{value:a,children:e})},Fy=({children:e,component:t},s)=>t?u.createElement(t,{params:s}):typeof e=="function"?e(s):e,YI=e=>{let t=u.useRef(hw);const s=t.current;return t.current=Object.keys(e).length!==Object.keys(s).length||Object.entries(e).some(([r,a])=>a!==s[r])?e:s},Ge=({path:e,nest:t,match:s,...r})=>{const a=To(),[i]=yc(a),[o,l,c]=s??pw(a.parser,e,i,t),d=YI({...QI(),...l});if(!o)return null;const f=c?u.createElement(GI,{base:c},Fy(r,d)):Fy(r,d);return u.createElement(fw.Provider,{value:d,children:f})},_n=u.forwardRef((e,t)=>{const s=To(),[r,a]=yc(s),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:f,replace:m,state:y,transition:v,...j}=e,x=ax(g=>{g.ctrlKey||g.metaKey||g.altKey||g.shiftKey||g.button!==0||(l==null||l(g),g.defaultPrevented||(g.preventDefault(),a(o,e)))}),w=s.hrefs(o[0]==="~"?o.slice(1):s.base+o,s);return c&&u.isValidElement(d)?u.cloneElement(d,{onClick:x,href:w}):u.createElement("a",{...j,onClick:x,href:w,className:f!=null&&f.call?f(r===o):f,children:d,ref:t})}),xw=e=>Array.isArray(e)?e.flatMap(t=>xw(t&&t.type===u.Fragment?t.props.children:t)):[e],lx=({children:e,location:t})=>{const s=To(),[r]=yc(s);for(const a of xw(e)){let i=0;if(u.isValidElement(a)&&(i=pw(s.parser,a.props.path,t||r,a.props.nest))[0])return u.cloneElement(a,{match:i})}return null},Oa=e=>{const{to:t,href:s=t}=e,r=To(),[,a]=yc(r),i=ax(()=>a(t||s,e)),{ssrContext:o}=r;return lw(()=>{i()},[]),o&&(o.redirectTo=t),null};var Po=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ZI={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Br,dp,D0,XI=(D0=class{constructor(){Te(this,Br,ZI);Te(this,dp,!1)}setTimeoutProvider(e){xe(this,Br,e)}setTimeout(e,t){return R(this,Br).setTimeout(e,t)}clearTimeout(e){R(this,Br).clearTimeout(e)}setInterval(e,t){return R(this,Br).setInterval(e,t)}clearInterval(e){R(this,Br).clearInterval(e)}},Br=new WeakMap,dp=new WeakMap,D0),La=new XI;function JI(e){setTimeout(e,0)}var ei=typeof window>"u"||"Deno"in globalThis;function wn(){}function eT(e,t){return typeof e=="function"?e(t):e}function yf(e){return typeof e=="number"&&e>=0&&e!==1/0}function gw(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ca(e,t){return typeof e=="function"?e(t):e}function as(e,t){return typeof e=="function"?e(t):e}function $y(e,t){const{type:s="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==cx(o,t.options))return!1}else if(!Hl(t.queryKey,o))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Vy(e,t){const{exact:s,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(s){if(ti(t.options.mutationKey)!==ti(i))return!1}else if(!Hl(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function cx(e,t){return((t==null?void 0:t.queryKeyHashFn)||ti)(e)}function ti(e){return JSON.stringify(e,(t,s)=>vf(s)?Object.keys(s).sort().reduce((r,a)=>(r[a]=s[a],r),{}):s)}function Hl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Hl(e[s],t[s])):!1}var tT=Object.prototype.hasOwnProperty;function yw(e,t){if(e===t)return e;const s=zy(e)&&zy(t);if(!s&&!(vf(e)&&vf(t)))return t;const a=(s?e:Object.keys(e)).length,i=s?t:Object.keys(t),o=i.length,l=s?new Array(o):{};let c=0;for(let d=0;d<o;d++){const f=s?d:i[d],m=e[f],y=t[f];if(m===y){l[f]=m,(s?d<a:tT.call(e,f))&&c++;continue}if(m===null||y===null||typeof m!="object"||typeof y!="object"){l[f]=y;continue}const v=yw(m,y);l[f]=v,v===m&&c++}return a===o&&c===a?e:l}function Gd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function zy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function vf(e){if(!Uy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Uy(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Uy(e){return Object.prototype.toString.call(e)==="[object Object]"}function nT(e){return new Promise(t=>{La.setTimeout(t,e)})}function jf(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?yw(e,t):t}function sT(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function rT(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var dx=Symbol();function vw(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===dx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ux(e,t){return typeof e=="function"?e(...t):!!e}function aT(e,t,s){let r=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),r||(r=!0,a.aborted?s():a.addEventListener("abort",s,{once:!0})),a)}),e}var Fa,Wr,Yi,O0,iT=(O0=class extends Po{constructor(){super();Te(this,Fa);Te(this,Wr);Te(this,Yi);xe(this,Yi,t=>{if(!ei&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){R(this,Wr)||this.setEventListener(R(this,Yi))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,Wr))==null||t.call(this),xe(this,Wr,void 0))}setEventListener(t){var s;xe(this,Yi,t),(s=R(this,Wr))==null||s.call(this),xe(this,Wr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){R(this,Fa)!==t&&(xe(this,Fa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof R(this,Fa)=="boolean"?R(this,Fa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Fa=new WeakMap,Wr=new WeakMap,Yi=new WeakMap,O0),mx=new iT;function bf(){let e,t;const s=new Promise((a,i)=>{e=a,t=i});s.status="pending",s.catch(()=>{});function r(a){Object.assign(s,a),delete s.resolve,delete s.reject}return s.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},s.reject=a=>{r({status:"rejected",reason:a}),t(a)},s}var oT=JI;function lT(){let e=[],t=0,s=l=>{l()},r=l=>{l()},a=oT;const i=l=>{t?e.push(l):a(()=>{s(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var Xt=lT(),Zi,qr,Xi,L0,cT=(L0=class extends Po{constructor(){super();Te(this,Zi,!0);Te(this,qr);Te(this,Xi);xe(this,Xi,t=>{if(!ei&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){R(this,qr)||this.setEventListener(R(this,Xi))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,qr))==null||t.call(this),xe(this,qr,void 0))}setEventListener(t){var s;xe(this,Xi,t),(s=R(this,qr))==null||s.call(this),xe(this,qr,t(this.setOnline.bind(this)))}setOnline(t){R(this,Zi)!==t&&(xe(this,Zi,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return R(this,Zi)}},Zi=new WeakMap,qr=new WeakMap,Xi=new WeakMap,L0),Yd=new cT;function dT(e){return Math.min(1e3*2**e,3e4)}function jw(e){return(e??"online")==="online"?Yd.isOnline():!0}var wf=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function bw(e){let t=!1,s=0,r;const a=bf(),i=()=>a.status!=="pending",o=x=>{var w;if(!i()){const g=new wf(x);y(g),(w=e.onCancel)==null||w.call(e,g)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>mx.isFocused()&&(e.networkMode==="always"||Yd.isOnline())&&e.canRun(),f=()=>jw(e.networkMode)&&e.canRun(),m=x=>{i()||(r==null||r(),a.resolve(x))},y=x=>{i()||(r==null||r(),a.reject(x))},v=()=>new Promise(x=>{var w;r=g=>{(i()||d())&&x(g)},(w=e.onPause)==null||w.call(e)}).then(()=>{var x;r=void 0,i()||(x=e.onContinue)==null||x.call(e)}),j=()=>{if(i())return;let x;const w=s===0?e.initialPromise:void 0;try{x=w??e.fn()}catch(g){x=Promise.reject(g)}Promise.resolve(x).then(m).catch(g=>{var N;if(i())return;const h=e.retry??(ei?0:3),p=e.retryDelay??dT,b=typeof p=="function"?p(s,g):p,S=h===!0||typeof h=="number"&&s<h||typeof h=="function"&&h(s,g);if(t||!S){y(g);return}s++,(N=e.onFail)==null||N.call(e,s,g),nT(b).then(()=>d()?void 0:v()).then(()=>{t?y(g):j()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(r==null||r(),a),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?j():v().then(j),a)}}var $a,M0,ww=(M0=class{constructor(){Te(this,$a)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yf(this.gcTime)&&xe(this,$a,La.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ei?1/0:5*60*1e3))}clearGcTimeout(){R(this,$a)&&(La.clearTimeout(R(this,$a)),xe(this,$a,void 0))}},$a=new WeakMap,M0),Va,Ji,rs,za,tn,lc,Ua,ws,cr,F0,uT=(F0=class extends ww{constructor(t){super();Te(this,ws);Te(this,Va);Te(this,Ji);Te(this,rs);Te(this,za);Te(this,tn);Te(this,lc);Te(this,Ua);xe(this,Ua,!1),xe(this,lc,t.defaultOptions),this.setOptions(t.options),this.observers=[],xe(this,za,t.client),xe(this,rs,R(this,za).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,xe(this,Va,Wy(this.options)),this.state=t.state??R(this,Va),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=R(this,tn))==null?void 0:t.promise}setOptions(t){if(this.options={...R(this,lc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Wy(this.options);s.data!==void 0&&(this.setState(By(s.data,s.dataUpdatedAt)),xe(this,Va,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,rs).remove(this)}setData(t,s){const r=jf(this.state.data,t,this.options);return qe(this,ws,cr).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){qe(this,ws,cr).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var r,a;const s=(r=R(this,tn))==null?void 0:r.promise;return(a=R(this,tn))==null||a.cancel(t),s?s.then(wn).catch(wn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Va))}isActive(){return this.observers.some(t=>as(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===dx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ca(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!gw(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=R(this,tn))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=R(this,tn))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),R(this,rs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(R(this,tn)&&(R(this,Ua)?R(this,tn).cancel({revert:!0}):R(this,tn).cancelRetry()),this.scheduleGc()),R(this,rs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qe(this,ws,cr).call(this,{type:"invalidate"})}async fetch(t,s){var c,d,f,m,y,v,j,x,w,g,h,p;if(this.state.fetchStatus!=="idle"&&((c=R(this,tn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(R(this,tn))return R(this,tn).continueRetry(),R(this,tn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(S=>S.options.queryFn);b&&this.setOptions(b.options)}const r=new AbortController,a=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(xe(this,Ua,!0),r.signal)})},i=()=>{const b=vw(this.options,s),N=(()=>{const T={client:R(this,za),queryKey:this.queryKey,meta:this.meta};return a(T),T})();return xe(this,Ua,!1),this.options.persister?this.options.persister(b,N,this):b(N)},l=(()=>{const b={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:R(this,za),state:this.state,fetchFn:i};return a(b),b})();(d=this.options.behavior)==null||d.onFetch(l,this),xe(this,Ji,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&qe(this,ws,cr).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta}),xe(this,tn,bw({initialPromise:s==null?void 0:s.initialPromise,fn:l.fetchFn,onCancel:b=>{b instanceof wf&&b.revert&&this.setState({...R(this,Ji),fetchStatus:"idle"}),r.abort()},onFail:(b,S)=>{qe(this,ws,cr).call(this,{type:"failed",failureCount:b,error:S})},onPause:()=>{qe(this,ws,cr).call(this,{type:"pause"})},onContinue:()=>{qe(this,ws,cr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const b=await R(this,tn).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(v=(y=R(this,rs).config).onSuccess)==null||v.call(y,b,this),(x=(j=R(this,rs).config).onSettled)==null||x.call(j,b,this.state.error,this),b}catch(b){if(b instanceof wf){if(b.silent)return R(this,tn).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw qe(this,ws,cr).call(this,{type:"error",error:b}),(g=(w=R(this,rs).config).onError)==null||g.call(w,b,this),(p=(h=R(this,rs).config).onSettled)==null||p.call(h,this.state.data,b,this),b}finally{this.scheduleGc()}}},Va=new WeakMap,Ji=new WeakMap,rs=new WeakMap,za=new WeakMap,tn=new WeakMap,lc=new WeakMap,Ua=new WeakMap,ws=new WeakSet,cr=function(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Nw(r.data,this.options),fetchMeta:t.meta??null};case"success":const a={...r,...By(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return xe(this,Ji,t.manual?a:void 0),a;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),Xt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),R(this,rs).notify({query:this,type:"updated",action:t})})},F0);function Nw(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function By(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Wy(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var An,tt,cc,yn,Ba,eo,mr,Hr,dc,to,no,Wa,qa,Kr,so,ft,ul,Nf,Sf,Cf,kf,If,Tf,Pf,Sw,$0,mT=($0=class extends Po{constructor(t,s){super();Te(this,ft);Te(this,An);Te(this,tt);Te(this,cc);Te(this,yn);Te(this,Ba);Te(this,eo);Te(this,mr);Te(this,Hr);Te(this,dc);Te(this,to);Te(this,no);Te(this,Wa);Te(this,qa);Te(this,Kr);Te(this,so,new Set);this.options=s,xe(this,An,t),xe(this,Hr,null),xe(this,mr,bf()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,tt).addObserver(this),qy(R(this,tt),this.options)?qe(this,ft,ul).call(this):this.updateResult(),qe(this,ft,kf).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ef(R(this,tt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ef(R(this,tt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qe(this,ft,If).call(this),qe(this,ft,Tf).call(this),R(this,tt).removeObserver(this)}setOptions(t){const s=this.options,r=R(this,tt);if(this.options=R(this,An).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof as(this.options.enabled,R(this,tt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qe(this,ft,Pf).call(this),R(this,tt).setOptions(this.options),s._defaulted&&!Gd(this.options,s)&&R(this,An).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,tt),observer:this});const a=this.hasListeners();a&&Hy(R(this,tt),r,this.options,s)&&qe(this,ft,ul).call(this),this.updateResult(),a&&(R(this,tt)!==r||as(this.options.enabled,R(this,tt))!==as(s.enabled,R(this,tt))||ca(this.options.staleTime,R(this,tt))!==ca(s.staleTime,R(this,tt)))&&qe(this,ft,Nf).call(this);const i=qe(this,ft,Sf).call(this);a&&(R(this,tt)!==r||as(this.options.enabled,R(this,tt))!==as(s.enabled,R(this,tt))||i!==R(this,Kr))&&qe(this,ft,Cf).call(this,i)}getOptimisticResult(t){const s=R(this,An).getQueryCache().build(R(this,An),t),r=this.createResult(s,t);return fT(this,r)&&(xe(this,yn,r),xe(this,eo,this.options),xe(this,Ba,R(this,tt).state)),r}getCurrentResult(){return R(this,yn)}trackResult(t,s){return new Proxy(t,{get:(r,a)=>(this.trackProp(a),s==null||s(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,mr).status==="pending"&&R(this,mr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,a))})}trackProp(t){R(this,so).add(t)}getCurrentQuery(){return R(this,tt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=R(this,An).defaultQueryOptions(t),r=R(this,An).getQueryCache().build(R(this,An),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return qe(this,ft,ul).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,yn)))}createResult(t,s){var A;const r=R(this,tt),a=this.options,i=R(this,yn),o=R(this,Ba),l=R(this,eo),d=t!==r?t.state:R(this,cc),{state:f}=t;let m={...f},y=!1,v;if(s._optimisticResults){const C=this.hasListeners(),I=!C&&qy(t,s),$=C&&Hy(t,r,s,a);(I||$)&&(m={...m,...Nw(f.data,t.options)}),s._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:j,errorUpdatedAt:x,status:w}=m;v=m.data;let g=!1;if(s.placeholderData!==void 0&&v===void 0&&w==="pending"){let C;i!=null&&i.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData)?(C=i.data,g=!0):C=typeof s.placeholderData=="function"?s.placeholderData((A=R(this,no))==null?void 0:A.state.data,R(this,no)):s.placeholderData,C!==void 0&&(w="success",v=jf(i==null?void 0:i.data,C,s),y=!0)}if(s.select&&v!==void 0&&!g)if(i&&v===(o==null?void 0:o.data)&&s.select===R(this,dc))v=R(this,to);else try{xe(this,dc,s.select),v=s.select(v),v=jf(i==null?void 0:i.data,v,s),xe(this,to,v),xe(this,Hr,null)}catch(C){xe(this,Hr,C)}R(this,Hr)&&(j=R(this,Hr),v=R(this,to),x=Date.now(),w="error");const h=m.fetchStatus==="fetching",p=w==="pending",b=w==="error",S=p&&h,N=v!==void 0,k={status:w,fetchStatus:m.fetchStatus,isPending:p,isSuccess:w==="success",isError:b,isInitialLoading:S,isLoading:S,data:v,dataUpdatedAt:m.dataUpdatedAt,error:j,errorUpdatedAt:x,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:h,isRefetching:h&&!p,isLoadingError:b&&!N,isPaused:m.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:b&&N,isStale:hx(t,s),refetch:this.refetch,promise:R(this,mr),isEnabled:as(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=B=>{k.status==="error"?B.reject(k.error):k.data!==void 0&&B.resolve(k.data)},I=()=>{const B=xe(this,mr,k.promise=bf());C(B)},$=R(this,mr);switch($.status){case"pending":t.queryHash===r.queryHash&&C($);break;case"fulfilled":(k.status==="error"||k.data!==$.value)&&I();break;case"rejected":(k.status!=="error"||k.error!==$.reason)&&I();break}}return k}updateResult(){const t=R(this,yn),s=this.createResult(R(this,tt),this.options);if(xe(this,Ba,R(this,tt).state),xe(this,eo,this.options),R(this,Ba).data!==void 0&&xe(this,no,R(this,tt)),Gd(s,t))return;xe(this,yn,s);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!R(this,so).size)return!0;const o=new Set(i??R(this,so));return this.options.throwOnError&&o.add("error"),Object.keys(R(this,yn)).some(l=>{const c=l;return R(this,yn)[c]!==t[c]&&o.has(c)})};qe(this,ft,Sw).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qe(this,ft,kf).call(this)}},An=new WeakMap,tt=new WeakMap,cc=new WeakMap,yn=new WeakMap,Ba=new WeakMap,eo=new WeakMap,mr=new WeakMap,Hr=new WeakMap,dc=new WeakMap,to=new WeakMap,no=new WeakMap,Wa=new WeakMap,qa=new WeakMap,Kr=new WeakMap,so=new WeakMap,ft=new WeakSet,ul=function(t){qe(this,ft,Pf).call(this);let s=R(this,tt).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(wn)),s},Nf=function(){qe(this,ft,If).call(this);const t=ca(this.options.staleTime,R(this,tt));if(ei||R(this,yn).isStale||!yf(t))return;const r=gw(R(this,yn).dataUpdatedAt,t)+1;xe(this,Wa,La.setTimeout(()=>{R(this,yn).isStale||this.updateResult()},r))},Sf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,tt)):this.options.refetchInterval)??!1},Cf=function(t){qe(this,ft,Tf).call(this),xe(this,Kr,t),!(ei||as(this.options.enabled,R(this,tt))===!1||!yf(R(this,Kr))||R(this,Kr)===0)&&xe(this,qa,La.setInterval(()=>{(this.options.refetchIntervalInBackground||mx.isFocused())&&qe(this,ft,ul).call(this)},R(this,Kr)))},kf=function(){qe(this,ft,Nf).call(this),qe(this,ft,Cf).call(this,qe(this,ft,Sf).call(this))},If=function(){R(this,Wa)&&(La.clearTimeout(R(this,Wa)),xe(this,Wa,void 0))},Tf=function(){R(this,qa)&&(La.clearInterval(R(this,qa)),xe(this,qa,void 0))},Pf=function(){const t=R(this,An).getQueryCache().build(R(this,An),this.options);if(t===R(this,tt))return;const s=R(this,tt);xe(this,tt,t),xe(this,cc,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Sw=function(t){Xt.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(R(this,yn))}),R(this,An).getQueryCache().notify({query:R(this,tt),type:"observerResultsUpdated"})})},$0);function hT(e,t){return as(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function qy(e,t){return hT(e,t)||e.state.data!==void 0&&Ef(e,t,t.refetchOnMount)}function Ef(e,t,s){if(as(t.enabled,e)!==!1&&ca(t.staleTime,e)!=="static"){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&hx(e,t)}return!1}function Hy(e,t,s,r){return(e!==t||as(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&hx(e,s)}function hx(e,t){return as(t.enabled,e)!==!1&&e.isStaleByTime(ca(t.staleTime,e))}function fT(e,t){return!Gd(e.getCurrentResult(),t)}function Ky(e){return{onFetch:(t,s)=>{var f,m,y,v,j;const r=t.options,a=(y=(m=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:y.direction,i=((v=t.state.data)==null?void 0:v.pages)||[],o=((j=t.state.data)==null?void 0:j.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let x=!1;const w=p=>{aT(p,()=>t.signal,()=>x=!0)},g=vw(t.options,t.fetchOptions),h=async(p,b,S)=>{if(x)return Promise.reject();if(b==null&&p.pages.length)return Promise.resolve(p);const T=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:b,direction:S?"backward":"forward",meta:t.options.meta};return w(I),I})(),k=await g(T),{maxPages:A}=t.options,C=S?rT:sT;return{pages:C(p.pages,k,A),pageParams:C(p.pageParams,b,A)}};if(a&&i.length){const p=a==="backward",b=p?pT:Qy,S={pages:i,pageParams:o},N=b(r,S);l=await h(S,N,p)}else{const p=e??i.length;do{const b=c===0?o[0]??r.initialPageParam:Qy(r,l);if(c>0&&b==null)break;l=await h(l,b),c++}while(c<p)}return l};t.options.persister?t.fetchFn=()=>{var x,w;return(w=(x=t.options).persister)==null?void 0:w.call(x,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=d}}}function Qy(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function pT(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var uc,Ws,vn,Ha,qs,Lr,V0,xT=(V0=class extends ww{constructor(t){super();Te(this,qs);Te(this,uc);Te(this,Ws);Te(this,vn);Te(this,Ha);xe(this,uc,t.client),this.mutationId=t.mutationId,xe(this,vn,t.mutationCache),xe(this,Ws,[]),this.state=t.state||Cw(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){R(this,Ws).includes(t)||(R(this,Ws).push(t),this.clearGcTimeout(),R(this,vn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){xe(this,Ws,R(this,Ws).filter(s=>s!==t)),this.scheduleGc(),R(this,vn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){R(this,Ws).length||(this.state.status==="pending"?this.scheduleGc():R(this,vn).remove(this))}continue(){var t;return((t=R(this,Ha))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,d,f,m,y,v,j,x,w,g,h,p,b,S,N,T,k,A;const s=()=>{qe(this,qs,Lr).call(this,{type:"continue"})},r={client:R(this,uc),meta:this.options.meta,mutationKey:this.options.mutationKey};xe(this,Ha,bw({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(C,I)=>{qe(this,qs,Lr).call(this,{type:"failed",failureCount:C,error:I})},onPause:()=>{qe(this,qs,Lr).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,vn).canRun(this)}));const a=this.state.status==="pending",i=!R(this,Ha).canStart();try{if(a)s();else{qe(this,qs,Lr).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=R(this,vn).config).onMutate)==null?void 0:l.call(o,t,this,r));const I=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,r));I!==this.state.context&&qe(this,qs,Lr).call(this,{type:"pending",context:I,variables:t,isPaused:i})}const C=await R(this,Ha).start();return await((m=(f=R(this,vn).config).onSuccess)==null?void 0:m.call(f,C,t,this.state.context,this,r)),await((v=(y=this.options).onSuccess)==null?void 0:v.call(y,C,t,this.state.context,r)),await((x=(j=R(this,vn).config).onSettled)==null?void 0:x.call(j,C,null,this.state.variables,this.state.context,this,r)),await((g=(w=this.options).onSettled)==null?void 0:g.call(w,C,null,t,this.state.context,r)),qe(this,qs,Lr).call(this,{type:"success",data:C}),C}catch(C){try{await((p=(h=R(this,vn).config).onError)==null?void 0:p.call(h,C,t,this.state.context,this,r))}catch(I){Promise.reject(I)}try{await((S=(b=this.options).onError)==null?void 0:S.call(b,C,t,this.state.context,r))}catch(I){Promise.reject(I)}try{await((T=(N=R(this,vn).config).onSettled)==null?void 0:T.call(N,void 0,C,this.state.variables,this.state.context,this,r))}catch(I){Promise.reject(I)}try{await((A=(k=this.options).onSettled)==null?void 0:A.call(k,void 0,C,t,this.state.context,r))}catch(I){Promise.reject(I)}throw qe(this,qs,Lr).call(this,{type:"error",error:C}),C}finally{R(this,vn).runNext(this)}}},uc=new WeakMap,Ws=new WeakMap,vn=new WeakMap,Ha=new WeakMap,qs=new WeakSet,Lr=function(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Xt.batch(()=>{R(this,Ws).forEach(r=>{r.onMutationUpdate(t)}),R(this,vn).notify({mutation:this,type:"updated",action:t})})},V0);function Cw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hr,Ns,mc,z0,gT=(z0=class extends Po{constructor(t={}){super();Te(this,hr);Te(this,Ns);Te(this,mc);this.config=t,xe(this,hr,new Set),xe(this,Ns,new Map),xe(this,mc,0)}build(t,s,r){const a=new xT({client:t,mutationCache:this,mutationId:++Pc(this,mc)._,options:t.defaultMutationOptions(s),state:r});return this.add(a),a}add(t){R(this,hr).add(t);const s=Kc(t);if(typeof s=="string"){const r=R(this,Ns).get(s);r?r.push(t):R(this,Ns).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(R(this,hr).delete(t)){const s=Kc(t);if(typeof s=="string"){const r=R(this,Ns).get(s);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&R(this,Ns).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Kc(t);if(typeof s=="string"){const r=R(this,Ns).get(s),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const s=Kc(t);if(typeof s=="string"){const a=(r=R(this,Ns).get(s))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Xt.batch(()=>{R(this,hr).forEach(t=>{this.notify({type:"removed",mutation:t})}),R(this,hr).clear(),R(this,Ns).clear()})}getAll(){return Array.from(R(this,hr))}find(t){const s={exact:!0,...t};return this.getAll().find(r=>Vy(s,r))}findAll(t={}){return this.getAll().filter(s=>Vy(t,s))}notify(t){Xt.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Xt.batch(()=>Promise.all(t.map(s=>s.continue().catch(wn))))}},hr=new WeakMap,Ns=new WeakMap,mc=new WeakMap,z0);function Kc(e){var t;return(t=e.options.scope)==null?void 0:t.id}var fr,Qr,Rn,pr,jr,xd,Af,U0,yT=(U0=class extends Po{constructor(s,r){super();Te(this,jr);Te(this,fr);Te(this,Qr);Te(this,Rn);Te(this,pr);xe(this,fr,s),this.setOptions(r),this.bindMethods(),qe(this,jr,xd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var a;const r=this.options;this.options=R(this,fr).defaultMutationOptions(s),Gd(this.options,r)||R(this,fr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Rn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ti(r.mutationKey)!==ti(this.options.mutationKey)?this.reset():((a=R(this,Rn))==null?void 0:a.state.status)==="pending"&&R(this,Rn).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=R(this,Rn))==null||s.removeObserver(this)}onMutationUpdate(s){qe(this,jr,xd).call(this),qe(this,jr,Af).call(this,s)}getCurrentResult(){return R(this,Qr)}reset(){var s;(s=R(this,Rn))==null||s.removeObserver(this),xe(this,Rn,void 0),qe(this,jr,xd).call(this),qe(this,jr,Af).call(this)}mutate(s,r){var a;return xe(this,pr,r),(a=R(this,Rn))==null||a.removeObserver(this),xe(this,Rn,R(this,fr).getMutationCache().build(R(this,fr),this.options)),R(this,Rn).addObserver(this),R(this,Rn).execute(s)}},fr=new WeakMap,Qr=new WeakMap,Rn=new WeakMap,pr=new WeakMap,jr=new WeakSet,xd=function(){var r;const s=((r=R(this,Rn))==null?void 0:r.state)??Cw();xe(this,Qr,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Af=function(s){Xt.batch(()=>{var r,a,i,o,l,c,d,f;if(R(this,pr)&&this.hasListeners()){const m=R(this,Qr).variables,y=R(this,Qr).context,v={client:R(this,fr),meta:this.options.meta,mutationKey:this.options.mutationKey};if((s==null?void 0:s.type)==="success"){try{(a=(r=R(this,pr)).onSuccess)==null||a.call(r,s.data,m,y,v)}catch(j){Promise.reject(j)}try{(o=(i=R(this,pr)).onSettled)==null||o.call(i,s.data,null,m,y,v)}catch(j){Promise.reject(j)}}else if((s==null?void 0:s.type)==="error"){try{(c=(l=R(this,pr)).onError)==null||c.call(l,s.error,m,y,v)}catch(j){Promise.reject(j)}try{(f=(d=R(this,pr)).onSettled)==null||f.call(d,void 0,s.error,m,y,v)}catch(j){Promise.reject(j)}}}this.listeners.forEach(m=>{m(R(this,Qr))})})},U0),Hs,B0,vT=(B0=class extends Po{constructor(t={}){super();Te(this,Hs);this.config=t,xe(this,Hs,new Map)}build(t,s,r){const a=s.queryKey,i=s.queryHash??cx(a,s);let o=this.get(i);return o||(o=new uT({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){R(this,Hs).has(t.queryHash)||(R(this,Hs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=R(this,Hs).get(t.queryHash);s&&(t.destroy(),s===t&&R(this,Hs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return R(this,Hs).get(t)}getAll(){return[...R(this,Hs).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>$y(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>$y(t,r)):s}notify(t){Xt.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Hs=new WeakMap,B0),Ft,Gr,Yr,ro,ao,Zr,io,oo,W0,jT=(W0=class{constructor(e={}){Te(this,Ft);Te(this,Gr);Te(this,Yr);Te(this,ro);Te(this,ao);Te(this,Zr);Te(this,io);Te(this,oo);xe(this,Ft,e.queryCache||new vT),xe(this,Gr,e.mutationCache||new gT),xe(this,Yr,e.defaultOptions||{}),xe(this,ro,new Map),xe(this,ao,new Map),xe(this,Zr,0)}mount(){Pc(this,Zr)._++,R(this,Zr)===1&&(xe(this,io,mx.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,Ft).onFocus())})),xe(this,oo,Yd.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,Ft).onOnline())})))}unmount(){var e,t;Pc(this,Zr)._--,R(this,Zr)===0&&((e=R(this,io))==null||e.call(this),xe(this,io,void 0),(t=R(this,oo))==null||t.call(this),xe(this,oo,void 0))}isFetching(e){return R(this,Ft).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return R(this,Gr).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=R(this,Ft).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=R(this,Ft).build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(ca(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return R(this,Ft).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),a=R(this,Ft).get(r.queryHash),i=a==null?void 0:a.state.data,o=eT(t,i);if(o!==void 0)return R(this,Ft).build(this,r).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return Xt.batch(()=>R(this,Ft).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=R(this,Ft).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=R(this,Ft);Xt.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=R(this,Ft);return Xt.batch(()=>(s.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=Xt.batch(()=>R(this,Ft).findAll(e).map(a=>a.cancel(s)));return Promise.all(r).then(wn).catch(wn)}invalidateQueries(e,t={}){return Xt.batch(()=>(R(this,Ft).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=Xt.batch(()=>R(this,Ft).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,s);return s.throwOnError||(i=i.catch(wn)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(wn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=R(this,Ft).build(this,t);return s.isStaleByTime(ca(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wn).catch(wn)}fetchInfiniteQuery(e){return e.behavior=Ky(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wn).catch(wn)}ensureInfiniteQueryData(e){return e.behavior=Ky(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Yd.isOnline()?R(this,Gr).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Ft)}getMutationCache(){return R(this,Gr)}getDefaultOptions(){return R(this,Yr)}setDefaultOptions(e){xe(this,Yr,e)}setQueryDefaults(e,t){R(this,ro).set(ti(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...R(this,ro).values()],s={};return t.forEach(r=>{Hl(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){R(this,ao).set(ti(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...R(this,ao).values()],s={};return t.forEach(r=>{Hl(e,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...R(this,Yr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=cx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===dx&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...R(this,Yr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){R(this,Ft).clear(),R(this,Gr).clear()}},Ft=new WeakMap,Gr=new WeakMap,Yr=new WeakMap,ro=new WeakMap,ao=new WeakMap,Zr=new WeakMap,io=new WeakMap,oo=new WeakMap,W0),kw=u.createContext(void 0),hi=e=>{const t=u.useContext(kw);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},bT=({client:e,children:t})=>(u.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(kw.Provider,{value:e,children:t})),Iw=u.createContext(!1),wT=()=>u.useContext(Iw);Iw.Provider;function NT(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ST=u.createContext(NT()),CT=()=>u.useContext(ST),kT=(e,t,s)=>{const r=s!=null&&s.state.error&&typeof e.throwOnError=="function"?ux(e.throwOnError,[s.state.error,s]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},IT=e=>{u.useEffect(()=>{e.clearReset()},[e])},TT=({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||ux(s,[e.error,r])),PT=e=>{if(e.suspense){const s=a=>a==="static"?a:Math.max(a??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...a)=>s(r(...a)):s(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ET=(e,t)=>e.isLoading&&e.isFetching&&!t,AT=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Gy=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function RT(e,t,s){var y,v,j,x;const r=wT(),a=CT(),i=hi(),o=i.defaultQueryOptions(e);(v=(y=i.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||v.call(y,o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=r?"isRestoring":"optimistic",PT(o),kT(o,a,l),IT(a);const c=!i.getQueryCache().get(o.queryHash),[d]=u.useState(()=>new t(i,o)),f=d.getOptimisticResult(o),m=!r&&e.subscribed!==!1;if(u.useSyncExternalStore(u.useCallback(w=>{const g=m?d.subscribe(Xt.batchCalls(w)):wn;return d.updateResult(),g},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),u.useEffect(()=>{d.setOptions(o)},[o,d]),AT(o,f))throw Gy(o,d,a);if(TT({result:f,errorResetBoundary:a,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw f.error;if((x=(j=i.getDefaultOptions().queries)==null?void 0:j._experimental_afterQuery)==null||x.call(j,o,f),o.experimental_prefetchInRender&&!ei&&ET(f,r)){const w=c?Gy(o,d,a):l==null?void 0:l.promise;w==null||w.catch(wn).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?f:d.trackResult(f)}function jt(e,t){return RT(e,mT)}function Rt(e,t){const s=hi(),[r]=u.useState(()=>new yT(s,e));u.useEffect(()=>{r.setOptions(e)},[r,e]);const a=u.useSyncExternalStore(u.useCallback(o=>r.subscribe(Xt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=u.useCallback((o,l)=>{r.mutate(o,l).catch(wn)},[r]);if(a.error&&ux(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const _T="unanza_access_token";function Tw(){const e=localStorage.getItem(_T);return e?{Authorization:`Bearer ${e}`}:{}}async function Pw(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Gt(e,t,s){const r={...Tw()};s&&(r["Content-Type"]="application/json");const a=await fetch(t,{method:e,headers:r,body:s?JSON.stringify(s):void 0,credentials:"include"});return await Pw(a),a}const DT=({on401:e})=>async({queryKey:t,meta:s})=>{const r={...Tw(),...(s==null?void 0:s.headers)||{}},a=await fetch(t.join("/"),{credentials:"include",headers:r});return await Pw(a),await a.json()},Ut=new jT({defaultOptions:{queries:{queryFn:DT({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),OT=1,LT=1e6;let sh=0;function MT(){return sh=(sh+1)%Number.MAX_SAFE_INTEGER,sh.toString()}const rh=new Map,Yy=e=>{if(rh.has(e))return;const t=setTimeout(()=>{rh.delete(e),Sl({type:"REMOVE_TOAST",toastId:e})},LT);rh.set(e,t)},FT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,OT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?Yy(s):e.toasts.forEach(r=>{Yy(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},gd=[];let yd={toasts:[]};function Sl(e){yd=FT(yd,e),gd.forEach(t=>{t(yd)})}function $T({...e}){const t=MT(),s=a=>Sl({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>Sl({type:"DISMISS_TOAST",toastId:t});return Sl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:s}}function Vt(){const[e,t]=u.useState(yd);return u.useEffect(()=>(gd.push(t),()=>{const s=gd.indexOf(t);s>-1&&gd.splice(s,1)}),[e]),{...e,toast:$T,dismiss:s=>Sl({type:"DISMISS_TOAST",toastId:s})}}function he(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Zy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Er(...e){return t=>{let s=!1;const r=e.map(a=>{const i=Zy(a,t);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():Zy(e[a],null)}}}}function et(...e){return u.useCallback(Er(...e),e)}function VT(e,t){const s=u.createContext(t),r=i=>{const{children:o,...l}=i,c=u.useMemo(()=>l,Object.values(l));return n.jsx(s.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=u.useContext(s);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function Jn(e,t=[]){let s=[];function r(i,o){const l=u.createContext(o),c=s.length;s=[...s,o];const d=m=>{var g;const{scope:y,children:v,...j}=m,x=((g=y==null?void 0:y[e])==null?void 0:g[c])||l,w=u.useMemo(()=>j,Object.values(j));return n.jsx(x.Provider,{value:w,children:v})};d.displayName=i+"Provider";function f(m,y){var x;const v=((x=y==null?void 0:y[e])==null?void 0:x[c])||l,j=u.useContext(v);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,f]}const a=()=>{const i=s.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,zT(a,...t)]}function zT(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}function Xy(e){const t=UT(e),s=u.forwardRef((r,a)=>{const{children:i,...o}=r,l=u.Children.toArray(i),c=l.find(WT);if(c){const d=c.props.children,f=l.map(m=>m===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...o,ref:a,children:u.isValidElement(d)?u.cloneElement(d,void 0,f):null})}return n.jsx(t,{...o,ref:a,children:i})});return s.displayName=`${e}.Slot`,s}function UT(e){const t=u.forwardRef((s,r)=>{const{children:a,...i}=s;if(u.isValidElement(a)){const o=HT(a),l=qT(i,a.props);return a.type!==u.Fragment&&(l.ref=r?Er(r,o):o),u.cloneElement(a,l)}return u.Children.count(a)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var BT=Symbol("radix.slottable");function WT(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===BT}function qT(e,t){const s={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...i}:r==="className"&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}function HT(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Vu(e){const t=e+"CollectionProvider",[s,r]=Jn(t),[a,i]=s(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:w,children:g}=x,h=De.useRef(null),p=De.useRef(new Map).current;return n.jsx(a,{scope:w,itemMap:p,collectionRef:h,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=Xy(l),d=De.forwardRef((x,w)=>{const{scope:g,children:h}=x,p=i(l,g),b=et(w,p.collectionRef);return n.jsx(c,{ref:b,children:h})});d.displayName=l;const f=e+"CollectionItemSlot",m="data-radix-collection-item",y=Xy(f),v=De.forwardRef((x,w)=>{const{scope:g,children:h,...p}=x,b=De.useRef(null),S=et(w,b),N=i(f,g);return De.useEffect(()=>(N.itemMap.set(b,{ref:b,...p}),()=>void N.itemMap.delete(b))),n.jsx(y,{[m]:"",ref:S,children:h})});v.displayName=f;function j(x){const w=i(e+"CollectionConsumer",x);return De.useCallback(()=>{const h=w.collectionRef.current;if(!h)return[];const p=Array.from(h.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((N,T)=>p.indexOf(N.ref.current)-p.indexOf(T.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},j,r]}function KT(e){const t=QT(e),s=u.forwardRef((r,a)=>{const{children:i,...o}=r,l=u.Children.toArray(i),c=l.find(YT);if(c){const d=c.props.children,f=l.map(m=>m===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...o,ref:a,children:u.isValidElement(d)?u.cloneElement(d,void 0,f):null})}return n.jsx(t,{...o,ref:a,children:i})});return s.displayName=`${e}.Slot`,s}function QT(e){const t=u.forwardRef((s,r)=>{const{children:a,...i}=s;if(u.isValidElement(a)){const o=XT(a),l=ZT(i,a.props);return a.type!==u.Fragment&&(l.ref=r?Er(r,o):o),u.cloneElement(a,l)}return u.Children.count(a)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var GT=Symbol("radix.slottable");function YT(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===GT}function ZT(e,t){const s={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...i}:r==="className"&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}function XT(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var JT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ae=JT.reduce((e,t)=>{const s=KT(`Primitive.${t}`),r=u.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function fx(e,t){e&&mi.flushSync(()=>e.dispatchEvent(t))}function kn(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function eP(e,t=globalThis==null?void 0:globalThis.document){const s=kn(e);u.useEffect(()=>{const r=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[s,t])}var tP="DismissableLayer",Rf="dismissableLayer.update",nP="dismissableLayer.pointerDownOutside",sP="dismissableLayer.focusOutside",Jy,Ew=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Eo=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=u.useContext(Ew),[f,m]=u.useState(null),y=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=u.useState({}),j=et(t,T=>m(T)),x=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(w),h=f?x.indexOf(f):-1,p=d.layersWithOutsidePointerEventsDisabled.size>0,b=h>=g,S=aP(T=>{const k=T.target,A=[...d.branches].some(C=>C.contains(k));!b||A||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},y),N=iP(T=>{const k=T.target;[...d.branches].some(C=>C.contains(k))||(i==null||i(T),o==null||o(T),T.defaultPrevented||l==null||l())},y);return eP(T=>{h===d.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},y),u.useEffect(()=>{if(f)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Jy=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),ev(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Jy)}},[f,y,s,d]),u.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),ev())},[f,d]),u.useEffect(()=>{const T=()=>v({});return document.addEventListener(Rf,T),()=>document.removeEventListener(Rf,T)},[]),n.jsx(Ae.div,{...c,ref:j,style:{pointerEvents:p?b?"auto":"none":void 0,...e.style},onFocusCapture:he(e.onFocusCapture,N.onFocusCapture),onBlurCapture:he(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:he(e.onPointerDownCapture,S.onPointerDownCapture)})});Eo.displayName=tP;var rP="DismissableLayerBranch",Aw=u.forwardRef((e,t)=>{const s=u.useContext(Ew),r=u.useRef(null),a=et(t,r);return u.useEffect(()=>{const i=r.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),n.jsx(Ae.div,{...e,ref:a})});Aw.displayName=rP;function aP(e,t=globalThis==null?void 0:globalThis.document){const s=kn(e),r=u.useRef(!1),a=u.useRef(()=>{});return u.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){Rw(nP,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function iP(e,t=globalThis==null?void 0:globalThis.document){const s=kn(e),r=u.useRef(!1);return u.useEffect(()=>{const a=i=>{i.target&&!r.current&&Rw(sP,s,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ev(){const e=new CustomEvent(Rf);document.dispatchEvent(e)}function Rw(e,t,s,{discrete:r}){const a=s.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?fx(a,i):a.dispatchEvent(i)}var oP=Eo,lP=Aw,Bt=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},cP="Portal",vc=u.forwardRef((e,t)=>{var l;const{container:s,...r}=e,[a,i]=u.useState(!1);Bt(()=>i(!0),[]);const o=s||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?SI.createPortal(n.jsx(Ae.div,{...r,ref:t}),o):null});vc.displayName=cP;function dP(e,t){return u.useReducer((s,r)=>t[s][r]??s,e)}var es=e=>{const{present:t,children:s}=e,r=uP(t),a=typeof s=="function"?s({present:r.isPresent}):u.Children.only(s),i=et(r.ref,mP(a));return typeof s=="function"||r.isPresent?u.cloneElement(a,{ref:i}):null};es.displayName="Presence";function uP(e){const[t,s]=u.useState(),r=u.useRef(null),a=u.useRef(e),i=u.useRef("none"),o=e?"mounted":"unmounted",[l,c]=dP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=Qc(r.current);i.current=l==="mounted"?d:"none"},[l]),Bt(()=>{const d=r.current,f=a.current;if(f!==e){const y=i.current,v=Qc(d);e?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&y!==v?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Bt(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,m=v=>{const x=Qc(r.current).includes(CSS.escape(v.animationName));if(v.target===t&&x&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},y=v=>{v.target===t&&(i.current=Qc(r.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{r.current=d?getComputedStyle(d):null,s(d)},[])}}function Qc(e){return(e==null?void 0:e.animationName)||"none"}function mP(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var hP=Su[" useInsertionEffect ".trim().toString()]||Bt;function _s({prop:e,defaultProp:t,onChange:s=()=>{},caller:r}){const[a,i,o]=fP({defaultProp:t,onChange:s}),l=e!==void 0,c=l?e:a;{const f=u.useRef(e!==void 0);u.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const d=u.useCallback(f=>{var m;if(l){const y=pP(f)?f(e):f;y!==e&&((m=o.current)==null||m.call(o,y))}else i(f)},[l,e,i,o]);return[c,d]}function fP({defaultProp:e,onChange:t}){const[s,r]=u.useState(e),a=u.useRef(s),i=u.useRef(t);return hP(()=>{i.current=t},[t]),u.useEffect(()=>{var o;a.current!==s&&((o=i.current)==null||o.call(i,s),a.current=s)},[s,a]),[s,r,i]}function pP(e){return typeof e=="function"}var _w=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xP="VisuallyHidden",zu=u.forwardRef((e,t)=>n.jsx(Ae.span,{...e,ref:t,style:{..._w,...e.style}}));zu.displayName=xP;var gP=zu,px="ToastProvider",[xx,yP,vP]=Vu("Toast"),[Dw]=Jn("Toast",[vP]),[jP,Uu]=Dw(px),Ow=e=>{const{__scopeToast:t,label:s="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=u.useState(null),[d,f]=u.useState(0),m=u.useRef(!1),y=u.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${px}\`. Expected non-empty \`string\`.`),n.jsx(xx.Provider,{scope:t,children:n.jsx(jP,{scope:t,label:s,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>f(v=>v+1),[]),onToastRemove:u.useCallback(()=>f(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:y,children:o})})};Ow.displayName=px;var Lw="ToastViewport",bP=["F8"],_f="toast.viewportPause",Df="toast.viewportResume",Mw=u.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:r=bP,label:a="Notifications ({hotkey})",...i}=e,o=Uu(Lw,s),l=yP(s),c=u.useRef(null),d=u.useRef(null),f=u.useRef(null),m=u.useRef(null),y=et(t,m,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=o.toastCount>0;u.useEffect(()=>{const w=g=>{var p;r.length!==0&&r.every(b=>g[b]||g.code===b)&&((p=m.current)==null||p.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),u.useEffect(()=>{const w=c.current,g=m.current;if(j&&w&&g){const h=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(_f);g.dispatchEvent(N),o.isClosePausedRef.current=!0}},p=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(Df);g.dispatchEvent(N),o.isClosePausedRef.current=!1}},b=N=>{!w.contains(N.relatedTarget)&&p()},S=()=>{w.contains(document.activeElement)||p()};return w.addEventListener("focusin",h),w.addEventListener("focusout",b),w.addEventListener("pointermove",h),w.addEventListener("pointerleave",S),window.addEventListener("blur",h),window.addEventListener("focus",p),()=>{w.removeEventListener("focusin",h),w.removeEventListener("focusout",b),w.removeEventListener("pointermove",h),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",h),window.removeEventListener("focus",p)}}},[j,o.isClosePausedRef]);const x=u.useCallback(({tabbingDirection:w})=>{const h=l().map(p=>{const b=p.ref.current,S=[b,...DP(b)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?h.reverse():h).flat()},[l]);return u.useEffect(()=>{const w=m.current;if(w){const g=h=>{var S,N,T;const p=h.altKey||h.ctrlKey||h.metaKey;if(h.key==="Tab"&&!p){const k=document.activeElement,A=h.shiftKey;if(h.target===w&&A){(S=d.current)==null||S.focus();return}const $=x({tabbingDirection:A?"backwards":"forwards"}),B=$.findIndex(E=>E===k);ah($.slice(B+1))?h.preventDefault():A?(N=d.current)==null||N.focus():(T=f.current)==null||T.focus()}};return w.addEventListener("keydown",g),()=>w.removeEventListener("keydown",g)}},[l,x]),n.jsxs(lP,{ref:c,role:"region","aria-label":a.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&n.jsx(Of,{ref:d,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"forwards"});ah(w)}}),n.jsx(xx.Slot,{scope:s,children:n.jsx(Ae.ol,{tabIndex:-1,...i,ref:y})}),j&&n.jsx(Of,{ref:f,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"backwards"});ah(w)}})]})});Mw.displayName=Lw;var Fw="ToastFocusProxy",Of=u.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...a}=e,i=Uu(Fw,s);return n.jsx(zu,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});Of.displayName=Fw;var jc="Toast",wP="toast.swipeStart",NP="toast.swipeMove",SP="toast.swipeCancel",CP="toast.swipeEnd",$w=u.forwardRef((e,t)=>{const{forceMount:s,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=_s({prop:r,defaultProp:a??!0,onChange:i,caller:jc});return n.jsx(es,{present:s||l,children:n.jsx(TP,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:kn(e.onPause),onResume:kn(e.onResume),onSwipeStart:he(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(e.onSwipeMove,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:he(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(e.onSwipeEnd,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});$w.displayName=jc;var[kP,IP]=Dw(jc,{onClose(){}}),TP=u.forwardRef((e,t)=>{const{__scopeToast:s,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:y,onSwipeEnd:v,...j}=e,x=Uu(jc,s),[w,g]=u.useState(null),h=et(t,E=>g(E)),p=u.useRef(null),b=u.useRef(null),S=a||x.duration,N=u.useRef(0),T=u.useRef(S),k=u.useRef(0),{onToastAdd:A,onToastRemove:C}=x,I=kn(()=>{var P;(w==null?void 0:w.contains(document.activeElement))&&((P=x.viewport)==null||P.focus()),o()}),$=u.useCallback(E=>{!E||E===1/0||(window.clearTimeout(k.current),N.current=new Date().getTime(),k.current=window.setTimeout(I,E))},[I]);u.useEffect(()=>{const E=x.viewport;if(E){const P=()=>{$(T.current),d==null||d()},L=()=>{const ie=new Date().getTime()-N.current;T.current=T.current-ie,window.clearTimeout(k.current),c==null||c()};return E.addEventListener(_f,L),E.addEventListener(Df,P),()=>{E.removeEventListener(_f,L),E.removeEventListener(Df,P)}}},[x.viewport,S,c,d,$]),u.useEffect(()=>{i&&!x.isClosePausedRef.current&&$(S)},[i,S,x.isClosePausedRef,$]),u.useEffect(()=>(A(),()=>C()),[A,C]);const B=u.useMemo(()=>w?Hw(w):null,[w]);return x.viewport?n.jsxs(n.Fragment,{children:[B&&n.jsx(PP,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:B}),n.jsx(kP,{scope:s,onClose:I,children:mi.createPortal(n.jsx(xx.ItemSlot,{scope:s,children:n.jsx(oP,{asChild:!0,onEscapeKeyDown:he(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||I(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Ae.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...j,ref:h,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:he(e.onKeyDown,E=>{E.key==="Escape"&&(l==null||l(E.nativeEvent),E.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:he(e.onPointerDown,E=>{E.button===0&&(p.current={x:E.clientX,y:E.clientY})}),onPointerMove:he(e.onPointerMove,E=>{if(!p.current)return;const P=E.clientX-p.current.x,L=E.clientY-p.current.y,ie=!!b.current,W=["left","right"].includes(x.swipeDirection),U=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,H=W?U(0,P):0,q=W?0:U(0,L),ne=E.pointerType==="touch"?10:2,me={x:H,y:q},fe={originalEvent:E,delta:me};ie?(b.current=me,Gc(NP,m,fe,{discrete:!1})):tv(me,x.swipeDirection,ne)?(b.current=me,Gc(wP,f,fe,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(P)>ne||Math.abs(L)>ne)&&(p.current=null)}),onPointerUp:he(e.onPointerUp,E=>{const P=b.current,L=E.target;if(L.hasPointerCapture(E.pointerId)&&L.releasePointerCapture(E.pointerId),b.current=null,p.current=null,P){const ie=E.currentTarget,W={originalEvent:E,delta:P};tv(P,x.swipeDirection,x.swipeThreshold)?Gc(CP,v,W,{discrete:!0}):Gc(SP,y,W,{discrete:!0}),ie.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),PP=e=>{const{__scopeToast:t,children:s,...r}=e,a=Uu(jc,t),[i,o]=u.useState(!1),[l,c]=u.useState(!1);return RP(()=>o(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(vc,{asChild:!0,children:n.jsx(zu,{...r,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",s]})})})},EP="ToastTitle",Vw=u.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(Ae.div,{...r,ref:t})});Vw.displayName=EP;var AP="ToastDescription",zw=u.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(Ae.div,{...r,ref:t})});zw.displayName=AP;var Uw="ToastAction",Bw=u.forwardRef((e,t)=>{const{altText:s,...r}=e;return s.trim()?n.jsx(qw,{altText:s,asChild:!0,children:n.jsx(gx,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Uw}\`. Expected non-empty \`string\`.`),null)});Bw.displayName=Uw;var Ww="ToastClose",gx=u.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e,a=IP(Ww,s);return n.jsx(qw,{asChild:!0,children:n.jsx(Ae.button,{type:"button",...r,ref:t,onClick:he(e.onClick,a.onClose)})})});gx.displayName=Ww;var qw=u.forwardRef((e,t)=>{const{__scopeToast:s,altText:r,...a}=e;return n.jsx(Ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function Hw(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),_P(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Hw(r))}}),t}function Gc(e,t,s,{discrete:r}){const a=s.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?fx(a,i):a.dispatchEvent(i)}var tv=(e,t,s=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>s:!i&&a>s};function RP(e=()=>{}){const t=kn(e);Bt(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[t])}function _P(e){return e.nodeType===e.ELEMENT_NODE}function DP(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function ah(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var OP=Ow,Kw=Mw,Qw=$w,Gw=Vw,Yw=zw,Zw=Bw,Xw=gx;function Jw(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=Jw(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function eN(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=Jw(e))&&(r&&(r+=" "),r+=t);return r}const nv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,sv=eN,fi=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return sv(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const f=s==null?void 0:s[d],m=i==null?void 0:i[d];if(f===null)return null;const y=nv(f)||nv(m);return a[d][y]}),l=s&&Object.entries(s).reduce((d,f)=>{let[m,y]=f;return y===void 0||(d[m]=y),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,f)=>{let{class:m,className:y,...v}=f;return Object.entries(v).every(j=>{let[x,w]=j;return Array.isArray(w)?w.includes({...i,...l}[x]):{...i,...l}[x]===w})?[...d,m,y]:d},[]);return sv(e,o,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tN=(...e)=>e.filter((t,s,r)=>!!t&&r.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>u.createElement("svg",{ref:c,...MP,width:t,height:t,stroke:e,strokeWidth:r?Number(s)*24/Number(t):s,className:tN("lucide",a),...l},[...o.map(([d,f])=>u.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(e,t)=>{const s=u.forwardRef(({className:r,...a},i)=>u.createElement(FP,{ref:i,iconNode:t,className:tN(`lucide-${LP(e)}`,r),...a}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=le("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=le("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=le("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=le("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=le("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=le("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=le("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=le("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=le("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=le("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=le("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=le("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=le("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=le("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=le("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=le("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=le("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=le("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=le("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=le("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=le("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=le("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=le("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=le("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=le("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=le("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=le("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=le("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=le("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=le("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=le("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=le("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=le("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=le("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=le("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=le("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=le("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=le("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=le("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=le("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=le("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=le("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=le("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=le("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=le("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=le("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=le("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=le("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=le("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=le("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=le("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wx="-",yE=e=>{const t=jE(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(wx);return l[0]===""&&l.length!==1&&l.shift(),mN(l,t)||vE(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},mN=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),a=r?mN(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(wx);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},mv=/^\[(.+)\]$/,vE=e=>{if(mv.test(e)){const t=mv.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},jE=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return wE(Object.entries(e.classGroups),s).forEach(([i,o])=>{Mf(o,r,i,t)}),r},Mf=(e,t,s,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:hv(t,a);i.classGroupId=s;return}if(typeof a=="function"){if(bE(a)){Mf(a(r),t,s,r);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([i,o])=>{Mf(o,hv(t,i),s,r)})})},hv=(e,t)=>{let s=e;return t.split(wx).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},bE=e=>e.isThemeGetter,wE=(e,t)=>t?e.map(([s,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[s,a]}):e,NE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const a=(i,o)=>{s.set(i,o),t++,t>e&&(t=0,r=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){s.has(i)?s.set(i,o):a(i,o)}}},hN="!",SE=e=>{const{separator:t,experimentalParseClassName:s}=e,r=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,f=0,m;for(let w=0;w<l.length;w++){let g=l[w];if(d===0){if(g===a&&(r||l.slice(w,w+i)===t)){c.push(l.slice(f,w)),f=w+i;continue}if(g==="/"){m=w;continue}}g==="["?d++:g==="]"&&d--}const y=c.length===0?l:l.substring(f),v=y.startsWith(hN),j=v?y.substring(1):y,x=m&&m>f?m-f:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:j,maybePostfixModifierPosition:x}};return s?l=>s({className:l,parseClassName:o}):o},CE=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(r=>{r[0]==="["?(t.push(...s.sort(),r),s=[]):s.push(r)}),t.push(...s.sort()),t},kE=e=>({cache:NE(e.cacheSize),parseClassName:SE(e),...yE(e)}),IE=/\s+/,TE=(e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(IE);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:v}=s(d);let j=!!v,x=r(j?y.substring(0,v):y);if(!x){if(!j){l=d+(l.length>0?" "+l:l);continue}if(x=r(y),!x){l=d+(l.length>0?" "+l:l);continue}j=!1}const w=CE(f).join(":"),g=m?w+hN:w,h=g+x;if(i.includes(h))continue;i.push(h);const p=a(x,j);for(let b=0;b<p.length;++b){const S=p[b];i.push(g+S)}l=d+(l.length>0?" "+l:l)}return l};function PE(){let e=0,t,s,r="";for(;e<arguments.length;)(t=arguments[e++])&&(s=fN(t))&&(r&&(r+=" "),r+=s);return r}const fN=e=>{if(typeof e=="string")return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=fN(e[r]))&&(s&&(s+=" "),s+=t);return s};function EE(e,...t){let s,r,a,i=o;function o(c){const d=t.reduce((f,m)=>m(f),e());return s=kE(d),r=s.cache.get,a=s.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const f=TE(c,s);return a(c,f),f}return function(){return i(PE.apply(null,arguments))}}const kt=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},pN=/^\[(?:([a-z-]+):)?(.+)\]$/i,AE=/^\d+\/\d+$/,RE=new Set(["px","full","screen"]),_E=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ME=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,or=e=>Ki(e)||RE.has(e)||AE.test(e),Rr=e=>_o(e,"length",qE),Ki=e=>!!e&&!Number.isNaN(Number(e)),ih=e=>_o(e,"number",Ki),Yo=e=>!!e&&Number.isInteger(Number(e)),FE=e=>e.endsWith("%")&&Ki(e.slice(0,-1)),Be=e=>pN.test(e),_r=e=>_E.test(e),$E=new Set(["length","size","percentage"]),VE=e=>_o(e,$E,xN),zE=e=>_o(e,"position",xN),UE=new Set(["image","url"]),BE=e=>_o(e,UE,KE),WE=e=>_o(e,"",HE),Zo=()=>!0,_o=(e,t,s)=>{const r=pN.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):s(r[2]):!1},qE=e=>DE.test(e)&&!OE.test(e),xN=()=>!1,HE=e=>LE.test(e),KE=e=>ME.test(e),QE=()=>{const e=kt("colors"),t=kt("spacing"),s=kt("blur"),r=kt("brightness"),a=kt("borderColor"),i=kt("borderRadius"),o=kt("borderSpacing"),l=kt("borderWidth"),c=kt("contrast"),d=kt("grayscale"),f=kt("hueRotate"),m=kt("invert"),y=kt("gap"),v=kt("gradientColorStops"),j=kt("gradientColorStopPositions"),x=kt("inset"),w=kt("margin"),g=kt("opacity"),h=kt("padding"),p=kt("saturate"),b=kt("scale"),S=kt("sepia"),N=kt("skew"),T=kt("space"),k=kt("translate"),A=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Be,t],$=()=>[Be,t],B=()=>["",or,Rr],E=()=>["auto",Ki,Be],P=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Be],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Ki,Be];return{cacheSize:500,separator:":",theme:{colors:[Zo],spacing:[or,Rr],blur:["none","",_r,Be],brightness:q(),borderColor:[e],borderRadius:["none","","full",_r,Be],borderSpacing:$(),borderWidth:B(),contrast:q(),grayscale:U(),hueRotate:q(),invert:U(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[FE,Rr],inset:I(),margin:I(),opacity:q(),padding:$(),saturate:q(),scale:q(),sepia:U(),skew:q(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Be]}],container:["container"],columns:[{columns:[_r]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...P(),Be]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yo,Be]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Be]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Yo,Be]}],"grid-cols":[{"grid-cols":[Zo]}],"col-start-end":[{col:["auto",{span:["full",Yo,Be]},Be]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[Zo]}],"row-start-end":[{row:["auto",{span:[Yo,Be]},Be]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Be]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[h]}],px:[{px:[h]}],py:[{py:[h]}],ps:[{ps:[h]}],pe:[{pe:[h]}],pt:[{pt:[h]}],pr:[{pr:[h]}],pb:[{pb:[h]}],pl:[{pl:[h]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Be,t]}],"min-w":[{"min-w":[Be,t,"min","max","fit"]}],"max-w":[{"max-w":[Be,t,"none","full","min","max","fit","prose",{screen:[_r]},_r]}],h:[{h:[Be,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Be,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Be,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Be,t,"auto","min","max","fit"]}],"font-size":[{text:["base",_r,Rr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ih]}],"font-family":[{font:[Zo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Be]}],"line-clamp":[{"line-clamp":["none",Ki,ih]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",or,Be]}],"list-image":[{"list-image":["none",Be]}],"list-style-type":[{list:["none","disc","decimal",Be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",or,Rr]}],"underline-offset":[{"underline-offset":["auto",or,Be]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...P(),zE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BE]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:L()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[or,Be]}],"outline-w":[{outline:[or,Rr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[or,Rr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",_r,WE]}],"shadow-color":[{shadow:[Zo]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",_r,Be]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[p]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[p]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Be]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Be]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Yo,Be]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Be]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[or,Rr,ih]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},GE=EE(QE);function z(...e){return GE(eN(e))}const YE=OP,gN=u.forwardRef(({className:e,...t},s)=>n.jsx(Kw,{ref:s,className:z("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));gN.displayName=Kw.displayName;const ZE=fi("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yN=u.forwardRef(({className:e,variant:t,...s},r)=>n.jsx(Qw,{ref:r,className:z(ZE({variant:t}),e),...s}));yN.displayName=Qw.displayName;const XE=u.forwardRef(({className:e,...t},s)=>n.jsx(Zw,{ref:s,className:z("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));XE.displayName=Zw.displayName;const vN=u.forwardRef(({className:e,...t},s)=>n.jsx(Xw,{ref:s,className:z("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(bx,{className:"h-4 w-4"})}));vN.displayName=Xw.displayName;const jN=u.forwardRef(({className:e,...t},s)=>n.jsx(Gw,{ref:s,className:z("text-sm font-semibold",e),...t}));jN.displayName=Gw.displayName;const bN=u.forwardRef(({className:e,...t},s)=>n.jsx(Yw,{ref:s,className:z("text-sm opacity-90",e),...t}));bN.displayName=Yw.displayName;function JE(){const{toasts:e}=Vt();return n.jsxs(YE,{children:[e.map(function({id:t,title:s,description:r,action:a,...i}){return n.jsxs(yN,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(jN,{children:s}),r&&n.jsx(bN,{children:r})]}),a,n.jsx(vN,{})]},t)}),n.jsx(gN,{})]})}var eA=Su[" useId ".trim().toString()]||(()=>{}),tA=0;function us(e){const[t,s]=u.useState(eA());return Bt(()=>{s(r=>r??String(tA++))},[e]),t?`radix-${t}`:""}const nA=["top","right","bottom","left"],pa=Math.min,Bn=Math.max,nu=Math.round,Yc=Math.floor,Xs=e=>({x:e,y:e}),sA={left:"right",right:"left",bottom:"top",top:"bottom"},rA={start:"end",end:"start"};function Ff(e,t,s){return Bn(e,pa(t,s))}function Cr(e,t){return typeof e=="function"?e(t):e}function kr(e){return e.split("-")[0]}function Do(e){return e.split("-")[1]}function Nx(e){return e==="x"?"y":"x"}function Sx(e){return e==="y"?"height":"width"}const aA=new Set(["top","bottom"]);function Gs(e){return aA.has(kr(e))?"y":"x"}function Cx(e){return Nx(Gs(e))}function iA(e,t,s){s===void 0&&(s=!1);const r=Do(e),a=Cx(e),i=Sx(a);let o=a==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=su(o)),[o,su(o)]}function oA(e){const t=su(e);return[$f(e),t,$f(t)]}function $f(e){return e.replace(/start|end/g,t=>rA[t])}const fv=["left","right"],pv=["right","left"],lA=["top","bottom"],cA=["bottom","top"];function dA(e,t,s){switch(e){case"top":case"bottom":return s?t?pv:fv:t?fv:pv;case"left":case"right":return t?lA:cA;default:return[]}}function uA(e,t,s,r){const a=Do(e);let i=dA(kr(e),s==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map($f)))),i}function su(e){return e.replace(/left|right|bottom|top/g,t=>sA[t])}function mA(e){return{top:0,right:0,bottom:0,left:0,...e}}function wN(e){return typeof e!="number"?mA(e):{top:e,right:e,bottom:e,left:e}}function ru(e){const{x:t,y:s,width:r,height:a}=e;return{width:r,height:a,top:s,left:t,right:t+r,bottom:s+a,x:t,y:s}}function xv(e,t,s){let{reference:r,floating:a}=e;const i=Gs(t),o=Cx(t),l=Sx(o),c=kr(t),d=i==="y",f=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,y=r[l]/2-a[l]/2;let v;switch(c){case"top":v={x:f,y:r.y-a.height};break;case"bottom":v={x:f,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:m};break;case"left":v={x:r.x-a.width,y:m};break;default:v={x:r.x,y:r.y}}switch(Do(t)){case"start":v[o]-=y*(s&&d?-1:1);break;case"end":v[o]+=y*(s&&d?-1:1);break}return v}const hA=async(e,t,s)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=s,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:m}=xv(d,r,c),y=r,v={},j=0;for(let x=0;x<l.length;x++){const{name:w,fn:g}=l[x],{x:h,y:p,data:b,reset:S}=await g({x:f,y:m,initialPlacement:r,placement:y,strategy:a,middlewareData:v,rects:d,platform:o,elements:{reference:e,floating:t}});f=h??f,m=p??m,v={...v,[w]:{...v[w],...b}},S&&j<=50&&(j++,typeof S=="object"&&(S.placement&&(y=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:f,y:m}=xv(d,y,c)),x=-1)}return{x:f,y:m,placement:y,strategy:a,middlewareData:v}};async function Ql(e,t){var s;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:y=!1,padding:v=0}=Cr(t,e),j=wN(v),w=l[y?m==="floating"?"reference":"floating":m],g=ru(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(w)))==null||s?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),h=m==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,p=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(p))?await(i.getScale==null?void 0:i.getScale(p))||{x:1,y:1}:{x:1,y:1},S=ru(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:h,offsetParent:p,strategy:c}):h);return{top:(g.top-S.top+j.top)/b.y,bottom:(S.bottom-g.bottom+j.bottom)/b.y,left:(g.left-S.left+j.left)/b.x,right:(S.right-g.right+j.right)/b.x}}const fA=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:f=0}=Cr(e,t)||{};if(d==null)return{};const m=wN(f),y={x:s,y:r},v=Cx(a),j=Sx(v),x=await o.getDimensions(d),w=v==="y",g=w?"top":"left",h=w?"bottom":"right",p=w?"clientHeight":"clientWidth",b=i.reference[j]+i.reference[v]-y[v]-i.floating[j],S=y[v]-i.reference[v],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let T=N?N[p]:0;(!T||!await(o.isElement==null?void 0:o.isElement(N)))&&(T=l.floating[p]||i.floating[j]);const k=b/2-S/2,A=T/2-x[j]/2-1,C=pa(m[g],A),I=pa(m[h],A),$=C,B=T-x[j]-I,E=T/2-x[j]/2+k,P=Ff($,E,B),L=!c.arrow&&Do(a)!=null&&E!==P&&i.reference[j]/2-(E<$?C:I)-x[j]/2<0,ie=L?E<$?E-$:E-B:0;return{[v]:y[v]+ie,data:{[v]:P,centerOffset:E-P-ie,...L&&{alignmentOffset:ie}},reset:L}}}),pA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:x=!0,...w}=Cr(e,t);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const g=kr(a),h=Gs(l),p=kr(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=y||(p||!x?[su(l)]:oA(l)),N=j!=="none";!y&&N&&S.push(...uA(l,x,j,b));const T=[l,...S],k=await Ql(t,w),A=[];let C=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&A.push(k[g]),m){const E=iA(a,o,b);A.push(k[E[0]],k[E[1]])}if(C=[...C,{placement:a,overflows:A}],!A.every(E=>E<=0)){var I,$;const E=(((I=i.flip)==null?void 0:I.index)||0)+1,P=T[E];if(P&&(!(m==="alignment"?h!==Gs(P):!1)||C.every(W=>Gs(W.placement)===h?W.overflows[0]>0:!0)))return{data:{index:E,overflows:C},reset:{placement:P}};let L=($=C.filter(ie=>ie.overflows[0]<=0).sort((ie,W)=>ie.overflows[1]-W.overflows[1])[0])==null?void 0:$.placement;if(!L)switch(v){case"bestFit":{var B;const ie=(B=C.filter(W=>{if(N){const U=Gs(W.placement);return U===h||U==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(U=>U>0).reduce((U,H)=>U+H,0)]).sort((W,U)=>W[1]-U[1])[0])==null?void 0:B[0];ie&&(L=ie);break}case"initialPlacement":L=l;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function gv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function yv(e){return nA.some(t=>e[t]>=0)}const xA=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:r="referenceHidden",...a}=Cr(e,t);switch(r){case"referenceHidden":{const i=await Ql(t,{...a,elementContext:"reference"}),o=gv(i,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:yv(o)}}}case"escaped":{const i=await Ql(t,{...a,altBoundary:!0}),o=gv(i,s.floating);return{data:{escapedOffsets:o,escaped:yv(o)}}}default:return{}}}}},NN=new Set(["left","top"]);async function gA(e,t){const{placement:s,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=kr(s),l=Do(s),c=Gs(s)==="y",d=NN.has(o)?-1:1,f=i&&c?-1:1,m=Cr(t,e);let{mainAxis:y,crossAxis:v,alignmentAxis:j}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof j=="number"&&(v=l==="end"?j*-1:j),c?{x:v*f,y:y*d}:{x:y*d,y:v*f}}const yA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await gA(t,e);return o===((s=l.offset)==null?void 0:s.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},vA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:g,y:h}=w;return{x:g,y:h}}},...c}=Cr(e,t),d={x:s,y:r},f=await Ql(t,c),m=Gs(kr(a)),y=Nx(m);let v=d[y],j=d[m];if(i){const w=y==="y"?"top":"left",g=y==="y"?"bottom":"right",h=v+f[w],p=v-f[g];v=Ff(h,v,p)}if(o){const w=m==="y"?"top":"left",g=m==="y"?"bottom":"right",h=j+f[w],p=j-f[g];j=Ff(h,j,p)}const x=l.fn({...t,[y]:v,[m]:j});return{...x,data:{x:x.x-s,y:x.y-r,enabled:{[y]:i,[m]:o}}}}}},jA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Cr(e,t),f={x:s,y:r},m=Gs(a),y=Nx(m);let v=f[y],j=f[m];const x=Cr(l,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const p=y==="y"?"height":"width",b=i.reference[y]-i.floating[p]+w.mainAxis,S=i.reference[y]+i.reference[p]-w.mainAxis;v<b?v=b:v>S&&(v=S)}if(d){var g,h;const p=y==="y"?"width":"height",b=NN.has(kr(a)),S=i.reference[m]-i.floating[p]+(b&&((g=o.offset)==null?void 0:g[m])||0)+(b?0:w.crossAxis),N=i.reference[m]+i.reference[p]+(b?0:((h=o.offset)==null?void 0:h[m])||0)-(b?w.crossAxis:0);j<S?j=S:j>N&&(j=N)}return{[y]:v,[m]:j}}}},bA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Cr(e,t),f=await Ql(t,d),m=kr(a),y=Do(a),v=Gs(a)==="y",{width:j,height:x}=i.floating;let w,g;m==="top"||m==="bottom"?(w=m,g=y===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=m,w=y==="end"?"top":"bottom");const h=x-f.top-f.bottom,p=j-f.left-f.right,b=pa(x-f[w],h),S=pa(j-f[g],p),N=!t.middlewareData.shift;let T=b,k=S;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(k=p),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=h),N&&!y){const C=Bn(f.left,0),I=Bn(f.right,0),$=Bn(f.top,0),B=Bn(f.bottom,0);v?k=j-2*(C!==0||I!==0?C+I:Bn(f.left,f.right)):T=x-2*($!==0||B!==0?$+B:Bn(f.top,f.bottom))}await c({...t,availableWidth:k,availableHeight:T});const A=await o.getDimensions(l.floating);return j!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function Ku(){return typeof window<"u"}function Oo(e){return SN(e)?(e.nodeName||"").toLowerCase():"#document"}function Kn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function sr(e){var t;return(t=(SN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function SN(e){return Ku()?e instanceof Node||e instanceof Kn(e).Node:!1}function Ds(e){return Ku()?e instanceof Element||e instanceof Kn(e).Element:!1}function tr(e){return Ku()?e instanceof HTMLElement||e instanceof Kn(e).HTMLElement:!1}function vv(e){return!Ku()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Kn(e).ShadowRoot}const wA=new Set(["inline","contents"]);function bc(e){const{overflow:t,overflowX:s,overflowY:r,display:a}=Os(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+s)&&!wA.has(a)}const NA=new Set(["table","td","th"]);function SA(e){return NA.has(Oo(e))}const CA=[":popover-open",":modal"];function Qu(e){return CA.some(t=>{try{return e.matches(t)}catch{return!1}})}const kA=["transform","translate","scale","rotate","perspective"],IA=["transform","translate","scale","rotate","perspective","filter"],TA=["paint","layout","strict","content"];function kx(e){const t=Ix(),s=Ds(e)?Os(e):e;return kA.some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||IA.some(r=>(s.willChange||"").includes(r))||TA.some(r=>(s.contain||"").includes(r))}function PA(e){let t=xa(e);for(;tr(t)&&!vo(t);){if(kx(t))return t;if(Qu(t))return null;t=xa(t)}return null}function Ix(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const EA=new Set(["html","body","#document"]);function vo(e){return EA.has(Oo(e))}function Os(e){return Kn(e).getComputedStyle(e)}function Gu(e){return Ds(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xa(e){if(Oo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vv(e)&&e.host||sr(e);return vv(t)?t.host:t}function CN(e){const t=xa(e);return vo(t)?e.ownerDocument?e.ownerDocument.body:e.body:tr(t)&&bc(t)?t:CN(t)}function Gl(e,t,s){var r;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=CN(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=Kn(a);if(i){const l=Vf(o);return t.concat(o,o.visualViewport||[],bc(a)?a:[],l&&s?Gl(l):[])}return t.concat(a,Gl(a,[],s))}function Vf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kN(e){const t=Os(e);let s=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=tr(e),i=a?e.offsetWidth:s,o=a?e.offsetHeight:r,l=nu(s)!==i||nu(r)!==o;return l&&(s=i,r=o),{width:s,height:r,$:l}}function Tx(e){return Ds(e)?e:e.contextElement}function Qi(e){const t=Tx(e);if(!tr(t))return Xs(1);const s=t.getBoundingClientRect(),{width:r,height:a,$:i}=kN(t);let o=(i?nu(s.width):s.width)/r,l=(i?nu(s.height):s.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const AA=Xs(0);function IN(e){const t=Kn(e);return!Ix()||!t.visualViewport?AA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function RA(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Kn(e)?!1:t}function ri(e,t,s,r){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),i=Tx(e);let o=Xs(1);t&&(r?Ds(r)&&(o=Qi(r)):o=Qi(e));const l=RA(i,s,r)?IN(i):Xs(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,f=a.width/o.x,m=a.height/o.y;if(i){const y=Kn(i),v=r&&Ds(r)?Kn(r):r;let j=y,x=Vf(j);for(;x&&r&&v!==j;){const w=Qi(x),g=x.getBoundingClientRect(),h=Os(x),p=g.left+(x.clientLeft+parseFloat(h.paddingLeft))*w.x,b=g.top+(x.clientTop+parseFloat(h.paddingTop))*w.y;c*=w.x,d*=w.y,f*=w.x,m*=w.y,c+=p,d+=b,j=Kn(x),x=Vf(j)}}return ru({width:f,height:m,x:c,y:d})}function Yu(e,t){const s=Gu(e).scrollLeft;return t?t.left+s:ri(sr(e)).left+s}function TN(e,t){const s=e.getBoundingClientRect(),r=s.left+t.scrollLeft-Yu(e,s),a=s.top+t.scrollTop;return{x:r,y:a}}function _A(e){let{elements:t,rect:s,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=sr(r),l=t?Qu(t.floating):!1;if(r===o||l&&i)return s;let c={scrollLeft:0,scrollTop:0},d=Xs(1);const f=Xs(0),m=tr(r);if((m||!m&&!i)&&((Oo(r)!=="body"||bc(o))&&(c=Gu(r)),tr(r))){const v=ri(r);d=Qi(r),f.x=v.x+r.clientLeft,f.y=v.y+r.clientTop}const y=o&&!m&&!i?TN(o,c):Xs(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+f.x+y.x,y:s.y*d.y-c.scrollTop*d.y+f.y+y.y}}function DA(e){return Array.from(e.getClientRects())}function OA(e){const t=sr(e),s=Gu(e),r=e.ownerDocument.body,a=Bn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Bn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-s.scrollLeft+Yu(e);const l=-s.scrollTop;return Os(r).direction==="rtl"&&(o+=Bn(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}const jv=25;function LA(e,t){const s=Kn(e),r=sr(e),a=s.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const f=Ix();(!f||f&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=Yu(r);if(d<=0){const f=r.ownerDocument,m=f.body,y=getComputedStyle(m),v=f.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,j=Math.abs(r.clientWidth-m.clientWidth-v);j<=jv&&(i-=j)}else d<=jv&&(i+=d);return{width:i,height:o,x:l,y:c}}const MA=new Set(["absolute","fixed"]);function FA(e,t){const s=ri(e,!0,t==="fixed"),r=s.top+e.clientTop,a=s.left+e.clientLeft,i=tr(e)?Qi(e):Xs(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=r*i.y;return{width:o,height:l,x:c,y:d}}function bv(e,t,s){let r;if(t==="viewport")r=LA(e,s);else if(t==="document")r=OA(sr(e));else if(Ds(t))r=FA(t,s);else{const a=IN(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ru(r)}function PN(e,t){const s=xa(e);return s===t||!Ds(s)||vo(s)?!1:Os(s).position==="fixed"||PN(s,t)}function $A(e,t){const s=t.get(e);if(s)return s;let r=Gl(e,[],!1).filter(l=>Ds(l)&&Oo(l)!=="body"),a=null;const i=Os(e).position==="fixed";let o=i?xa(e):e;for(;Ds(o)&&!vo(o);){const l=Os(o),c=kx(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&MA.has(a.position)||bc(o)&&!c&&PN(e,o))?r=r.filter(f=>f!==o):a=l,o=xa(o)}return t.set(e,r),r}function VA(e){let{element:t,boundary:s,rootBoundary:r,strategy:a}=e;const o=[...s==="clippingAncestors"?Qu(t)?[]:$A(t,this._c):[].concat(s),r],l=o[0],c=o.reduce((d,f)=>{const m=bv(t,f,a);return d.top=Bn(m.top,d.top),d.right=pa(m.right,d.right),d.bottom=pa(m.bottom,d.bottom),d.left=Bn(m.left,d.left),d},bv(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function zA(e){const{width:t,height:s}=kN(e);return{width:t,height:s}}function UA(e,t,s){const r=tr(t),a=sr(t),i=s==="fixed",o=ri(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Xs(0);function d(){c.x=Yu(a)}if(r||!r&&!i)if((Oo(t)!=="body"||bc(a))&&(l=Gu(t)),r){const v=ri(t,!0,i,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else a&&d();i&&!r&&a&&d();const f=a&&!r&&!i?TN(a,l):Xs(0),m=o.left+l.scrollLeft-c.x-f.x,y=o.top+l.scrollTop-c.y-f.y;return{x:m,y,width:o.width,height:o.height}}function oh(e){return Os(e).position==="static"}function wv(e,t){if(!tr(e)||Os(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return sr(e)===s&&(s=s.ownerDocument.body),s}function EN(e,t){const s=Kn(e);if(Qu(e))return s;if(!tr(e)){let a=xa(e);for(;a&&!vo(a);){if(Ds(a)&&!oh(a))return a;a=xa(a)}return s}let r=wv(e,t);for(;r&&SA(r)&&oh(r);)r=wv(r,t);return r&&vo(r)&&oh(r)&&!kx(r)?s:r||PA(e)||s}const BA=async function(e){const t=this.getOffsetParent||EN,s=this.getDimensions,r=await s(e.floating);return{reference:UA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function WA(e){return Os(e).direction==="rtl"}const qA={convertOffsetParentRelativeRectToViewportRelativeRect:_A,getDocumentElement:sr,getClippingRect:VA,getOffsetParent:EN,getElementRects:BA,getClientRects:DA,getDimensions:zA,getScale:Qi,isElement:Ds,isRTL:WA};function AN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function HA(e,t){let s=null,r;const a=sr(e);function i(){var l;clearTimeout(r),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:f,top:m,width:y,height:v}=d;if(l||t(),!y||!v)return;const j=Yc(m),x=Yc(a.clientWidth-(f+y)),w=Yc(a.clientHeight-(m+v)),g=Yc(f),p={rootMargin:-j+"px "+-x+"px "+-w+"px "+-g+"px",threshold:Bn(0,pa(1,c))||1};let b=!0;function S(N){const T=N[0].intersectionRatio;if(T!==c){if(!b)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!AN(d,e.getBoundingClientRect())&&o(),b=!1}try{s=new IntersectionObserver(S,{...p,root:a.ownerDocument})}catch{s=new IntersectionObserver(S,p)}s.observe(e)}return o(!0),i}function KA(e,t,s,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Tx(e),f=a||i?[...d?Gl(d):[],...Gl(t)]:[];f.forEach(g=>{a&&g.addEventListener("scroll",s,{passive:!0}),i&&g.addEventListener("resize",s)});const m=d&&l?HA(d,s):null;let y=-1,v=null;o&&(v=new ResizeObserver(g=>{let[h]=g;h&&h.target===d&&v&&(v.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var p;(p=v)==null||p.observe(t)})),s()}),d&&!c&&v.observe(d),v.observe(t));let j,x=c?ri(e):null;c&&w();function w(){const g=ri(e);x&&!AN(x,g)&&s(),x=g,j=requestAnimationFrame(w)}return s(),()=>{var g;f.forEach(h=>{a&&h.removeEventListener("scroll",s),i&&h.removeEventListener("resize",s)}),m==null||m(),(g=v)==null||g.disconnect(),v=null,c&&cancelAnimationFrame(j)}}const QA=yA,GA=vA,YA=pA,ZA=bA,XA=xA,Nv=fA,JA=jA,eR=(e,t,s)=>{const r=new Map,a={platform:qA,...s},i={...a.platform,_c:r};return hA(e,t,{...a,platform:i})};var tR=typeof document<"u",nR=function(){},jd=tR?u.useLayoutEffect:nR;function au(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(r=s;r--!==0;)if(!au(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=s;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!au(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function RN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Sv(e,t){const s=RN(e);return Math.round(t*s)/s}function lh(e){const t=u.useRef(e);return jd(()=>{t.current=e}),t}function sR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[f,m]=u.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[y,v]=u.useState(r);au(y,r)||v(r);const[j,x]=u.useState(null),[w,g]=u.useState(null),h=u.useCallback(W=>{W!==N.current&&(N.current=W,x(W))},[]),p=u.useCallback(W=>{W!==T.current&&(T.current=W,g(W))},[]),b=i||j,S=o||w,N=u.useRef(null),T=u.useRef(null),k=u.useRef(f),A=c!=null,C=lh(c),I=lh(a),$=lh(d),B=u.useCallback(()=>{if(!N.current||!T.current)return;const W={placement:t,strategy:s,middleware:y};I.current&&(W.platform=I.current),eR(N.current,T.current,W).then(U=>{const H={...U,isPositioned:$.current!==!1};E.current&&!au(k.current,H)&&(k.current=H,mi.flushSync(()=>{m(H)}))})},[y,t,s,I,$]);jd(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,m(W=>({...W,isPositioned:!1})))},[d]);const E=u.useRef(!1);jd(()=>(E.current=!0,()=>{E.current=!1}),[]),jd(()=>{if(b&&(N.current=b),S&&(T.current=S),b&&S){if(C.current)return C.current(b,S,B);B()}},[b,S,B,C,A]);const P=u.useMemo(()=>({reference:N,floating:T,setReference:h,setFloating:p}),[h,p]),L=u.useMemo(()=>({reference:b,floating:S}),[b,S]),ie=u.useMemo(()=>{const W={position:s,left:0,top:0};if(!L.floating)return W;const U=Sv(L.floating,f.x),H=Sv(L.floating,f.y);return l?{...W,transform:"translate("+U+"px, "+H+"px)",...RN(L.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:U,top:H}},[s,l,L.floating,f.x,f.y]);return u.useMemo(()=>({...f,update:B,refs:P,elements:L,floatingStyles:ie}),[f,B,P,L,ie])}const rR=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:r,padding:a}=typeof e=="function"?e(s):e;return r&&t(r)?r.current!=null?Nv({element:r.current,padding:a}).fn(s):{}:r?Nv({element:r,padding:a}).fn(s):{}}}},aR=(e,t)=>({...QA(e),options:[e,t]}),iR=(e,t)=>({...GA(e),options:[e,t]}),oR=(e,t)=>({...JA(e),options:[e,t]}),lR=(e,t)=>({...YA(e),options:[e,t]}),cR=(e,t)=>({...ZA(e),options:[e,t]}),dR=(e,t)=>({...XA(e),options:[e,t]}),uR=(e,t)=>({...rR(e),options:[e,t]});var mR="Arrow",_N=u.forwardRef((e,t)=>{const{children:s,width:r=10,height:a=5,...i}=e;return n.jsx(Ae.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});_N.displayName=mR;var hR=_N;function Px(e){const[t,s]=u.useState(void 0);return Bt(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;s({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),t}var Ex="Popper",[DN,Lo]=Jn(Ex),[fR,ON]=DN(Ex),LN=e=>{const{__scopePopper:t,children:s}=e,[r,a]=u.useState(null);return n.jsx(fR,{scope:t,anchor:r,onAnchorChange:a,children:s})};LN.displayName=Ex;var MN="PopperAnchor",FN=u.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:r,...a}=e,i=ON(MN,s),o=u.useRef(null),l=et(t,o),c=u.useRef(null);return u.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||o.current,d!==c.current&&i.onAnchorChange(c.current)}),r?null:n.jsx(Ae.div,{...a,ref:l})});FN.displayName=MN;var Ax="PopperContent",[pR,xR]=DN(Ax),$N=u.forwardRef((e,t)=>{var X,ke,Me,Re,Ve,_e;const{__scopePopper:s,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:v="optimized",onPlaced:j,...x}=e,w=ON(Ax,s),[g,h]=u.useState(null),p=et(t,en=>h(en)),[b,S]=u.useState(null),N=Px(b),T=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,A=r+(i!=="center"?"-"+i:""),C=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},I=Array.isArray(d)?d:[d],$=I.length>0,B={padding:C,boundary:I.filter(yR),altBoundary:$},{refs:E,floatingStyles:P,placement:L,isPositioned:ie,middlewareData:W}=sR({strategy:"fixed",placement:A,whileElementsMounted:(...en)=>KA(...en,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[aR({mainAxis:a+k,alignmentAxis:o}),c&&iR({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?oR():void 0,...B}),c&&lR({...B}),cR({...B,apply:({elements:en,rects:En,availableWidth:Fs,availableHeight:$s})=>{const{width:rr,height:Fo}=En.reference,Ia=en.floating.style;Ia.setProperty("--radix-popper-available-width",`${Fs}px`),Ia.setProperty("--radix-popper-available-height",`${$s}px`),Ia.setProperty("--radix-popper-anchor-width",`${rr}px`),Ia.setProperty("--radix-popper-anchor-height",`${Fo}px`)}}),b&&uR({element:b,padding:l}),vR({arrowWidth:T,arrowHeight:k}),y&&dR({strategy:"referenceHidden",...B})]}),[U,H]=UN(L),q=kn(j);Bt(()=>{ie&&(q==null||q())},[ie,q]);const ne=(X=W.arrow)==null?void 0:X.x,me=(ke=W.arrow)==null?void 0:ke.y,fe=((Me=W.arrow)==null?void 0:Me.centerOffset)!==0,[$e,F]=u.useState();return Bt(()=>{g&&F(window.getComputedStyle(g).zIndex)},[g]),n.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...P,transform:ie?P.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$e,"--radix-popper-transform-origin":[(Re=W.transformOrigin)==null?void 0:Re.x,(Ve=W.transformOrigin)==null?void 0:Ve.y].join(" "),...((_e=W.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(pR,{scope:s,placedSide:U,onArrowChange:S,arrowX:ne,arrowY:me,shouldHideArrow:fe,children:n.jsx(Ae.div,{"data-side":U,"data-align":H,...x,ref:p,style:{...x.style,animation:ie?void 0:"none"}})})})});$N.displayName=Ax;var VN="PopperArrow",gR={top:"bottom",right:"left",bottom:"top",left:"right"},zN=u.forwardRef(function(t,s){const{__scopePopper:r,...a}=t,i=xR(VN,r),o=gR[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(hR,{...a,ref:s,style:{...a.style,display:"block"}})})});zN.displayName=VN;function yR(e){return e!==null}var vR=e=>({name:"transformOrigin",options:e,fn(t){var w,g,h;const{placement:s,rects:r,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,f]=UN(s),m={start:"0%",center:"50%",end:"100%"}[f],y=(((g=a.arrow)==null?void 0:g.x)??0)+l/2,v=(((h=a.arrow)==null?void 0:h.y)??0)+c/2;let j="",x="";return d==="bottom"?(j=o?m:`${y}px`,x=`${-c}px`):d==="top"?(j=o?m:`${y}px`,x=`${r.floating.height+c}px`):d==="right"?(j=`${-c}px`,x=o?m:`${v}px`):d==="left"&&(j=`${r.floating.width+c}px`,x=o?m:`${v}px`),{data:{x:j,y:x}}}});function UN(e){const[t,s="center"]=e.split("-");return[t,s]}var Rx=LN,_x=FN,Dx=$N,Ox=zN,jR=Symbol("radix.slottable");function bR(e){const t=({children:s})=>n.jsx(n.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=jR,t}var[Zu]=Jn("Tooltip",[Lo]),Xu=Lo(),BN="TooltipProvider",wR=700,zf="tooltip.open",[NR,Lx]=Zu(BN),WN=e=>{const{__scopeTooltip:t,delayDuration:s=wR,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,o=u.useRef(!0),l=u.useRef(!1),c=u.useRef(0);return u.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),n.jsx(NR,{scope:t,isOpenDelayedRef:o,delayDuration:s,onOpen:u.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:u.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:u.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};WN.displayName=BN;var Yl="Tooltip",[SR,Ju]=Zu(Yl),qN=e=>{const{__scopeTooltip:t,children:s,open:r,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=Lx(Yl,e.__scopeTooltip),d=Xu(t),[f,m]=u.useState(null),y=us(),v=u.useRef(0),j=o??c.disableHoverableContent,x=l??c.delayDuration,w=u.useRef(!1),[g,h]=_s({prop:r,defaultProp:a??!1,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(zf))):c.onClose(),i==null||i(T)},caller:Yl}),p=u.useMemo(()=>g?w.current?"delayed-open":"instant-open":"closed",[g]),b=u.useCallback(()=>{window.clearTimeout(v.current),v.current=0,w.current=!1,h(!0)},[h]),S=u.useCallback(()=>{window.clearTimeout(v.current),v.current=0,h(!1)},[h]),N=u.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{w.current=!0,h(!0),v.current=0},x)},[x,h]);return u.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),n.jsx(Rx,{...d,children:n.jsx(SR,{scope:t,contentId:y,open:g,stateAttribute:p,trigger:f,onTriggerChange:m,onTriggerEnter:u.useCallback(()=>{c.isOpenDelayedRef.current?N():b()},[c.isOpenDelayedRef,N,b]),onTriggerLeave:u.useCallback(()=>{j?S():(window.clearTimeout(v.current),v.current=0)},[S,j]),onOpen:b,onClose:S,disableHoverableContent:j,children:s})})};qN.displayName=Yl;var Uf="TooltipTrigger",HN=u.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,a=Ju(Uf,s),i=Lx(Uf,s),o=Xu(s),l=u.useRef(null),c=et(t,l,a.onTriggerChange),d=u.useRef(!1),f=u.useRef(!1),m=u.useCallback(()=>d.current=!1,[]);return u.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),n.jsx(_x,{asChild:!0,...o,children:n.jsx(Ae.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:he(e.onPointerMove,y=>{y.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:he(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:he(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:he(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:he(e.onBlur,a.onClose),onClick:he(e.onClick,a.onClose)})})});HN.displayName=Uf;var CR="TooltipPortal",[n$,kR]=Zu(CR,{forceMount:void 0}),jo="TooltipContent",KN=u.forwardRef((e,t)=>{const s=kR(jo,e.__scopeTooltip),{forceMount:r=s.forceMount,side:a="top",...i}=e,o=Ju(jo,e.__scopeTooltip);return n.jsx(es,{present:r||o.open,children:o.disableHoverableContent?n.jsx(QN,{side:a,...i,ref:t}):n.jsx(IR,{side:a,...i,ref:t})})}),IR=u.forwardRef((e,t)=>{const s=Ju(jo,e.__scopeTooltip),r=Lx(jo,e.__scopeTooltip),a=u.useRef(null),i=et(t,a),[o,l]=u.useState(null),{trigger:c,onClose:d}=s,f=a.current,{onPointerInTransitChange:m}=r,y=u.useCallback(()=>{l(null),m(!1)},[m]),v=u.useCallback((j,x)=>{const w=j.currentTarget,g={x:j.clientX,y:j.clientY},h=RR(g,w.getBoundingClientRect()),p=_R(g,h),b=DR(x.getBoundingClientRect()),S=LR([...p,...b]);l(S),m(!0)},[m]);return u.useEffect(()=>()=>y(),[y]),u.useEffect(()=>{if(c&&f){const j=w=>v(w,f),x=w=>v(w,c);return c.addEventListener("pointerleave",j),f.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",j),f.removeEventListener("pointerleave",x)}}},[c,f,v,y]),u.useEffect(()=>{if(o){const j=x=>{const w=x.target,g={x:x.clientX,y:x.clientY},h=(c==null?void 0:c.contains(w))||(f==null?void 0:f.contains(w)),p=!OR(g,o);h?y():p&&(y(),d())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[c,f,o,d,y]),n.jsx(QN,{...e,ref:i})}),[TR,PR]=Zu(Yl,{isInside:!1}),ER=bR("TooltipContent"),QN=u.forwardRef((e,t)=>{const{__scopeTooltip:s,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Ju(jo,s),d=Xu(s),{onClose:f}=c;return u.useEffect(()=>(document.addEventListener(zf,f),()=>document.removeEventListener(zf,f)),[f]),u.useEffect(()=>{if(c.trigger){const m=y=>{const v=y.target;v!=null&&v.contains(c.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,f]),n.jsx(Eo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:n.jsxs(Dx,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(ER,{children:r}),n.jsx(TR,{scope:s,isInside:!0,children:n.jsx(gP,{id:c.contentId,role:"tooltip",children:a||r})})]})})});KN.displayName=jo;var GN="TooltipArrow",AR=u.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,a=Xu(s);return PR(GN,s).isInside?null:n.jsx(Ox,{...a,...r,ref:t})});AR.displayName=GN;function RR(e,t){const s=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(s,r,a,i)){case i:return"left";case a:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function _R(e,t,s=5){const r=[];switch(t){case"top":r.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":r.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":r.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":r.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return r}function DR(e){const{top:t,right:s,bottom:r,left:a}=e;return[{x:a,y:t},{x:s,y:t},{x:s,y:r},{x:a,y:r}]}function OR(e,t){const{x:s,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,f=l.y,m=c.x,y=c.y;f>r!=y>r&&s<(m-d)*(r-f)/(y-f)+d&&(a=!a)}return a}function LR(e){const t=e.slice();return t.sort((s,r)=>s.x<r.x?-1:s.x>r.x?1:s.y<r.y?-1:s.y>r.y?1:0),MR(t)}function MR(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const s=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;s.length>=2;){const i=s[s.length-1],o=s[s.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))s.pop();else break}s.push(a)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var FR=WN,$R=qN,VR=HN,YN=KN;const ZN=FR,zR=$R,UR=VR,XN=u.forwardRef(({className:e,sideOffset:t=4,...s},r)=>n.jsx(YN,{ref:r,sideOffset:t,className:z("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...s}));XN.displayName=YN.displayName;var BR=Symbol.for("react.lazy"),iu=Su[" use ".trim().toString()];function WR(e){return typeof e=="object"&&e!==null&&"then"in e}function JN(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===BR&&"_payload"in e&&WR(e._payload)}function wc(e){const t=qR(e),s=u.forwardRef((r,a)=>{let{children:i,...o}=r;JN(i)&&typeof iu=="function"&&(i=iu(i._payload));const l=u.Children.toArray(i),c=l.find(KR);if(c){const d=c.props.children,f=l.map(m=>m===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...o,ref:a,children:u.isValidElement(d)?u.cloneElement(d,void 0,f):null})}return n.jsx(t,{...o,ref:a,children:i})});return s.displayName=`${e}.Slot`,s}var em=wc("Slot");function qR(e){const t=u.forwardRef((s,r)=>{let{children:a,...i}=s;if(JN(a)&&typeof iu=="function"&&(a=iu(a._payload)),u.isValidElement(a)){const o=GR(a),l=QR(i,a.props);return a.type!==u.Fragment&&(l.ref=r?Er(r,o):o),u.cloneElement(a,l)}return u.Children.count(a)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HR=Symbol("radix.slottable");function KR(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HR}function QR(e,t){const s={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...i}:r==="className"&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}function GR(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}const ch=768;function YR(){const[e,t]=u.useState(void 0);return u.useEffect(()=>{const s=window.matchMedia(`(max-width: ${ch-1}px)`),r=()=>{t(window.innerWidth<ch)};return s.addEventListener("change",r),t(window.innerWidth<ch),()=>s.removeEventListener("change",r)},[]),!!e}const ZR=fi("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),D=u.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...a},i)=>{const o=r?em:"button";return n.jsx(o,{className:z(ZR({variant:t,size:s,className:e})),ref:i,...a})});D.displayName="Button";const re=u.forwardRef(({className:e,type:t,...s},r)=>n.jsx("input",{type:t,className:z("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));re.displayName="Input";var XR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],JR=XR.reduce((e,t)=>{const s=wc(`Primitive.${t}`),r=u.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),e_="Separator",Cv="horizontal",t_=["horizontal","vertical"],e1=u.forwardRef((e,t)=>{const{decorative:s,orientation:r=Cv,...a}=e,i=n_(r)?r:Cv,l=s?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(JR.div,{"data-orientation":i,...l,...a,ref:t})});e1.displayName=e_;function n_(e){return t_.includes(e)}var t1=e1;const s_=u.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...r},a)=>n.jsx(t1,{ref:a,decorative:s,orientation:t,className:z("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));s_.displayName=t1.displayName;var dh="focusScope.autoFocusOnMount",uh="focusScope.autoFocusOnUnmount",kv={bubbles:!1,cancelable:!0},r_="FocusScope",tm=u.forwardRef((e,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=u.useState(null),d=kn(a),f=kn(i),m=u.useRef(null),y=et(t,x=>c(x)),v=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(r){let x=function(p){if(v.paused||!l)return;const b=p.target;l.contains(b)?m.current=b:Mr(m.current,{select:!0})},w=function(p){if(v.paused||!l)return;const b=p.relatedTarget;b!==null&&(l.contains(b)||Mr(m.current,{select:!0}))},g=function(p){if(document.activeElement===document.body)for(const S of p)S.removedNodes.length>0&&Mr(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const h=new MutationObserver(g);return l&&h.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),h.disconnect()}}},[r,l,v.paused]),u.useEffect(()=>{if(l){Tv.add(v);const x=document.activeElement;if(!l.contains(x)){const g=new CustomEvent(dh,kv);l.addEventListener(dh,d),l.dispatchEvent(g),g.defaultPrevented||(a_(d_(n1(l)),{select:!0}),document.activeElement===x&&Mr(l))}return()=>{l.removeEventListener(dh,d),setTimeout(()=>{const g=new CustomEvent(uh,kv);l.addEventListener(uh,f),l.dispatchEvent(g),g.defaultPrevented||Mr(x??document.body,{select:!0}),l.removeEventListener(uh,f),Tv.remove(v)},0)}}},[l,d,f,v]);const j=u.useCallback(x=>{if(!s&&!r||v.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(w&&g){const h=x.currentTarget,[p,b]=i_(h);p&&b?!x.shiftKey&&g===b?(x.preventDefault(),s&&Mr(p,{select:!0})):x.shiftKey&&g===p&&(x.preventDefault(),s&&Mr(b,{select:!0})):g===h&&x.preventDefault()}},[s,r,v.paused]);return n.jsx(Ae.div,{tabIndex:-1,...o,ref:y,onKeyDown:j})});tm.displayName=r_;function a_(e,{select:t=!1}={}){const s=document.activeElement;for(const r of e)if(Mr(r,{select:t}),document.activeElement!==s)return}function i_(e){const t=n1(e),s=Iv(t,e),r=Iv(t.reverse(),e);return[s,r]}function n1(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Iv(e,t){for(const s of e)if(!o_(s,{upTo:t}))return s}function o_(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function l_(e){return e instanceof HTMLInputElement&&"select"in e}function Mr(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&l_(e)&&t&&e.select()}}var Tv=c_();function c_(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=Pv(e,t),e.unshift(t)},remove(t){var s;e=Pv(e,t),(s=e[0])==null||s.resume()}}}function Pv(e,t){const s=[...e],r=s.indexOf(t);return r!==-1&&s.splice(r,1),s}function d_(e){return e.filter(t=>t.tagName!=="A")}var mh=0;function Mx(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ev()),document.body.insertAdjacentElement("beforeend",e[1]??Ev()),mh++,()=>{mh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),mh--}},[])}function Ev(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Qs=function(){return Qs=Object.assign||function(t){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},Qs.apply(this,arguments)};function s1(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s}function u_(e,t,s){if(s||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var bd="right-scroll-bar-position",wd="width-before-scroll-bar",m_="with-scroll-bars-hidden",h_="--removed-body-scroll-bar-size";function hh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function f_(e,t){var s=u.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(r){var a=s.value;a!==r&&(s.value=r,s.callback(r,a))}}}})[0];return s.callback=t,s.facade}var p_=typeof window<"u"?u.useLayoutEffect:u.useEffect,Av=new WeakMap;function x_(e,t){var s=f_(null,function(r){return e.forEach(function(a){return hh(a,r)})});return p_(function(){var r=Av.get(s);if(r){var a=new Set(r),i=new Set(e),o=s.current;a.forEach(function(l){i.has(l)||hh(l,null)}),i.forEach(function(l){a.has(l)||hh(l,o)})}Av.set(s,e)},[e]),s}function g_(e){return e}function y_(e,t){t===void 0&&(t=g_);var s=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(i){var o=t(i,r);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;s.length;){var o=s;s=[],o.forEach(i)}s={push:function(l){return i(l)},filter:function(){return s}}},assignMedium:function(i){r=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(i),o=s}var c=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),s}}}};return a}function v_(e){e===void 0&&(e={});var t=y_(null);return t.options=Qs({async:!0,ssr:!1},e),t}var r1=function(e){var t=e.sideCar,s=s1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return u.createElement(r,Qs({},s))};r1.isSideCarExport=!0;function j_(e,t){return e.useMedium(t),r1}var a1=v_(),fh=function(){},nm=u.forwardRef(function(e,t){var s=u.useRef(null),r=u.useState({onScrollCapture:fh,onWheelCapture:fh,onTouchMoveCapture:fh}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,f=e.enabled,m=e.shards,y=e.sideCar,v=e.noRelative,j=e.noIsolation,x=e.inert,w=e.allowPinchZoom,g=e.as,h=g===void 0?"div":g,p=e.gapMode,b=s1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=y,N=x_([s,t]),T=Qs(Qs({},b),a);return u.createElement(u.Fragment,null,f&&u.createElement(S,{sideCar:a1,removeScrollBar:d,shards:m,noRelative:v,noIsolation:j,inert:x,setCallbacks:i,allowPinchZoom:!!w,lockRef:s,gapMode:p}),o?u.cloneElement(u.Children.only(l),Qs(Qs({},T),{ref:N})):u.createElement(h,Qs({},T,{className:c,ref:N}),l))});nm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nm.classNames={fullWidth:wd,zeroRight:bd};var b_=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function w_(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=b_();return t&&e.setAttribute("nonce",t),e}function N_(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function S_(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var C_=function(){var e=0,t=null;return{add:function(s){e==0&&(t=w_())&&(N_(t,s),S_(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},k_=function(){var e=C_();return function(t,s){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},i1=function(){var e=k_(),t=function(s){var r=s.styles,a=s.dynamic;return e(r,a),null};return t},I_={left:0,top:0,right:0,gap:0},ph=function(e){return parseInt(e||"",10)||0},T_=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ph(s),ph(r),ph(a)]},P_=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return I_;var t=T_(e),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-s+t[2]-t[0])}},E_=i1(),Gi="data-scroll-locked",A_=function(e,t,s,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(m_,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Gi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bd,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(wd,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(bd," .").concat(bd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wd," .").concat(wd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Gi,`] {
    `).concat(h_,": ").concat(l,`px;
  }
`)},Rv=function(){var e=parseInt(document.body.getAttribute(Gi)||"0",10);return isFinite(e)?e:0},R_=function(){u.useEffect(function(){return document.body.setAttribute(Gi,(Rv()+1).toString()),function(){var e=Rv()-1;e<=0?document.body.removeAttribute(Gi):document.body.setAttribute(Gi,e.toString())}},[])},__=function(e){var t=e.noRelative,s=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;R_();var i=u.useMemo(function(){return P_(a)},[a]);return u.createElement(E_,{styles:A_(i,!t,a,s?"":"!important")})},Bf=!1;if(typeof window<"u")try{var Zc=Object.defineProperty({},"passive",{get:function(){return Bf=!0,!0}});window.addEventListener("test",Zc,Zc),window.removeEventListener("test",Zc,Zc)}catch{Bf=!1}var wi=Bf?{passive:!1}:!1,D_=function(e){return e.tagName==="TEXTAREA"},o1=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!D_(e)&&s[t]==="visible")},O_=function(e){return o1(e,"overflowY")},L_=function(e){return o1(e,"overflowX")},_v=function(e,t){var s=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=l1(e,r);if(a){var i=c1(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},M_=function(e){var t=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;return[t,s,r]},F_=function(e){var t=e.scrollLeft,s=e.scrollWidth,r=e.clientWidth;return[t,s,r]},l1=function(e,t){return e==="v"?O_(t):L_(t)},c1=function(e,t){return e==="v"?M_(t):F_(t)},$_=function(e,t){return e==="h"&&t==="rtl"?-1:1},V_=function(e,t,s,r,a){var i=$_(e,window.getComputedStyle(t).direction),o=i*r,l=s.target,c=t.contains(l),d=!1,f=o>0,m=0,y=0;do{if(!l)break;var v=c1(e,l),j=v[0],x=v[1],w=v[2],g=x-w-i*j;(j||g)&&l1(e,l)&&(m+=g,y+=j);var h=l.parentNode;l=h&&h.nodeType===Node.DOCUMENT_FRAGMENT_NODE?h.host:h}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(m)<1||!f&&Math.abs(y)<1)&&(d=!0),d},Xc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Dv=function(e){return[e.deltaX,e.deltaY]},Ov=function(e){return e&&"current"in e?e.current:e},z_=function(e,t){return e[0]===t[0]&&e[1]===t[1]},U_=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},B_=0,Ni=[];function W_(e){var t=u.useRef([]),s=u.useRef([0,0]),r=u.useRef(),a=u.useState(B_++)[0],i=u.useState(i1)[0],o=u.useRef(e);u.useEffect(function(){o.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=u_([e.lockRef.current],(e.shards||[]).map(Ov),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var g=Xc(x),h=s.current,p="deltaX"in x?x.deltaX:h[0]-g[0],b="deltaY"in x?x.deltaY:h[1]-g[1],S,N=x.target,T=Math.abs(p)>Math.abs(b)?"h":"v";if("touches"in x&&T==="h"&&N.type==="range")return!1;var k=window.getSelection(),A=k&&k.anchorNode,C=A?A===N||A.contains(N):!1;if(C)return!1;var I=_v(T,N);if(!I)return!0;if(I?S=T:(S=T==="v"?"h":"v",I=_v(T,N)),!I)return!1;if(!r.current&&"changedTouches"in x&&(p||b)&&(r.current=S),!S)return!0;var $=r.current||S;return V_($,w,x,$==="h"?p:b)},[]),c=u.useCallback(function(x){var w=x;if(!(!Ni.length||Ni[Ni.length-1]!==i)){var g="deltaY"in w?Dv(w):Xc(w),h=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&z_(S.delta,g)})[0];if(h&&h.should){w.cancelable&&w.preventDefault();return}if(!h){var p=(o.current.shards||[]).map(Ov).filter(Boolean).filter(function(S){return S.contains(w.target)}),b=p.length>0?l(w,p[0]):!o.current.noIsolation;b&&w.cancelable&&w.preventDefault()}}},[]),d=u.useCallback(function(x,w,g,h){var p={name:x,delta:w,target:g,should:h,shadowParent:q_(g)};t.current.push(p),setTimeout(function(){t.current=t.current.filter(function(b){return b!==p})},1)},[]),f=u.useCallback(function(x){s.current=Xc(x),r.current=void 0},[]),m=u.useCallback(function(x){d(x.type,Dv(x),x.target,l(x,e.lockRef.current))},[]),y=u.useCallback(function(x){d(x.type,Xc(x),x.target,l(x,e.lockRef.current))},[]);u.useEffect(function(){return Ni.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",c,wi),document.addEventListener("touchmove",c,wi),document.addEventListener("touchstart",f,wi),function(){Ni=Ni.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,wi),document.removeEventListener("touchmove",c,wi),document.removeEventListener("touchstart",f,wi)}},[]);var v=e.removeScrollBar,j=e.inert;return u.createElement(u.Fragment,null,j?u.createElement(i,{styles:U_(a)}):null,v?u.createElement(__,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function q_(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const H_=j_(a1,W_);var sm=u.forwardRef(function(e,t){return u.createElement(nm,Qs({},e,{ref:t,sideCar:H_}))});sm.classNames=nm.classNames;var K_=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Si=new WeakMap,Jc=new WeakMap,ed={},xh=0,d1=function(e){return e&&(e.host||d1(e.parentNode))},Q_=function(e,t){return t.map(function(s){if(e.contains(s))return s;var r=d1(s);return r&&e.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},G_=function(e,t,s,r){var a=Q_(t,Array.isArray(e)?e:[e]);ed[s]||(ed[s]=new WeakMap);var i=ed[s],o=[],l=new Set,c=new Set(a),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};a.forEach(d);var f=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(y){if(l.has(y))f(y);else try{var v=y.getAttribute(r),j=v!==null&&v!=="false",x=(Si.get(y)||0)+1,w=(i.get(y)||0)+1;Si.set(y,x),i.set(y,w),o.push(y),x===1&&j&&Jc.set(y,!0),w===1&&y.setAttribute(s,"true"),j||y.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",y,g)}})};return f(t),l.clear(),xh++,function(){o.forEach(function(m){var y=Si.get(m)-1,v=i.get(m)-1;Si.set(m,y),i.set(m,v),y||(Jc.has(m)||m.removeAttribute(r),Jc.delete(m)),v||m.removeAttribute(s)}),xh--,xh||(Si=new WeakMap,Si=new WeakMap,Jc=new WeakMap,ed={})}},Fx=function(e,t,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=K_(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),G_(r,a,s,"aria-hidden")):function(){return null}};function Y_(e){const t=Z_(e),s=u.forwardRef((r,a)=>{const{children:i,...o}=r,l=u.Children.toArray(i),c=l.find(J_);if(c){const d=c.props.children,f=l.map(m=>m===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...o,ref:a,children:u.isValidElement(d)?u.cloneElement(d,void 0,f):null})}return n.jsx(t,{...o,ref:a,children:i})});return s.displayName=`${e}.Slot`,s}function Z_(e){const t=u.forwardRef((s,r)=>{const{children:a,...i}=s;if(u.isValidElement(a)){const o=tD(a),l=eD(i,a.props);return a.type!==u.Fragment&&(l.ref=r?Er(r,o):o),u.cloneElement(a,l)}return u.Children.count(a)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var X_=Symbol("radix.slottable");function J_(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===X_}function eD(e,t){const s={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...i}:r==="className"&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}function tD(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var rm="Dialog",[u1]=Jn(rm),[nD,Ls]=u1(rm),m1=e=>{const{__scopeDialog:t,children:s,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=u.useRef(null),c=u.useRef(null),[d,f]=_s({prop:r,defaultProp:a??!1,onChange:i,caller:rm});return n.jsx(nD,{scope:t,triggerRef:l,contentRef:c,contentId:us(),titleId:us(),descriptionId:us(),open:d,onOpenChange:f,onOpenToggle:u.useCallback(()=>f(m=>!m),[f]),modal:o,children:s})};m1.displayName=rm;var h1="DialogTrigger",sD=u.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Ls(h1,s),i=et(t,a.triggerRef);return n.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":zx(a.open),...r,ref:i,onClick:he(e.onClick,a.onOpenToggle)})});sD.displayName=h1;var $x="DialogPortal",[rD,f1]=u1($x,{forceMount:void 0}),p1=e=>{const{__scopeDialog:t,forceMount:s,children:r,container:a}=e,i=Ls($x,t);return n.jsx(rD,{scope:t,forceMount:s,children:u.Children.map(r,o=>n.jsx(es,{present:s||i.open,children:n.jsx(vc,{asChild:!0,container:a,children:o})}))})};p1.displayName=$x;var ou="DialogOverlay",x1=u.forwardRef((e,t)=>{const s=f1(ou,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,i=Ls(ou,e.__scopeDialog);return i.modal?n.jsx(es,{present:r||i.open,children:n.jsx(iD,{...a,ref:t})}):null});x1.displayName=ou;var aD=Y_("DialogOverlay.RemoveScroll"),iD=u.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Ls(ou,s);return n.jsx(sm,{as:aD,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(Ae.div,{"data-state":zx(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ai="DialogContent",g1=u.forwardRef((e,t)=>{const s=f1(ai,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,i=Ls(ai,e.__scopeDialog);return n.jsx(es,{present:r||i.open,children:i.modal?n.jsx(oD,{...a,ref:t}):n.jsx(lD,{...a,ref:t})})});g1.displayName=ai;var oD=u.forwardRef((e,t)=>{const s=Ls(ai,e.__scopeDialog),r=u.useRef(null),a=et(t,s.contentRef,r);return u.useEffect(()=>{const i=r.current;if(i)return Fx(i)},[]),n.jsx(y1,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:he(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:he(e.onFocusOutside,i=>i.preventDefault())})}),lD=u.forwardRef((e,t)=>{const s=Ls(ai,e.__scopeDialog),r=u.useRef(!1),a=u.useRef(!1);return n.jsx(y1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=s.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),y1=u.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Ls(ai,s),c=u.useRef(null),d=et(t,c);return Mx(),n.jsxs(n.Fragment,{children:[n.jsx(tm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(Eo,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":zx(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(cD,{titleId:l.titleId}),n.jsx(uD,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Vx="DialogTitle",v1=u.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Ls(Vx,s);return n.jsx(Ae.h2,{id:a.titleId,...r,ref:t})});v1.displayName=Vx;var j1="DialogDescription",b1=u.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Ls(j1,s);return n.jsx(Ae.p,{id:a.descriptionId,...r,ref:t})});b1.displayName=j1;var w1="DialogClose",N1=u.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Ls(w1,s);return n.jsx(Ae.button,{type:"button",...r,ref:t,onClick:he(e.onClick,()=>a.onOpenChange(!1))})});N1.displayName=w1;function zx(e){return e?"open":"closed"}var S1="DialogTitleWarning",[s$,C1]=VT(S1,{contentName:ai,titleName:Vx,docsSlug:"dialog"}),cD=({titleId:e})=>{const t=C1(S1),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},dD="DialogDescriptionWarning",uD=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${C1(dD).contentName}}.`;return u.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},k1=m1,I1=p1,am=x1,im=g1,om=v1,lm=b1,T1=N1;const mD=k1,hD=I1,P1=u.forwardRef(({className:e,...t},s)=>n.jsx(am,{className:z("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));P1.displayName=am.displayName;const fD=fi("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),E1=u.forwardRef(({side:e="right",className:t,children:s,...r},a)=>n.jsxs(hD,{children:[n.jsx(P1,{}),n.jsxs(im,{ref:a,className:z(fD({side:e}),t),...r,children:[s,n.jsxs(T1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(bx,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));E1.displayName=im.displayName;const A1=({className:e,...t})=>n.jsx("div",{className:z("flex flex-col space-y-2 text-center sm:text-left",e),...t});A1.displayName="SheetHeader";const R1=u.forwardRef(({className:e,...t},s)=>n.jsx(om,{ref:s,className:z("text-lg font-semibold text-foreground",e),...t}));R1.displayName=om.displayName;const _1=u.forwardRef(({className:e,...t},s)=>n.jsx(lm,{ref:s,className:z("text-sm text-muted-foreground",e),...t}));_1.displayName=lm.displayName;function Ux({className:e,...t}){return n.jsx("div",{className:z("animate-pulse rounded-md bg-muted",e),...t})}const pD="sidebar_state",xD=60*60*24*7,gD="16rem",yD="18rem",vD="3rem",jD="b",D1=u.createContext(null);function Bx(){const e=u.useContext(D1);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function bD({defaultOpen:e=!0,open:t,onOpenChange:s,className:r,style:a,children:i,...o}){const l=YR(),[c,d]=u.useState(!1),[f,m]=u.useState(e),y=t??f,v=u.useCallback(g=>{const h=typeof g=="function"?g(y):g;s?s(h):m(h),document.cookie=`${pD}=${h}; path=/; max-age=${xD}`},[s,y]),j=u.useCallback(()=>l?d(g=>!g):v(g=>!g),[l,v,d]);u.useEffect(()=>{const g=h=>{h.key===jD&&(h.metaKey||h.ctrlKey)&&(h.preventDefault(),j())};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[j]);const x=y?"expanded":"collapsed",w=u.useMemo(()=>({state:x,open:y,setOpen:v,isMobile:l,openMobile:c,setOpenMobile:d,toggleSidebar:j}),[x,y,v,l,c,d,j]);return n.jsx(D1.Provider,{value:w,children:n.jsx(ZN,{delayDuration:0,children:n.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":gD,"--sidebar-width-icon":vD,...a},className:z("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...o,children:i})})})}function wD({side:e="left",variant:t="sidebar",collapsible:s="offcanvas",className:r,children:a,...i}){const{isMobile:o,state:l,openMobile:c,setOpenMobile:d}=Bx();return s==="none"?n.jsx("div",{"data-slot":"sidebar",className:z("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",r),...i,children:a}):o?n.jsx(mD,{open:c,onOpenChange:d,...i,children:n.jsxs(E1,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":yD},side:e,children:[n.jsxs(A1,{className:"sr-only",children:[n.jsx(R1,{children:"Sidebar"}),n.jsx(_1,{children:"Displays the mobile sidebar."})]}),n.jsx("div",{className:"flex h-full w-full flex-col",children:a})]})}):n.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":l,"data-collapsible":l==="collapsed"?s:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[n.jsx("div",{"data-slot":"sidebar-gap",className:z("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),n.jsx("div",{"data-slot":"sidebar-container",className:z("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:n.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:a})})]})}function ND({className:e,onClick:t,...s}){const{toggleSidebar:r}=Bx();return n.jsxs(D,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:z("h-7 w-7",e),onClick:a=>{t==null||t(a),r()},...s,children:[n.jsx(lE,{}),n.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function SD({className:e,...t}){return n.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:z("flex flex-col gap-2 p-2",e),...t})}function CD({className:e,...t}){return n.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:z("flex flex-col gap-2 p-2",e),...t})}function kD({className:e,...t}){return n.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:z("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function Lv({className:e,...t}){return n.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:z("relative flex w-full min-w-0 flex-col p-2",e),...t})}function ID({className:e,asChild:t=!1,...s}){const r=t?em:"div";return n.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:z("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...s})}function Mv({className:e,...t}){return n.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:z("w-full text-sm",e),...t})}function Fv({className:e,...t}){return n.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:z("flex w-full min-w-0 flex-col gap-1",e),...t})}function td({className:e,...t}){return n.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:z("group/menu-item relative",e),...t})}const TD=fi("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function nd({asChild:e=!1,isActive:t=!1,variant:s="default",size:r="default",tooltip:a,className:i,...o}){const l=e?em:"button",{isMobile:c,state:d}=Bx(),f=n.jsx(l,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:z(TD({variant:s,size:r}),i),...o});return a?(typeof a=="string"&&(a={children:a}),n.jsxs(zR,{children:[n.jsx(UR,{asChild:!0,children:f}),n.jsx(XN,{side:"right",align:"center",hidden:d!=="collapsed"||c,...a})]})):f}const O1=u.createContext(void 0);function PD({children:e}){const[t,s]=u.useState(()=>{if(typeof window<"u"){const a=localStorage.getItem("theme");return a||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});u.useEffect(()=>{const a=document.documentElement;t==="dark"?a.classList.add("dark"):a.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const r=()=>{s(a=>a==="light"?"dark":"light")};return n.jsx(O1.Provider,{value:{theme:t,toggleTheme:r},children:e})}function ED(){const e=u.useContext(O1);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}const L1=u.createContext(null),$v="unanza_active_company",AD="unanza_user_id",RD="e776519a-504e-4eee-8b2f-8b40f1d9b2a0",_D="comp-holding";function DD({children:e}){var h;const t=hi(),[s]=u.useState(()=>localStorage.getItem(AD)||RD),[r,a]=u.useState(()=>localStorage.getItem($v)||_D),{data:i=[]}=jt({queryKey:["/api/companies"]}),{data:o=[]}=jt({queryKey:["/api/users",s,"companies"],enabled:!!s}),{data:l=[]}=jt({queryKey:["/api/companies/hierarchy"]}),{data:c,isLoading:d,error:f,refetch:m}=jt({queryKey:["/api/session/context",r],enabled:!!s&&!!r,meta:{headers:{"x-user-id":s,"x-company-id":r||""}}}),y=Rt({mutationFn:async p=>(await Gt("POST","/api/session/switch-company",{userId:s,companyId:p})).json(),onSuccess:(p,b)=>{a(b),localStorage.setItem($v,b),t.setQueryData(["/api/session/context",b],p),t.invalidateQueries({queryKey:["/api/companies"]}),t.invalidateQueries({queryKey:["/api/companies/hierarchy"]}),t.invalidateQueries({predicate:S=>{const N=S.queryKey;return Array.isArray(N)&&N.some(T=>typeof T=="string"&&T.includes("/companies/"))}})}}),v=u.useCallback(async p=>{await y.mutateAsync(p)},[y]),j=u.useCallback(p=>{if(!(c!=null&&c.permissions))return!1;if(c.permissions.includes("*")||c.permissions.includes(p))return!0;const[b]=p.split(":");return!!c.permissions.includes(`${b}:*`)},[c==null?void 0:c.permissions]),x=u.useCallback(p=>c!=null&&c.accessibleCompanyIds?c.accessibleCompanyIds.includes(p):!1,[c==null?void 0:c.accessibleCompanyIds]),w=(c==null?void 0:c.activeCompany)||r&&i.find(p=>p.id===r)||null,g={activeCompanyId:r,activeCompany:w,userCompanies:(c==null?void 0:c.userCompanies)||o,permissions:(c==null?void 0:c.permissions)||[],isLoading:d||y.isPending,error:(f==null?void 0:f.message)||((h=y.error)==null?void 0:h.message)||null,companyLevel:(c==null?void 0:c.companyLevel)||3,accessibleCompanyIds:(c==null?void 0:c.accessibleCompanyIds)||[],canConsolidate:(c==null?void 0:c.canConsolidate)||!1,parentCompany:(c==null?void 0:c.parentCompany)||null,childCompanies:(c==null?void 0:c.childCompanies)||[],switchCompany:v,hasPermission:j,refreshContext:()=>m(),canAccessCompanyData:x};return n.jsx(L1.Provider,{value:g,children:e})}function gi(){const e=u.useContext(L1);if(!e)throw new Error("useCompany must be used within a CompanyProvider");return e}const OD=[{id:"C001",name:"Acme Corporation",email:"orders@acme.com",phone:"+1 555-0100",status:"active",totalOrders:45,totalSpent:125e3},{id:"C002",name:"TechStart Inc.",email:"purchasing@techstart.io",phone:"+1 555-0101",status:"active",totalOrders:23,totalSpent:67500},{id:"C003",name:"Global Supplies Ltd",email:"procurement@globalsupplies.com",phone:"+1 555-0102",status:"active",totalOrders:89,totalSpent:234e3},{id:"C004",name:"Metro Retail Group",email:"buying@metroretail.com",phone:"+1 555-0103",status:"inactive",totalOrders:12,totalSpent:28900},{id:"C005",name:"Summit Industries",email:"orders@summitind.com",phone:"+1 555-0104",status:"active",totalOrders:67,totalSpent:189e3}],LD=[{id:"V001",name:"Prime Suppliers Co.",email:"sales@primesuppliers.com",phone:"+1 555-0200",status:"active",activePOs:5,totalValue:45e3},{id:"V002",name:"Quality Materials Inc.",email:"orders@qualitymaterials.com",phone:"+1 555-0201",status:"active",activePOs:3,totalValue:32e3},{id:"V003",name:"FastShip Logistics",email:"partners@fastship.com",phone:"+1 555-0202",status:"active",activePOs:2,totalValue:18500},{id:"V004",name:"Industrial Parts Ltd",email:"sales@industrialparts.co",phone:"+1 555-0203",status:"pending",activePOs:0,totalValue:0}],MD=[{id:"P001",sku:"WDG-001",name:"Industrial Widget A",category:"Widgets",uom:"EA",price:49.99,stock:234,minLevel:50,maxLevel:500,location:"A-01-01"},{id:"P002",sku:"WDG-002",name:"Industrial Widget B",category:"Widgets",uom:"EA",price:79.99,stock:156,minLevel:30,maxLevel:300,location:"A-01-02"},{id:"P003",sku:"CPT-001",name:"Component Alpha",category:"Components",uom:"EA",price:24.5,stock:12,minLevel:100,maxLevel:1e3,location:"B-02-01"},{id:"P004",sku:"CPT-002",name:"Component Beta",category:"Components",uom:"BOX",price:189,stock:89,minLevel:20,maxLevel:200,location:"B-02-02"},{id:"P005",sku:"MAT-001",name:"Raw Material X",category:"Materials",uom:"KG",price:12.75,stock:2450,minLevel:500,maxLevel:5e3,location:"C-03-01"},{id:"P006",sku:"ASM-001",name:"Assembly Kit Pro",category:"Assemblies",uom:"KIT",price:349,stock:45,minLevel:10,maxLevel:100,location:"D-01-01"}],Wf=[{id:"SO-001",customerId:"C001",customerName:"Acme Corporation",date:"2024-12-01",status:"invoiced",total:4599.5,items:3},{id:"SO-002",customerId:"C002",customerName:"TechStart Inc.",date:"2024-12-02",status:"delivered",total:2340,items:2},{id:"SO-003",customerId:"C003",customerName:"Global Supplies Ltd",date:"2024-12-03",status:"confirmed",total:8750,items:5},{id:"SO-004",customerId:"C001",customerName:"Acme Corporation",date:"2024-12-04",status:"draft",total:1250,items:1},{id:"SO-005",customerId:"C005",customerName:"Summit Industries",date:"2024-12-05",status:"confirmed",total:15600,items:8}],M1=[{id:"PO-001",vendorId:"V001",vendorName:"Prime Suppliers Co.",date:"2024-12-01",status:"received",total:12500,items:4},{id:"PO-002",vendorId:"V002",vendorName:"Quality Materials Inc.",date:"2024-12-02",status:"ordered",total:8900,items:3},{id:"PO-003",vendorId:"V001",vendorName:"Prime Suppliers Co.",date:"2024-12-03",status:"draft",total:5600,items:2},{id:"PO-004",vendorId:"V003",vendorName:"FastShip Logistics",date:"2024-12-04",status:"ordered",total:3400,items:2}],F1=[{id:"INV-001",orderId:"SO-001",customerName:"Acme Corporation",date:"2024-12-03",dueDate:"2024-12-18",status:"paid",total:4599.5},{id:"INV-002",orderId:"SO-002",customerName:"TechStart Inc.",date:"2024-12-04",dueDate:"2024-12-19",status:"unpaid",total:2340},{id:"INV-003",orderId:"SO-003",customerName:"Global Supplies Ltd",date:"2024-12-05",dueDate:"2024-12-20",status:"partial",total:8750,paid:4e3}],qf=[{id:"E001",name:"Sarah Johnson",email:"sarah.johnson@unanza.com",department:"Sales",position:"Sales Manager",status:"active",hireDate:"2022-03-15"},{id:"E002",name:"Michael Chen",email:"michael.chen@unanza.com",department:"Warehouse",position:"Warehouse Supervisor",status:"active",hireDate:"2021-08-01"},{id:"E003",name:"Emily Rodriguez",email:"emily.rodriguez@unanza.com",department:"Finance",position:"Senior Accountant",status:"active",hireDate:"2020-01-10"},{id:"E004",name:"David Kim",email:"david.kim@unanza.com",department:"HR",position:"HR Coordinator",status:"active",hireDate:"2023-05-20"},{id:"E005",name:"Lisa Wang",email:"lisa.wang@unanza.com",department:"Operations",position:"Operations Analyst",status:"on-leave",hireDate:"2022-11-01"}],$1=[{id:"LR-001",employeeId:"E001",employeeName:"Sarah Johnson",type:"vacation",startDate:"2024-12-20",endDate:"2024-12-27",status:"approved",days:5},{id:"LR-002",employeeId:"E003",employeeName:"Emily Rodriguez",type:"sick",startDate:"2024-12-10",endDate:"2024-12-11",status:"approved",days:2},{id:"LR-003",employeeId:"E002",employeeName:"Michael Chen",type:"personal",startDate:"2024-12-15",endDate:"2024-12-15",status:"pending",days:1},{id:"LR-004",employeeId:"E005",employeeName:"Lisa Wang",type:"vacation",startDate:"2024-12-01",endDate:"2024-12-14",status:"approved",days:10}],FD=[{id:"ATT-001",employeeId:"E001",employeeName:"Sarah Johnson",date:"2024-12-05",checkIn:"08:45",checkOut:"17:30",hours:8.75,status:"present"},{id:"ATT-002",employeeId:"E002",employeeName:"Michael Chen",date:"2024-12-05",checkIn:"07:00",checkOut:"15:30",hours:8.5,status:"present"},{id:"ATT-003",employeeId:"E003",employeeName:"Emily Rodriguez",date:"2024-12-05",checkIn:"09:00",checkOut:"18:00",hours:9,status:"present"},{id:"ATT-004",employeeId:"E004",employeeName:"David Kim",date:"2024-12-05",checkIn:"08:30",checkOut:"17:00",hours:8.5,status:"present"},{id:"ATT-005",employeeId:"E005",employeeName:"Lisa Wang",date:"2024-12-05",checkIn:null,checkOut:null,hours:0,status:"on-leave"}],$D={sales:{today:12500,month:156e3,pending:8,trend:12.5},inventory:{totalValue:234500,lowStock:3,movements:24,trend:-2.3},receivables:{total:45600,overdue:8900,collected:23400,trend:5.8},payables:{total:28900,dueThisWeek:12500,paid:45e3,trend:-8.2}},Nd=[{id:"comp-001",code:"UNANZA-HQ",name:"Unanza Holdings",legalName:"Unanza Holdings Pte Ltd",companyType:"holding",level:1,parentId:null,path:"/comp-001",currency:"USD",locale:"en-US",timezone:"America/New_York",isActive:!0,consolidationEnabled:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"comp-002",code:"UNANZA-US",name:"Unanza USA",legalName:"Unanza USA Inc",companyType:"subsidiary",level:2,parentId:"comp-001",path:"/comp-001/comp-002",currency:"USD",locale:"en-US",timezone:"America/New_York",isActive:!0,consolidationEnabled:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"comp-003",code:"UNANZA-EU",name:"Unanza Europe",legalName:"Unanza Europe GmbH",companyType:"subsidiary",level:2,parentId:"comp-001",path:"/comp-001/comp-003",currency:"EUR",locale:"de-DE",timezone:"Europe/Berlin",isActive:!0,consolidationEnabled:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}],Vv=[{id:"user-001",username:"admin",email:"admin@unanza.com",fullName:"System Administrator",defaultCompanyId:"comp-001",isActive:!0,createdAt:new Date("2024-01-01"),lastLogin:new Date("2024-12-05")},{id:"user-002",username:"john.doe",email:"john.doe@unanza.com",fullName:"John Doe",defaultCompanyId:"comp-002",isActive:!0,createdAt:new Date("2024-02-15"),lastLogin:new Date("2024-12-04")},{id:"user-003",username:"jane.smith",email:"jane.smith@unanza.com",fullName:"Jane Smith",defaultCompanyId:"comp-002",isActive:!0,createdAt:new Date("2024-03-01"),lastLogin:new Date("2024-12-03")}],lu=[{id:"role-001",code:"SUPER_ADMIN",name:"Super Administrator",description:"Full system access",isSystemRole:!0,permissions:["*"],createdAt:new Date("2024-01-01")},{id:"role-002",code:"ADMIN",name:"Administrator",description:"Company administrator",isSystemRole:!0,permissions:["read:*","write:*","delete:*"],createdAt:new Date("2024-01-01")},{id:"role-003",code:"MANAGER",name:"Manager",description:"Department manager",isSystemRole:!1,permissions:["read:*","write:orders","write:inventory"],createdAt:new Date("2024-01-01")},{id:"role-004",code:"USER",name:"Standard User",description:"Regular user access",isSystemRole:!1,permissions:["read:*"],createdAt:new Date("2024-01-01")}],Hf=[{id:"ucr-001",userId:"user-001",companyId:"comp-001",roleId:"role-001",isActive:!0,isDefault:!0},{id:"ucr-002",userId:"user-001",companyId:"comp-002",roleId:"role-001",isActive:!0,isDefault:!1},{id:"ucr-003",userId:"user-001",companyId:"comp-003",roleId:"role-001",isActive:!0,isDefault:!1},{id:"ucr-004",userId:"user-002",companyId:"comp-002",roleId:"role-002",isActive:!0,isDefault:!0},{id:"ucr-005",userId:"user-003",companyId:"comp-002",roleId:"role-003",isActive:!0,isDefault:!0}],VD=[{id:"wh-001",companyId:"comp-002",code:"WH-MAIN",name:"Main Warehouse",warehouseType:"standard",address:"123 Industrial Blvd",city:"New York",state:"NY",country:"US",postalCode:"10001",allowNegativeStock:!1,isActive:!0,createdAt:new Date("2024-01-15")},{id:"wh-002",companyId:"comp-002",code:"WH-TRANSIT",name:"Transit Warehouse",warehouseType:"transit",address:"456 Logistics Way",city:"Chicago",state:"IL",country:"US",postalCode:"60601",allowNegativeStock:!0,isActive:!0,createdAt:new Date("2024-02-01")},{id:"wh-003",companyId:"comp-002",code:"WH-VIRTUAL",name:"Virtual Stock",warehouseType:"virtual",address:null,city:null,state:null,country:null,postalCode:null,allowNegativeStock:!0,isActive:!0,createdAt:new Date("2024-02-15")}],zD=[{id:"prod-001",companyId:"comp-002",sku:"WDG-001",name:"Industrial Widget A",description:"High-quality industrial widget for manufacturing",category:"Widgets",uom:"EA",purchasePrice:35,sellingPrice:49.99,taxRate:10,stockOnHand:234,reorderLevel:50,reorderQuantity:100,isActive:!0,createdAt:new Date("2024-01-01")},{id:"prod-002",companyId:"comp-002",sku:"WDG-002",name:"Industrial Widget B",description:"Premium industrial widget",category:"Widgets",uom:"EA",purchasePrice:55,sellingPrice:79.99,taxRate:10,stockOnHand:156,reorderLevel:30,reorderQuantity:50,isActive:!0,createdAt:new Date("2024-01-01")},{id:"prod-003",companyId:"comp-002",sku:"CPT-001",name:"Component Alpha",description:"Essential component for assembly",category:"Components",uom:"EA",purchasePrice:15,sellingPrice:24.5,taxRate:10,stockOnHand:12,reorderLevel:100,reorderQuantity:200,isActive:!0,createdAt:new Date("2024-01-01")},{id:"prod-004",companyId:"comp-002",sku:"CPT-002",name:"Component Beta",description:"Box of premium components",category:"Components",uom:"BOX",purchasePrice:120,sellingPrice:189,taxRate:10,stockOnHand:89,reorderLevel:20,reorderQuantity:40,isActive:!0,createdAt:new Date("2024-01-01")},{id:"prod-005",companyId:"comp-002",sku:"MAT-001",name:"Raw Material X",description:"Bulk raw material",category:"Materials",uom:"KG",purchasePrice:8,sellingPrice:12.75,taxRate:5,stockOnHand:2450,reorderLevel:500,reorderQuantity:1e3,isActive:!0,createdAt:new Date("2024-01-01")}],UD=[{id:"vend-001",companyId:"comp-002",code:"PRIME",name:"Prime Suppliers Co.",contactName:"David Lee",email:"sales@primesuppliers.com",phone:"+1 555-0200",address:"500 Supplier Road",city:"Detroit",state:"MI",country:"US",postalCode:"48201",taxId:"11-2233445",paymentTerms:30,isActive:!0,createdAt:new Date("2024-01-01")},{id:"vend-002",companyId:"comp-002",code:"QUALITY",name:"Quality Materials Inc.",contactName:"Eva Martinez",email:"orders@qualitymaterials.com",phone:"+1 555-0201",address:"600 Quality Lane",city:"Phoenix",state:"AZ",country:"US",postalCode:"85001",taxId:"22-3344556",paymentTerms:45,isActive:!0,createdAt:new Date("2024-01-15")},{id:"vend-003",companyId:"comp-002",code:"FAST",name:"FastShip Logistics",contactName:"Frank Wilson",email:"partners@fastship.com",phone:"+1 555-0202",address:"700 Logistics Parkway",city:"Memphis",state:"TN",country:"US",postalCode:"38101",taxId:"33-4455667",paymentTerms:15,isActive:!0,createdAt:new Date("2024-02-01")}],BD=[{id:"so-001",companyId:"comp-002",orderNumber:"SO-2024-001",customerId:"cust-001",customerName:"Acme Corporation",orderDate:"2024-12-01",expectedDeliveryDate:"2024-12-08",status:"invoiced",subtotal:4181.36,taxAmount:418.14,total:4599.5,notes:"Priority order",createdBy:"user-002",createdAt:new Date("2024-12-01")},{id:"so-002",companyId:"comp-002",orderNumber:"SO-2024-002",customerId:"cust-002",customerName:"TechStart Inc.",orderDate:"2024-12-02",expectedDeliveryDate:"2024-12-09",status:"delivered",subtotal:2127.27,taxAmount:212.73,total:2340,notes:"",createdBy:"user-002",createdAt:new Date("2024-12-02")},{id:"so-003",companyId:"comp-002",orderNumber:"SO-2024-003",customerId:"cust-003",customerName:"Global Supplies Ltd",orderDate:"2024-12-03",expectedDeliveryDate:"2024-12-10",status:"confirmed",subtotal:7954.55,taxAmount:795.45,total:8750,notes:"Bulk order",createdBy:"user-003",createdAt:new Date("2024-12-03")},{id:"so-004",companyId:"comp-002",orderNumber:"SO-2024-004",customerId:"cust-001",customerName:"Acme Corporation",orderDate:"2024-12-04",expectedDeliveryDate:"2024-12-11",status:"draft",subtotal:1136.36,taxAmount:113.64,total:1250,notes:"",createdBy:"user-002",createdAt:new Date("2024-12-04")}],WD=[{id:"sol-001",salesOrderId:"so-001",productId:"prod-001",productName:"Industrial Widget A",quantity:50,unitPrice:49.99,taxRate:10,lineTotal:2749.45},{id:"sol-002",salesOrderId:"so-001",productId:"prod-002",productName:"Industrial Widget B",quantity:20,unitPrice:79.99,taxRate:10,lineTotal:1759.78},{id:"sol-003",salesOrderId:"so-002",productId:"prod-003",productName:"Component Alpha",quantity:80,unitPrice:24.5,taxRate:10,lineTotal:2156},{id:"sol-004",salesOrderId:"so-003",productId:"prod-001",productName:"Industrial Widget A",quantity:100,unitPrice:49.99,taxRate:10,lineTotal:5498.9},{id:"sol-005",salesOrderId:"so-003",productId:"prod-004",productName:"Component Beta",quantity:15,unitPrice:189,taxRate:10,lineTotal:3118.5},{id:"sol-006",salesOrderId:"so-004",productId:"prod-002",productName:"Industrial Widget B",quantity:15,unitPrice:79.99,taxRate:10,lineTotal:1319.84}],qD=[{id:"po-001",companyId:"comp-002",orderNumber:"PO-2024-001",vendorId:"vend-001",vendorName:"Prime Suppliers Co.",orderDate:"2024-12-01",expectedDeliveryDate:"2024-12-15",status:"received",subtotal:11363.64,taxAmount:1136.36,total:12500,notes:"Quarterly replenishment",createdBy:"user-002",createdAt:new Date("2024-12-01")},{id:"po-002",companyId:"comp-002",orderNumber:"PO-2024-002",vendorId:"vend-002",vendorName:"Quality Materials Inc.",orderDate:"2024-12-02",expectedDeliveryDate:"2024-12-20",status:"ordered",subtotal:8090.91,taxAmount:809.09,total:8900,notes:"",createdBy:"user-003",createdAt:new Date("2024-12-02")},{id:"po-003",companyId:"comp-002",orderNumber:"PO-2024-003",vendorId:"vend-001",vendorName:"Prime Suppliers Co.",orderDate:"2024-12-03",expectedDeliveryDate:"2024-12-18",status:"draft",subtotal:5090.91,taxAmount:509.09,total:5600,notes:"Pending approval",createdBy:"user-002",createdAt:new Date("2024-12-03")}],HD=[{id:"acc-1000",companyId:"comp-002",code:"1000",name:"Assets",accountType:"asset",parentId:null,level:1,balance:0,isPostable:!1,isActive:!0},{id:"acc-1100",companyId:"comp-002",code:"1100",name:"Current Assets",accountType:"asset",parentId:"acc-1000",level:2,balance:0,isPostable:!1,isActive:!0},{id:"acc-1110",companyId:"comp-002",code:"1110",name:"Cash & Bank",accountType:"asset",parentId:"acc-1100",level:3,balance:85e3,isPostable:!0,isActive:!0},{id:"acc-1120",companyId:"comp-002",code:"1120",name:"Accounts Receivable",accountType:"asset",parentId:"acc-1100",level:3,balance:45600,isPostable:!0,isActive:!0},{id:"acc-1130",companyId:"comp-002",code:"1130",name:"Inventory",accountType:"asset",parentId:"acc-1100",level:3,balance:234500,isPostable:!0,isActive:!0},{id:"acc-2000",companyId:"comp-002",code:"2000",name:"Liabilities",accountType:"liability",parentId:null,level:1,balance:0,isPostable:!1,isActive:!0},{id:"acc-2100",companyId:"comp-002",code:"2100",name:"Current Liabilities",accountType:"liability",parentId:"acc-2000",level:2,balance:0,isPostable:!1,isActive:!0},{id:"acc-2110",companyId:"comp-002",code:"2110",name:"Accounts Payable",accountType:"liability",parentId:"acc-2100",level:3,balance:28900,isPostable:!0,isActive:!0},{id:"acc-3000",companyId:"comp-002",code:"3000",name:"Equity",accountType:"equity",parentId:null,level:1,balance:0,isPostable:!1,isActive:!0},{id:"acc-3100",companyId:"comp-002",code:"3100",name:"Retained Earnings",accountType:"equity",parentId:"acc-3000",level:2,balance:185e3,isPostable:!0,isActive:!0},{id:"acc-4000",companyId:"comp-002",code:"4000",name:"Revenue",accountType:"revenue",parentId:null,level:1,balance:0,isPostable:!1,isActive:!0},{id:"acc-4100",companyId:"comp-002",code:"4100",name:"Sales Revenue",accountType:"revenue",parentId:"acc-4000",level:2,balance:485e3,isPostable:!0,isActive:!0},{id:"acc-5000",companyId:"comp-002",code:"5000",name:"Expenses",accountType:"expense",parentId:null,level:1,balance:0,isPostable:!1,isActive:!0},{id:"acc-5100",companyId:"comp-002",code:"5100",name:"Cost of Goods Sold",accountType:"expense",parentId:"acc-5000",level:2,balance:145e3,isPostable:!0,isActive:!0},{id:"acc-5200",companyId:"comp-002",code:"5200",name:"Operating Expenses",accountType:"expense",parentId:"acc-5000",level:2,balance:85e3,isPostable:!0,isActive:!0}],cu={username:"admin",password:"demo123"},KD=[{id:"inv-001",companyId:"comp-002",invoiceNumber:"INV-2024-001",invoiceType:"customer",salesOrderId:"so-001",customerId:"cust-001",customerName:"PT. Maju Sejahtera",invoiceDate:"2024-01-15",dueDate:"2024-02-15",status:"paid",subtotal:15e6,taxAmount:165e4,total:1665e4,amountPaid:1665e4,amountDue:0,createdAt:new Date("2024-01-15")},{id:"inv-002",companyId:"comp-002",invoiceNumber:"INV-2024-002",invoiceType:"customer",salesOrderId:"so-002",customerId:"cust-002",customerName:"CV. Sukses Mandiri",invoiceDate:"2024-01-20",dueDate:"2024-02-20",status:"partial",subtotal:25e6,taxAmount:275e4,total:2775e4,amountPaid:15e6,amountDue:1275e4,createdAt:new Date("2024-01-20")},{id:"inv-003",companyId:"comp-002",invoiceNumber:"INV-2024-003",invoiceType:"customer",salesOrderId:"so-003",customerId:"cust-003",customerName:"PT. Bersama Jaya",invoiceDate:"2024-01-25",dueDate:"2024-02-25",status:"unpaid",subtotal:85e5,taxAmount:935e3,total:9435e3,amountPaid:0,amountDue:9435e3,createdAt:new Date("2024-01-25")}],QD=[{id:"cust-001",companyId:"comp-002",code:"CUST-001",name:"PT. Maju Sejahtera",email:"info@majusejahtera.co.id",phone:"+62 21 5551234",address:"Jl. Sudirman No. 123",city:"Jakarta",state:"DKI Jakarta",country:"ID",postalCode:"10110",creditLimit:1e8,paymentTerms:30,isActive:!0,createdAt:new Date("2023-06-15")},{id:"cust-002",companyId:"comp-002",code:"CUST-002",name:"CV. Sukses Mandiri",email:"contact@suksesmandiri.co.id",phone:"+62 22 5552345",address:"Jl. Asia Afrika No. 45",city:"Bandung",state:"Jawa Barat",country:"ID",postalCode:"40112",creditLimit:5e7,paymentTerms:14,isActive:!0,createdAt:new Date("2023-07-20")},{id:"cust-003",companyId:"comp-002",code:"CUST-003",name:"PT. Bersama Jaya",email:"sales@bersamajaya.co.id",phone:"+62 31 5553456",address:"Jl. Pemuda No. 78",city:"Surabaya",state:"Jawa Timur",country:"ID",postalCode:"60271",creditLimit:75e6,paymentTerms:30,isActive:!0,createdAt:new Date("2023-08-10")}];function V1(e,t){if(e===cu.username&&t===cu.password){const r=Vv[0],a=Nd[0],i=lu[0];return{isAuthenticated:!0,user:{id:r.id,username:r.username,email:r.email,fullName:r.fullName},activeCompany:{id:a.id,code:a.code,name:a.name,companyType:a.companyType,level:a.level},role:{id:i.id,name:i.name,permissions:i.permissions},allowedCompanyIds:Nd.map(o=>o.id),companyLevel:1,canConsolidate:!0}}const s=Vv.find(r=>r.username===e);if(s){const r=Hf.find(o=>o.userId===s.id&&o.isDefault),a=Nd.find(o=>o.id===((r==null?void 0:r.companyId)||s.defaultCompanyId)),i=lu.find(o=>o.id===(r==null?void 0:r.roleId));if(a&&i){const o=Hf.filter(l=>l.userId===s.id&&l.isActive).map(l=>l.companyId);return{isAuthenticated:!0,user:{id:s.id,username:s.username,email:s.email,fullName:s.fullName},activeCompany:{id:a.id,code:a.code,name:a.name,companyType:a.companyType,level:a.level},role:{id:i.id,name:i.name,permissions:i.permissions},allowedCompanyIds:o,companyLevel:a.level,canConsolidate:a.level===1}}}return null}function GD(e,t){if(!t.user)return null;const s=Nd.find(i=>i.id===e);if(!s)return null;const r=Hf.find(i=>i.userId===t.user.id&&i.companyId===e),a=r?lu.find(i=>i.id===r.roleId):lu[3];return{...t,activeCompany:{id:s.id,code:s.code,name:s.name,companyType:s.companyType,level:s.level},role:a?{id:a.id,name:a.name,permissions:a.permissions}:t.role,companyLevel:s.level,canConsolidate:s.level===1}}function YD(){const e=V1(cu.username,cu.password);return e||{isAuthenticated:!1,user:null,activeCompany:null,role:null,allowedCompanyIds:[],companyLevel:3,canConsolidate:!1}}const z1=u.createContext(null),zv="unanza_access_token",Uv="unanza_token_expiry";function ZD({children:e}){var b;const t=hi(),[s,r]=u.useState(()=>{{const S=YD();return{isAuthenticated:S.isAuthenticated,isLoading:!1,user:S.user,accessToken:"mock-token",activeCompany:S.activeCompany,role:S.role,allowedCompanyIds:S.allowedCompanyIds,companyLevel:S.companyLevel,canConsolidate:S.canConsolidate,error:null}}}),a=u.useCallback((S,N)=>{const T=Date.now()+N*1e3;localStorage.setItem(zv,S),localStorage.setItem(Uv,T.toString())},[]),i=u.useCallback(()=>{localStorage.removeItem(zv),localStorage.removeItem(Uv)},[]),o=u.useCallback(S=>{a(S.accessToken,S.expiresIn),r(N=>({...N,isAuthenticated:!0,isLoading:!1,user:S.user,accessToken:S.accessToken,activeCompany:S.activeCompany,role:S.role,allowedCompanyIds:S.allowedCompanyIds,companyLevel:S.companyLevel,canConsolidate:S.canConsolidate,error:null}))},[a]),l=Rt({mutationFn:async S=>{const N=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(S)});if(!N.ok){const T=await N.json();throw new Error(T.error||"Login failed")}return N.json()},onSuccess:S=>{o(S),t.invalidateQueries()},onError:S=>{i(),r(N=>({...N,isAuthenticated:!1,isLoading:!1,user:null,accessToken:null,activeCompany:null,role:null,allowedCompanyIds:[],error:S.message}))}}),c=Rt({mutationFn:async()=>{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})},onSettled:()=>{i(),r({isAuthenticated:!1,isLoading:!1,user:null,accessToken:null,activeCompany:null,role:null,allowedCompanyIds:[],companyLevel:3,canConsolidate:!1,error:null}),t.clear()}}),d=Rt({mutationFn:async()=>{const S=await fetch("/api/auth/refresh",{method:"POST",credentials:"include"});if(!S.ok)throw new Error("Token refresh failed");return S.json()},onSuccess:S=>{o(S)},onError:()=>{i(),r(S=>({...S,isAuthenticated:!1,isLoading:!1,user:null,accessToken:null,error:"Session expired"}))}}),f=Rt({mutationFn:async S=>{const N=await fetch("/api/auth/switch-company",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.accessToken}`},credentials:"include",body:JSON.stringify({companyId:S})});if(!N.ok){const T=await N.json();throw new Error(T.error||"Company switch failed")}return N.json()},onSuccess:S=>{o(S),t.invalidateQueries()},onError:S=>{r(N=>({...N,error:S.message}))}}),m=u.useCallback(async()=>{if(s.accessToken)try{const S=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${s.accessToken}`},credentials:"include"});if(!S.ok){S.status===401&&await d.mutateAsync();return}const N=await S.json();r(T=>({...T,isLoading:!1,user:N.user,activeCompany:N.activeCompany,role:N.role,allowedCompanyIds:N.allowedCompanyIds,companyLevel:N.companyLevel,canConsolidate:N.canConsolidate}))}catch{await d.mutateAsync()}},[s.accessToken,d]);u.useEffect(()=>{},[s.accessToken,s.user,m]),u.useEffect(()=>{},[d]);const y=u.useCallback(async(S,N,T)=>{{const k=V1(S,N);return k?(r(A=>({...A,isAuthenticated:!0,isLoading:!1,user:k.user,accessToken:"mock-token",activeCompany:k.activeCompany,role:k.role,allowedCompanyIds:k.allowedCompanyIds,companyLevel:k.companyLevel,canConsolidate:k.canConsolidate,error:null})),!0):(r(A=>({...A,error:"Invalid credentials"})),!1)}},[l]),v=u.useCallback(async()=>{{r({isAuthenticated:!1,isLoading:!1,user:null,accessToken:null,activeCompany:null,role:null,allowedCompanyIds:[],companyLevel:3,canConsolidate:!1,error:null});return}},[c]),j=u.useCallback(async()=>!0,[d]),x=u.useCallback(async S=>{{const N=GD(S,{isAuthenticated:s.isAuthenticated,user:s.user,activeCompany:s.activeCompany,role:s.role,allowedCompanyIds:s.allowedCompanyIds,companyLevel:s.companyLevel,canConsolidate:s.canConsolidate});return N?(r(T=>({...T,activeCompany:N.activeCompany,role:N.role,companyLevel:N.companyLevel,canConsolidate:N.canConsolidate})),t.invalidateQueries(),!0):!1}},[f,s,t]),w=u.useCallback(S=>{var T;if(!((T=s.role)!=null&&T.permissions))return!1;if(s.role.permissions.includes("*")||s.role.permissions.includes(S))return!0;const[N]=S.split(":");return!!s.role.permissions.includes(`${N}:*`)},[(b=s.role)==null?void 0:b.permissions]),g=u.useCallback(S=>s.allowedCompanyIds.includes(S),[s.allowedCompanyIds]),h=u.useCallback(()=>s.accessToken?{Authorization:`Bearer ${s.accessToken}`}:{},[s.accessToken]),p={...s,isLoading:s.isLoading||l.isPending||c.isPending||f.isPending,login:y,logout:v,refreshToken:j,switchCompany:x,hasPermission:w,canAccessCompany:g,getAuthHeaders:h};return n.jsx(z1.Provider,{value:p,children:e})}function xs(){const e=u.useContext(z1);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const U1=u.createContext(null),XD=()=>VD.map(e=>({id:e.id,companyId:"comp-002",code:e.code,name:e.name,address:e.address||"",city:e.city||"",isActive:!0})),JD=()=>zD.map(e=>({id:e.id,companyId:e.companyId,sku:e.sku,name:e.name,description:e.description||"",category:e.category||"",uom:e.uom,costPrice:e.purchasePrice,sellingPrice:e.sellingPrice,stockQuantity:e.stockOnHand||100,reorderPoint:e.reorderLevel||10,isActive:e.isActive})),eO=()=>UD.map(e=>({id:e.id,companyId:e.companyId,code:e.code,name:e.name,legalName:e.name,email:e.email||"",phone:e.phone||"",taxId:e.taxId||"",address:e.address||"",city:e.city||"",state:e.state||"",country:e.country||"",postalCode:e.postalCode||"",paymentTerms:e.paymentTerms||30,vendorType:"regular",isActive:e.isActive})),tO=()=>QD.map(e=>({id:e.id,companyId:e.companyId,code:e.code,name:e.name,email:e.email||"",phone:e.phone||"",address:e.address||"",city:e.city||"",state:e.state||"",country:e.country||"",postalCode:e.postalCode||"",creditLimit:e.creditLimit||0,paymentTerms:e.paymentTerms||30,isActive:e.isActive})),nO=()=>qD.map(e=>({id:e.id,companyId:e.companyId,orderNumber:e.orderNumber,vendorId:e.vendorId,orderDate:e.orderDate,expectedDate:e.expectedDeliveryDate,status:e.status,subtotal:e.subtotal,taxAmount:e.taxAmount,total:e.total})),sO=()=>[{id:"pol-001",purchaseOrderId:"po-001",productId:"prod-001",warehouseId:"wh-001",locationId:"loc-002",lineNumber:1,quantity:50,quantityReceived:0,unitPrice:125,lineTotal:6250},{id:"pol-002",purchaseOrderId:"po-001",productId:"prod-002",warehouseId:"wh-001",locationId:"loc-003",lineNumber:2,quantity:25,quantityReceived:0,unitPrice:250,lineTotal:6250},{id:"pol-003",purchaseOrderId:"po-002",productId:"prod-003",warehouseId:"wh-001",locationId:"loc-004",lineNumber:1,quantity:100,quantityReceived:0,unitPrice:45,lineTotal:4500},{id:"pol-004",purchaseOrderId:"po-002",productId:"prod-004",warehouseId:"wh-001",locationId:"loc-005",lineNumber:2,quantity:40,quantityReceived:0,unitPrice:110,lineTotal:4400},{id:"pol-005",purchaseOrderId:"po-003",productId:"prod-001",warehouseId:"wh-002",locationId:"loc-007",lineNumber:1,quantity:30,quantityReceived:0,unitPrice:125,lineTotal:3750}],rO=()=>BD.map(e=>({id:e.id,companyId:e.companyId,orderNumber:e.orderNumber,customerId:e.customerId,orderDate:e.orderDate,status:e.status,subtotal:e.subtotal,taxAmount:e.taxAmount,total:e.total})),aO=()=>WD.map((e,t)=>({id:e.id,salesOrderId:e.salesOrderId,productId:e.productId,lineNumber:t+1,quantity:e.quantity,unitPrice:e.unitPrice,lineTotal:e.lineTotal})),iO=()=>KD.map(e=>({id:e.id,companyId:e.companyId,invoiceNumber:e.invoiceNumber,invoiceType:e.invoiceType,customerId:e.customerId||"",invoiceDate:e.invoiceDate,dueDate:e.dueDate,status:e.status,subtotal:e.subtotal,taxAmount:e.taxAmount,total:e.total,amountPaid:e.amountPaid,amountDue:e.amountDue})),oO=()=>HD.map(e=>({id:e.id,companyId:e.companyId,accountCode:e.code,name:e.name,accountType:e.accountType,parentId:e.parentId||null,level:e.level,balance:e.balance||0,isPostable:e.isPostable,isActive:e.isActive})),lO=()=>[{id:"zone-001",companyId:"comp-002",warehouseId:"wh-001",code:"RCV",name:"Receiving",type:"receiving",isActive:!0},{id:"zone-002",companyId:"comp-002",warehouseId:"wh-001",code:"BULK",name:"Bulk Storage",type:"bulk",isActive:!0},{id:"zone-003",companyId:"comp-002",warehouseId:"wh-001",code:"PICK",name:"Picking Area",type:"picking",isActive:!0},{id:"zone-004",companyId:"comp-002",warehouseId:"wh-001",code:"SHIP",name:"Shipping",type:"shipping",isActive:!0},{id:"zone-005",companyId:"comp-002",warehouseId:"wh-002",code:"GEN",name:"General Storage",type:"general",isActive:!0}],cO=()=>[{id:"loc-001",companyId:"comp-002",warehouseId:"wh-001",zoneId:"zone-001",code:"RCV-01",name:"Receiving Dock 1",type:"floor",capacity:1e3,isActive:!0},{id:"loc-002",companyId:"comp-002",warehouseId:"wh-001",zoneId:"zone-002",code:"BULK-A-01",name:"Bulk Rack A Row 1",type:"rack",capacity:500,isActive:!0},{id:"loc-003",companyId:"comp-002",warehouseId:"wh-001",zoneId:"zone-002",code:"BULK-A-02",name:"Bulk Rack A Row 2",type:"rack",capacity:500,isActive:!0},{id:"loc-004",companyId:"comp-002",warehouseId:"wh-001",zoneId:"zone-003",code:"PICK-A-01",name:"Picking Bin A-01",type:"bin",capacity:100,isActive:!0},{id:"loc-005",companyId:"comp-002",warehouseId:"wh-001",zoneId:"zone-003",code:"PICK-A-02",name:"Picking Bin A-02",type:"bin",capacity:100,isActive:!0},{id:"loc-006",companyId:"comp-002",warehouseId:"wh-001",zoneId:"zone-004",code:"SHIP-01",name:"Shipping Dock 1",type:"floor",capacity:800,isActive:!0},{id:"loc-007",companyId:"comp-002",warehouseId:"wh-002",zoneId:"zone-005",code:"GEN-01",name:"General Shelf 1",type:"shelf",capacity:200,isActive:!0}],dO=()=>[{id:"stk-001",companyId:"comp-002",warehouseId:"wh-001",locationId:"loc-002",productId:"prod-001",quantity:150,minLevel:20,maxLevel:300,lastUpdated:new Date().toISOString()},{id:"stk-002",companyId:"comp-002",warehouseId:"wh-001",locationId:"loc-003",productId:"prod-002",quantity:75,minLevel:10,maxLevel:150,lastUpdated:new Date().toISOString()},{id:"stk-003",companyId:"comp-002",warehouseId:"wh-001",locationId:"loc-004",productId:"prod-003",quantity:200,minLevel:50,maxLevel:500,lastUpdated:new Date().toISOString()},{id:"stk-004",companyId:"comp-002",warehouseId:"wh-001",locationId:"loc-005",productId:"prod-004",quantity:30,minLevel:5,maxLevel:100,lastUpdated:new Date().toISOString()},{id:"stk-005",companyId:"comp-002",warehouseId:"wh-002",locationId:"loc-007",productId:"prod-001",quantity:50,minLevel:10,maxLevel:100,lastUpdated:new Date().toISOString()}],uO=()=>[];function mO({children:e}){const[t,s]=u.useState(XD),[r,a]=u.useState(JD),[i,o]=u.useState(eO),[l,c]=u.useState(tO),[d,f]=u.useState(nO),[m,y]=u.useState(sO),[v,j]=u.useState(rO),[x,w]=u.useState(aO),[g,h]=u.useState(iO),[p,b]=u.useState(oO),[S,N]=u.useState(lO),[T,k]=u.useState(cO),[A,C]=u.useState(dO),[I,$]=u.useState(uO),[B,E]=u.useState([]),P=ae=>{const te={...ae,id:`wh-${Date.now()}`};return s(se=>[...se,te]),te},L=(ae,te)=>{s(se=>se.map(je=>je.id===ae?{...je,...te}:je))},ie=ae=>{s(te=>te.filter(se=>se.id!==ae))},W=ae=>{const te={...ae,id:`prod-${Date.now()}`};return a(se=>[...se,te]),te},U=(ae,te)=>{a(se=>se.map(je=>je.id===ae?{...je,...te}:je))},H=ae=>{a(te=>te.filter(se=>se.id!==ae))},q=(ae,te)=>{a(se=>se.map(je=>je.id===ae?{...je,stockQuantity:Math.max(0,je.stockQuantity+te)}:je))},ne=ae=>{const te={...ae,id:`vend-${Date.now()}`};return o(se=>[...se,te]),te},me=(ae,te)=>{o(se=>se.map(je=>je.id===ae?{...je,...te}:je))},fe=ae=>{o(te=>te.filter(se=>se.id!==ae))},$e=ae=>{const te={...ae,id:`cust-${Date.now()}`};return c(se=>[...se,te]),te},F=(ae,te)=>{c(se=>se.map(je=>je.id===ae?{...je,...te}:je))},X=ae=>{c(te=>te.filter(se=>se.id!==ae))},ke=ae=>{const te={...ae,id:`po-${Date.now()}`};return f(se=>[...se,te]),te},Me=(ae,te)=>{f(se=>se.map(je=>je.id===ae?{...je,...te}:je))},Re=ae=>{f(te=>te.filter(se=>se.id!==ae)),y(te=>te.filter(se=>se.purchaseOrderId!==ae))},Ve=ae=>{const te={...ae,id:`pol-${Date.now()}`};return y(se=>[...se,te]),te},_e=ae=>{const te=ae.map((se,je)=>({...se,id:`pol-${Date.now()}-${je}`}));return y(se=>[...se,...te]),te},en=ae=>{y(te=>te.filter(se=>se.purchaseOrderId!==ae))},En=ae=>{const te={...ae,id:`so-${Date.now()}`};return j(se=>[...se,te]),te},Fs=(ae,te)=>{j(se=>se.map(je=>je.id===ae?{...je,...te}:je))},$s=ae=>{j(te=>te.filter(se=>se.id!==ae)),w(te=>te.filter(se=>se.salesOrderId!==ae))},rr=ae=>{const te={...ae,id:`sol-${Date.now()}`};return w(se=>[...se,te]),te},Fo=ae=>{const te=ae.map((se,je)=>({...se,id:`sol-${Date.now()}-${je}`}));return w(se=>[...se,...te]),te},Ia=ae=>{w(te=>te.filter(se=>se.id!==ae))},Tc=ae=>{w(te=>te.filter(se=>se.salesOrderId!==ae))},_=ae=>{const te={...ae,id:`inv-${Date.now()}`};return h(se=>[...se,te]),te},V=(ae,te)=>{h(se=>se.map(je=>je.id===ae?{...je,...te}:je))},Q=ae=>{h(te=>te.filter(se=>se.id!==ae))},ge=ae=>{const te={...ae,id:`acc-${Date.now()}`};return b(se=>[...se,te]),te},ue=(ae,te)=>{b(se=>se.map(je=>je.id===ae?{...je,...te}:je))},ce=ae=>{b(te=>te.filter(se=>se.id!==ae))},Ie=ae=>{const te={...ae,id:`zone-${Date.now()}`};return N(se=>[...se,te]),te},ut=(ae,te)=>{N(se=>se.map(je=>je.id===ae?{...je,...te}:je))},mt=ae=>{N(te=>te.filter(se=>se.id!==ae)),k(te=>te.filter(se=>se.zoneId!==ae))},on=ae=>{const te={...ae,id:`loc-${Date.now()}`};return k(se=>[...se,te]),te},ar=(ae,te)=>{k(se=>se.map(je=>je.id===ae?{...je,...te}:je))},Vs=ae=>{k(te=>te.filter(se=>se.id!==ae)),C(te=>te.filter(se=>se.locationId!==ae))},km=ae=>{const te={...ae,id:`stk-${Date.now()}`};return C(se=>[...se,te]),te},$o=(ae,te)=>{C(se=>se.map(je=>je.id===ae?{...je,...te}:je))},Vo=ae=>{C(te=>te.filter(se=>se.id!==ae))},Im=(ae,te,se,je,bg,wg)=>{console.log("adjustStock called:",{warehouseId:ae,locationId:te,productId:se,quantityChange:je,referenceType:bg,referenceId:wg}),C(ir=>{console.log("Current stock levels:",ir.length,"items");const ji=ir.find(ln=>ln.warehouseId===ae&&ln.locationId===te&&ln.productId===se);if(console.log("Existing stock found:",ji?`${ji.id} with qty ${ji.quantity}`:"NO MATCH"),ji)return ir.map(ln=>ln.id===ji.id?{...ln,quantity:Math.max(0,ln.quantity+je),lastUpdated:new Date().toISOString()}:ln);if(je>0){const ln={id:`stk-${Date.now()}`,companyId:"comp-002",warehouseId:ae,locationId:te,productId:se,quantity:je,minLevel:10,maxLevel:100,lastUpdated:new Date().toISOString()};return[...ir,ln]}return ir}),a(ir=>ir.find(ln=>ln.id===se)?ir.map(ln=>ln.id===se?{...ln,stockQuantity:Math.max(0,ln.stockQuantity+je)}:ln):ir),zo({companyId:"comp-002",warehouseId:ae,type:je>0?"RECEIVE":"SHIP",productId:se,quantity:Math.abs(je),toLocationId:je>0?te:void 0,fromLocationId:je<0?te:void 0,referenceType:bg,referenceId:wg,date:new Date().toISOString()})},zo=ae=>{const te={...ae,id:`mov-${Date.now()}`};return $(se=>[...se,te]),te},Tm=ae=>{const te=`JE-${String(Date.now()).slice(-8)}`,se={...ae,id:`je-${Date.now()}`,entryNumber:te,createdAt:new Date().toISOString()};return E(je=>[...je,se]),console.log("Journal entry created:",se),se};return n.jsx(U1.Provider,{value:{warehouses:t,products:r,vendors:i,customers:l,purchaseOrders:d,purchaseOrderLines:m,salesOrders:v,salesOrderLines:x,invoices:g,accounts:p,addWarehouse:P,updateWarehouse:L,deleteWarehouse:ie,addProduct:W,updateProduct:U,deleteProduct:H,updateProductStock:q,addVendor:ne,updateVendor:me,deleteVendor:fe,addCustomer:$e,updateCustomer:F,deleteCustomer:X,addPurchaseOrder:ke,updatePurchaseOrder:Me,deletePurchaseOrder:Re,addPurchaseOrderLine:Ve,addPurchaseOrderLines:_e,deletePurchaseOrderLinesByOrderId:en,addSalesOrder:En,updateSalesOrder:Fs,deleteSalesOrder:$s,addSalesOrderLine:rr,addSalesOrderLines:Fo,deleteSalesOrderLine:Ia,deleteSalesOrderLinesByOrderId:Tc,addInvoice:_,updateInvoice:V,deleteInvoice:Q,addAccount:ge,updateAccount:ue,deleteAccount:ce,zones:S,locations:T,stockLevels:A,movements:I,addZone:Ie,updateZone:ut,deleteZone:mt,addLocation:on,updateLocation:ar,deleteLocation:Vs,addStockLevel:km,updateStockLevel:$o,deleteStockLevel:Vo,adjustStock:Im,addMovement:zo,journalEntries:B,addJournalEntry:Tm},children:e})}function ts(){const e=u.useContext(U1);if(!e)throw new Error("useMockData must be used within a MockDataProvider");return e}function B1(){const{theme:e,toggleTheme:t}=ED();return n.jsx(D,{variant:"ghost",size:"icon",onClick:t,"data-testid":"button-theme-toggle",children:e==="light"?n.jsx(aE,{className:"h-4 w-4"}):n.jsx(hE,{className:"h-4 w-4"})})}var hO=u.createContext(void 0);function cm(e){const t=u.useContext(hO);return e||t||"ltr"}var gh="rovingFocusGroup.onEntryFocus",fO={bubbles:!1,cancelable:!0},Nc="RovingFocusGroup",[Kf,W1,pO]=Vu(Nc),[xO,dm]=Jn(Nc,[pO]),[gO,yO]=xO(Nc),q1=u.forwardRef((e,t)=>n.jsx(Kf.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Kf.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(vO,{...e,ref:t})})}));q1.displayName=Nc;var vO=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=e,y=u.useRef(null),v=et(t,y),j=cm(i),[x,w]=_s({prop:o,defaultProp:l??null,onChange:c,caller:Nc}),[g,h]=u.useState(!1),p=kn(d),b=W1(s),S=u.useRef(!1),[N,T]=u.useState(0);return u.useEffect(()=>{const k=y.current;if(k)return k.addEventListener(gh,p),()=>k.removeEventListener(gh,p)},[p]),n.jsx(gO,{scope:s,orientation:r,dir:j,loop:a,currentTabStopId:x,onItemFocus:u.useCallback(k=>w(k),[w]),onItemShiftTab:u.useCallback(()=>h(!0),[]),onFocusableItemAdd:u.useCallback(()=>T(k=>k+1),[]),onFocusableItemRemove:u.useCallback(()=>T(k=>k-1),[]),children:n.jsx(Ae.div,{tabIndex:g||N===0?-1:0,"data-orientation":r,...m,ref:v,style:{outline:"none",...e.style},onMouseDown:he(e.onMouseDown,()=>{S.current=!0}),onFocus:he(e.onFocus,k=>{const A=!S.current;if(k.target===k.currentTarget&&A&&!g){const C=new CustomEvent(gh,fO);if(k.currentTarget.dispatchEvent(C),!C.defaultPrevented){const I=b().filter(L=>L.focusable),$=I.find(L=>L.active),B=I.find(L=>L.id===x),P=[$,B,...I].filter(Boolean).map(L=>L.ref.current);Q1(P,f)}}S.current=!1}),onBlur:he(e.onBlur,()=>h(!1))})})}),H1="RovingFocusGroupItem",K1=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=us(),d=i||c,f=yO(H1,s),m=f.currentTabStopId===d,y=W1(s),{onFocusableItemAdd:v,onFocusableItemRemove:j,currentTabStopId:x}=f;return u.useEffect(()=>{if(r)return v(),()=>j()},[r,v,j]),n.jsx(Kf.ItemSlot,{scope:s,id:d,focusable:r,active:a,children:n.jsx(Ae.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:he(e.onMouseDown,w=>{r?f.onItemFocus(d):w.preventDefault()}),onFocus:he(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:he(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const g=wO(w,f.orientation,f.dir);if(g!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let p=y().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")p.reverse();else if(g==="prev"||g==="next"){g==="prev"&&p.reverse();const b=p.indexOf(w.currentTarget);p=f.loop?NO(p,b+1):p.slice(b+1)}setTimeout(()=>Q1(p))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:x!=null}):o})})});K1.displayName=H1;var jO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bO(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function wO(e,t,s){const r=bO(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return jO[r]}function Q1(e,t=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}function NO(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var G1=q1,Y1=K1;function SO(e){const t=CO(e),s=u.forwardRef((r,a)=>{const{children:i,...o}=r,l=u.Children.toArray(i),c=l.find(IO);if(c){const d=c.props.children,f=l.map(m=>m===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...o,ref:a,children:u.isValidElement(d)?u.cloneElement(d,void 0,f):null})}return n.jsx(t,{...o,ref:a,children:i})});return s.displayName=`${e}.Slot`,s}function CO(e){const t=u.forwardRef((s,r)=>{const{children:a,...i}=s;if(u.isValidElement(a)){const o=PO(a),l=TO(i,a.props);return a.type!==u.Fragment&&(l.ref=r?Er(r,o):o),u.cloneElement(a,l)}return u.Children.count(a)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kO=Symbol("radix.slottable");function IO(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kO}function TO(e,t){const s={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...i}:r==="className"&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}function PO(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Qf=["Enter"," "],EO=["ArrowDown","PageUp","Home"],Z1=["ArrowUp","PageDown","End"],AO=[...EO,...Z1],RO={ltr:[...Qf,"ArrowRight"],rtl:[...Qf,"ArrowLeft"]},_O={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Sc="Menu",[Zl,DO,OO]=Vu(Sc),[yi,X1]=Jn(Sc,[OO,Lo,dm]),um=Lo(),J1=dm(),[LO,vi]=yi(Sc),[MO,Cc]=yi(Sc),e2=e=>{const{__scopeMenu:t,open:s=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=um(t),[c,d]=u.useState(null),f=u.useRef(!1),m=kn(i),y=cm(a);return u.useEffect(()=>{const v=()=>{f.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>f.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),n.jsx(Rx,{...l,children:n.jsx(LO,{scope:t,open:s,onOpenChange:m,content:c,onContentChange:d,children:n.jsx(MO,{scope:t,onClose:u.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:y,modal:o,children:r})})})};e2.displayName=Sc;var FO="MenuAnchor",Wx=u.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,a=um(s);return n.jsx(_x,{...a,...r,ref:t})});Wx.displayName=FO;var qx="MenuPortal",[$O,t2]=yi(qx,{forceMount:void 0}),n2=e=>{const{__scopeMenu:t,forceMount:s,children:r,container:a}=e,i=vi(qx,t);return n.jsx($O,{scope:t,forceMount:s,children:n.jsx(es,{present:s||i.open,children:n.jsx(vc,{asChild:!0,container:a,children:r})})})};n2.displayName=qx;var ms="MenuContent",[VO,Hx]=yi(ms),s2=u.forwardRef((e,t)=>{const s=t2(ms,e.__scopeMenu),{forceMount:r=s.forceMount,...a}=e,i=vi(ms,e.__scopeMenu),o=Cc(ms,e.__scopeMenu);return n.jsx(Zl.Provider,{scope:e.__scopeMenu,children:n.jsx(es,{present:r||i.open,children:n.jsx(Zl.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(zO,{...a,ref:t}):n.jsx(UO,{...a,ref:t})})})})}),zO=u.forwardRef((e,t)=>{const s=vi(ms,e.__scopeMenu),r=u.useRef(null),a=et(t,r);return u.useEffect(()=>{const i=r.current;if(i)return Fx(i)},[]),n.jsx(Kx,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:he(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),UO=u.forwardRef((e,t)=>{const s=vi(ms,e.__scopeMenu);return n.jsx(Kx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),BO=SO("MenuContent.ScrollLock"),Kx=u.forwardRef((e,t)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:y,onDismiss:v,disableOutsideScroll:j,...x}=e,w=vi(ms,s),g=Cc(ms,s),h=um(s),p=J1(s),b=DO(s),[S,N]=u.useState(null),T=u.useRef(null),k=et(t,T,w.onContentChange),A=u.useRef(0),C=u.useRef(""),I=u.useRef(0),$=u.useRef(null),B=u.useRef("right"),E=u.useRef(0),P=j?sm:u.Fragment,L=j?{as:BO,allowPinchZoom:!0}:void 0,ie=U=>{var X,ke;const H=C.current+U,q=b().filter(Me=>!Me.disabled),ne=document.activeElement,me=(X=q.find(Me=>Me.ref.current===ne))==null?void 0:X.textValue,fe=q.map(Me=>Me.textValue),$e=tL(fe,H,me),F=(ke=q.find(Me=>Me.textValue===$e))==null?void 0:ke.ref.current;(function Me(Re){C.current=Re,window.clearTimeout(A.current),Re!==""&&(A.current=window.setTimeout(()=>Me(""),1e3))})(H),F&&setTimeout(()=>F.focus())};u.useEffect(()=>()=>window.clearTimeout(A.current),[]),Mx();const W=u.useCallback(U=>{var q,ne;return B.current===((q=$.current)==null?void 0:q.side)&&sL(U,(ne=$.current)==null?void 0:ne.area)},[]);return n.jsx(VO,{scope:s,searchRef:C,onItemEnter:u.useCallback(U=>{W(U)&&U.preventDefault()},[W]),onItemLeave:u.useCallback(U=>{var H;W(U)||((H=T.current)==null||H.focus(),N(null))},[W]),onTriggerLeave:u.useCallback(U=>{W(U)&&U.preventDefault()},[W]),pointerGraceTimerRef:I,onPointerGraceIntentChange:u.useCallback(U=>{$.current=U},[]),children:n.jsx(P,{...L,children:n.jsx(tm,{asChild:!0,trapped:a,onMountAutoFocus:he(i,U=>{var H;U.preventDefault(),(H=T.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(Eo,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:y,onDismiss:v,children:n.jsx(G1,{asChild:!0,...p,dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:he(c,U=>{g.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(Dx,{role:"menu","aria-orientation":"vertical","data-state":v2(w.open),"data-radix-menu-content":"",dir:g.dir,...h,...x,ref:k,style:{outline:"none",...x.style},onKeyDown:he(x.onKeyDown,U=>{const q=U.target.closest("[data-radix-menu-content]")===U.currentTarget,ne=U.ctrlKey||U.altKey||U.metaKey,me=U.key.length===1;q&&(U.key==="Tab"&&U.preventDefault(),!ne&&me&&ie(U.key));const fe=T.current;if(U.target!==fe||!AO.includes(U.key))return;U.preventDefault();const F=b().filter(X=>!X.disabled).map(X=>X.ref.current);Z1.includes(U.key)&&F.reverse(),JO(F)}),onBlur:he(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(A.current),C.current="")}),onPointerMove:he(e.onPointerMove,Xl(U=>{const H=U.target,q=E.current!==U.clientX;if(U.currentTarget.contains(H)&&q){const ne=U.clientX>E.current?"right":"left";B.current=ne,E.current=U.clientX}}))})})})})})})});s2.displayName=ms;var WO="MenuGroup",Qx=u.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(Ae.div,{role:"group",...r,ref:t})});Qx.displayName=WO;var qO="MenuLabel",r2=u.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(Ae.div,{...r,ref:t})});r2.displayName=qO;var du="MenuItem",Bv="menu.itemSelect",mm=u.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:r,...a}=e,i=u.useRef(null),o=Cc(du,e.__scopeMenu),l=Hx(du,e.__scopeMenu),c=et(t,i),d=u.useRef(!1),f=()=>{const m=i.current;if(!s&&m){const y=new CustomEvent(Bv,{bubbles:!0,cancelable:!0});m.addEventListener(Bv,v=>r==null?void 0:r(v),{once:!0}),fx(m,y),y.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(a2,{...a,ref:c,disabled:s,onClick:he(e.onClick,f),onPointerDown:m=>{var y;(y=e.onPointerDown)==null||y.call(e,m),d.current=!0},onPointerUp:he(e.onPointerUp,m=>{var y;d.current||(y=m.currentTarget)==null||y.click()}),onKeyDown:he(e.onKeyDown,m=>{const y=l.searchRef.current!=="";s||y&&m.key===" "||Qf.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});mm.displayName=du;var a2=u.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:r=!1,textValue:a,...i}=e,o=Hx(du,s),l=J1(s),c=u.useRef(null),d=et(t,c),[f,m]=u.useState(!1),[y,v]=u.useState("");return u.useEffect(()=>{const j=c.current;j&&v((j.textContent??"").trim())},[i.children]),n.jsx(Zl.ItemSlot,{scope:s,disabled:r,textValue:a??y,children:n.jsx(Y1,{asChild:!0,...l,focusable:!r,children:n.jsx(Ae.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:he(e.onPointerMove,Xl(j=>{r?o.onItemLeave(j):(o.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(e.onPointerLeave,Xl(j=>o.onItemLeave(j))),onFocus:he(e.onFocus,()=>m(!0)),onBlur:he(e.onBlur,()=>m(!1))})})})}),HO="MenuCheckboxItem",i2=u.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:r,...a}=e;return n.jsx(u2,{scope:e.__scopeMenu,checked:s,children:n.jsx(mm,{role:"menuitemcheckbox","aria-checked":uu(s)?"mixed":s,...a,ref:t,"data-state":Yx(s),onSelect:he(a.onSelect,()=>r==null?void 0:r(uu(s)?!0:!s),{checkForDefaultPrevented:!1})})})});i2.displayName=HO;var o2="MenuRadioGroup",[KO,QO]=yi(o2,{value:void 0,onValueChange:()=>{}}),l2=u.forwardRef((e,t)=>{const{value:s,onValueChange:r,...a}=e,i=kn(r);return n.jsx(KO,{scope:e.__scopeMenu,value:s,onValueChange:i,children:n.jsx(Qx,{...a,ref:t})})});l2.displayName=o2;var c2="MenuRadioItem",d2=u.forwardRef((e,t)=>{const{value:s,...r}=e,a=QO(c2,e.__scopeMenu),i=s===a.value;return n.jsx(u2,{scope:e.__scopeMenu,checked:i,children:n.jsx(mm,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":Yx(i),onSelect:he(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,s)},{checkForDefaultPrevented:!1})})})});d2.displayName=c2;var Gx="MenuItemIndicator",[u2,GO]=yi(Gx,{checked:!1}),m2=u.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:r,...a}=e,i=GO(Gx,s);return n.jsx(es,{present:r||uu(i.checked)||i.checked===!0,children:n.jsx(Ae.span,{...a,ref:t,"data-state":Yx(i.checked)})})});m2.displayName=Gx;var YO="MenuSeparator",h2=u.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(Ae.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});h2.displayName=YO;var ZO="MenuArrow",f2=u.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,a=um(s);return n.jsx(Ox,{...a,...r,ref:t})});f2.displayName=ZO;var XO="MenuSub",[r$,p2]=yi(XO),ml="MenuSubTrigger",x2=u.forwardRef((e,t)=>{const s=vi(ml,e.__scopeMenu),r=Cc(ml,e.__scopeMenu),a=p2(ml,e.__scopeMenu),i=Hx(ml,e.__scopeMenu),o=u.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},f=u.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return u.useEffect(()=>f,[f]),u.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),n.jsx(Wx,{asChild:!0,...d,children:n.jsx(a2,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":a.contentId,"data-state":v2(s.open),...e,ref:Er(t,a.onTriggerChange),onClick:m=>{var y;(y=e.onClick)==null||y.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:he(e.onPointerMove,Xl(m=>{i.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!s.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),f()},100))})),onPointerLeave:he(e.onPointerLeave,Xl(m=>{var v,j;f();const y=(v=s.content)==null?void 0:v.getBoundingClientRect();if(y){const x=(j=s.content)==null?void 0:j.dataset.side,w=x==="right",g=w?-5:5,h=y[w?"left":"right"],p=y[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+g,y:m.clientY},{x:h,y:y.top},{x:p,y:y.top},{x:p,y:y.bottom},{x:h,y:y.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:he(e.onKeyDown,m=>{var v;const y=i.searchRef.current!=="";e.disabled||y&&m.key===" "||RO[r.dir].includes(m.key)&&(s.onOpenChange(!0),(v=s.content)==null||v.focus(),m.preventDefault())})})})});x2.displayName=ml;var g2="MenuSubContent",y2=u.forwardRef((e,t)=>{const s=t2(ms,e.__scopeMenu),{forceMount:r=s.forceMount,...a}=e,i=vi(ms,e.__scopeMenu),o=Cc(ms,e.__scopeMenu),l=p2(g2,e.__scopeMenu),c=u.useRef(null),d=et(t,c);return n.jsx(Zl.Provider,{scope:e.__scopeMenu,children:n.jsx(es,{present:r||i.open,children:n.jsx(Zl.Slot,{scope:e.__scopeMenu,children:n.jsx(Kx,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var m;o.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:he(e.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:he(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:he(e.onKeyDown,f=>{var v;const m=f.currentTarget.contains(f.target),y=_O[o.dir].includes(f.key);m&&y&&(i.onOpenChange(!1),(v=l.trigger)==null||v.focus(),f.preventDefault())})})})})})});y2.displayName=g2;function v2(e){return e?"open":"closed"}function uu(e){return e==="indeterminate"}function Yx(e){return uu(e)?"indeterminate":e?"checked":"unchecked"}function JO(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function eL(e,t){return e.map((s,r)=>e[(t+r)%e.length])}function tL(e,t,s){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=s?e.indexOf(s):-1;let o=eL(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function nL(e,t){const{x:s,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,f=l.y,m=c.x,y=c.y;f>r!=y>r&&s<(m-d)*(r-f)/(y-f)+d&&(a=!a)}return a}function sL(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return nL(s,t)}function Xl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var rL=e2,aL=Wx,iL=n2,oL=s2,lL=Qx,cL=r2,dL=mm,uL=i2,mL=l2,hL=d2,fL=m2,pL=h2,xL=f2,gL=x2,yL=y2,hm="DropdownMenu",[vL]=Jn(hm,[X1]),Pn=X1(),[jL,j2]=vL(hm),b2=e=>{const{__scopeDropdownMenu:t,children:s,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Pn(t),d=u.useRef(null),[f,m]=_s({prop:a,defaultProp:i??!1,onChange:o,caller:hm});return n.jsx(jL,{scope:t,triggerId:us(),triggerRef:d,contentId:us(),open:f,onOpenChange:m,onOpenToggle:u.useCallback(()=>m(y=>!y),[m]),modal:l,children:n.jsx(rL,{...c,open:f,onOpenChange:m,dir:r,modal:l,children:s})})};b2.displayName=hm;var w2="DropdownMenuTrigger",N2=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...a}=e,i=j2(w2,s),o=Pn(s);return n.jsx(aL,{asChild:!0,...o,children:n.jsx(Ae.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Er(t,i.triggerRef),onPointerDown:he(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:he(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});N2.displayName=w2;var bL="DropdownMenuPortal",S2=e=>{const{__scopeDropdownMenu:t,...s}=e,r=Pn(t);return n.jsx(iL,{...r,...s})};S2.displayName=bL;var C2="DropdownMenuContent",k2=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=j2(C2,s),i=Pn(s),o=u.useRef(!1);return n.jsx(oL,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:he(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:he(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;(!a.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});k2.displayName=C2;var wL="DropdownMenuGroup",NL=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Pn(s);return n.jsx(lL,{...a,...r,ref:t})});NL.displayName=wL;var SL="DropdownMenuLabel",I2=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Pn(s);return n.jsx(cL,{...a,...r,ref:t})});I2.displayName=SL;var CL="DropdownMenuItem",T2=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Pn(s);return n.jsx(dL,{...a,...r,ref:t})});T2.displayName=CL;var kL="DropdownMenuCheckboxItem",P2=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Pn(s);return n.jsx(uL,{...a,...r,ref:t})});P2.displayName=kL;var IL="DropdownMenuRadioGroup",TL=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Pn(s);return n.jsx(mL,{...a,...r,ref:t})});TL.displayName=IL;var PL="DropdownMenuRadioItem",E2=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Pn(s);return n.jsx(hL,{...a,...r,ref:t})});E2.displayName=PL;var EL="DropdownMenuItemIndicator",A2=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Pn(s);return n.jsx(fL,{...a,...r,ref:t})});A2.displayName=EL;var AL="DropdownMenuSeparator",R2=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Pn(s);return n.jsx(pL,{...a,...r,ref:t})});R2.displayName=AL;var RL="DropdownMenuArrow",_L=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Pn(s);return n.jsx(xL,{...a,...r,ref:t})});_L.displayName=RL;var DL="DropdownMenuSubTrigger",_2=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Pn(s);return n.jsx(gL,{...a,...r,ref:t})});_2.displayName=DL;var OL="DropdownMenuSubContent",D2=u.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,a=Pn(s);return n.jsx(yL,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});D2.displayName=OL;var LL=b2,ML=N2,FL=S2,O2=k2,L2=I2,M2=T2,F2=P2,$2=E2,V2=A2,z2=R2,U2=_2,B2=D2;const W2=LL,q2=ML,$L=u.forwardRef(({className:e,inset:t,children:s,...r},a)=>n.jsxs(U2,{ref:a,className:z("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[s,n.jsx(xi,{className:"ml-auto"})]}));$L.displayName=U2.displayName;const VL=u.forwardRef(({className:e,...t},s)=>n.jsx(B2,{ref:s,className:z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));VL.displayName=B2.displayName;const Zx=u.forwardRef(({className:e,sideOffset:t=4,...s},r)=>n.jsx(FL,{children:n.jsx(O2,{ref:r,sideOffset:t,className:z("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...s})}));Zx.displayName=O2.displayName;const fm=u.forwardRef(({className:e,inset:t,...s},r)=>n.jsx(M2,{ref:r,className:z("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...s}));fm.displayName=M2.displayName;const zL=u.forwardRef(({className:e,children:t,checked:s,...r},a)=>n.jsxs(F2,{ref:a,className:z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(V2,{children:n.jsx(Ao,{className:"h-4 w-4"})})}),t]}));zL.displayName=F2.displayName;const UL=u.forwardRef(({className:e,children:t,...s},r)=>n.jsxs($2,{ref:r,className:z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(V2,{children:n.jsx(YP,{className:"h-2 w-2 fill-current"})})}),t]}));UL.displayName=$2.displayName;const Xx=u.forwardRef(({className:e,inset:t,...s},r)=>n.jsx(L2,{ref:r,className:z("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));Xx.displayName=L2.displayName;const Jx=u.forwardRef(({className:e,...t},s)=>n.jsx(z2,{ref:s,className:z("-mx-1 my-1 h-px bg-muted",e),...t}));Jx.displayName=z2.displayName;const BL=fi("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Le({className:e,variant:t,...s}){return n.jsx("div",{className:z(BL({variant:t}),e),...s})}const Gf={holding:go,subsidiary:yx,branch:Zd,division:yt},H2={holding:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",subsidiary:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",branch:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200",division:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"};function K2({node:e,onSelect:t,activeCompanyId:s,depth:r=0}){const[a,i]=u.useState(!0),o=e.children&&e.children.length>0,l=e.company.id===s,c=Gf[e.company.companyType]||yt;return n.jsxs("div",{className:"w-full",children:[n.jsxs(fm,{className:z("flex items-center gap-2 cursor-pointer w-full",l&&"bg-accent"),style:{paddingLeft:`${r*16+8}px`},onClick:()=>t(e.company),"data-testid":`dropdown-company-${e.company.id}`,children:[o?n.jsx("button",{onClick:d=>{d.stopPropagation(),i(!a)},className:"p-0.5 hover:bg-accent rounded","data-testid":`button-expand-${e.company.id}`,children:n.jsx(xi,{className:z("h-3 w-3 transition-transform",a&&"rotate-90")})}):n.jsx("span",{className:"w-4"}),n.jsx(c,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"flex-1 flex items-center gap-2 min-w-0",children:[n.jsx("span",{className:"truncate font-medium","data-testid":`text-company-name-${e.company.id}`,children:e.company.name}),n.jsx(Le,{variant:"secondary",className:z("text-xs shrink-0",H2[e.company.companyType]),children:e.company.companyType}),n.jsx(Le,{variant:"outline",className:"text-xs shrink-0",children:e.company.currency})]}),l&&n.jsx(Ao,{className:"h-4 w-4 text-primary shrink-0"})]}),o&&a&&n.jsx("div",{children:e.children.map(d=>n.jsx(K2,{node:d,onSelect:t,activeCompanyId:s,depth:r+1},d.company.id))})]})}function WL(){const{activeCompany:e,activeCompanyId:t,userCompanies:s,switchCompany:r,isLoading:a}=gi(),[i,o]=u.useState(!1),{data:l=[]}=jt({queryKey:["/api/companies/hierarchy"]}),c=async f=>{f.id!==t&&await r(f.id),o(!1)},d=e!=null&&e.companyType&&Gf[e.companyType]||yt;return n.jsxs(W2,{open:i,onOpenChange:o,children:[n.jsx(q2,{asChild:!0,children:n.jsxs(D,{variant:"outline",className:"min-w-[200px] justify-between gap-2",disabled:a,"data-testid":"button-company-switcher",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx(d,{className:"h-4 w-4 shrink-0"}),n.jsx("span",{className:"truncate","data-testid":"text-active-company",children:(e==null?void 0:e.name)||"Select Company"})]}),n.jsx(pi,{className:"h-4 w-4 shrink-0 opacity-50"})]})}),n.jsxs(Zx,{align:"start",className:"w-[350px] max-h-[400px] overflow-y-auto","data-testid":"dropdown-company-list",children:[n.jsxs(Xx,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-4 w-4"}),"Switch Company"]}),n.jsx(Jx,{}),l.length>0?l.map(f=>n.jsx(K2,{node:f,onSelect:c,activeCompanyId:t},f.company.id)):s.map(f=>{const m=Gf[f.companyType]||yt,y=f.id===t;return n.jsxs(fm,{className:z("flex items-center gap-2 cursor-pointer",y&&"bg-accent"),onClick:()=>c(f),"data-testid":`dropdown-company-${f.id}`,children:[n.jsx(m,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"flex-1 truncate",children:f.name}),n.jsx(Le,{variant:"secondary",className:z("text-xs",H2[f.companyType]),children:f.companyType}),y&&n.jsx(Ao,{className:"h-4 w-4 text-primary"})]},f.id)}),s.length===0&&l.length===0&&n.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No companies available"})]})]})}var pm="Collapsible",[qL]=Jn(pm),[HL,eg]=qL(pm),Q2=u.forwardRef((e,t)=>{const{__scopeCollapsible:s,open:r,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,d]=_s({prop:r,defaultProp:a??!1,onChange:o,caller:pm});return n.jsx(HL,{scope:s,disabled:i,contentId:us(),open:c,onOpenToggle:u.useCallback(()=>d(f=>!f),[d]),children:n.jsx(Ae.div,{"data-state":ng(c),"data-disabled":i?"":void 0,...l,ref:t})})});Q2.displayName=pm;var G2="CollapsibleTrigger",Y2=u.forwardRef((e,t)=>{const{__scopeCollapsible:s,...r}=e,a=eg(G2,s);return n.jsx(Ae.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":ng(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:he(e.onClick,a.onOpenToggle)})});Y2.displayName=G2;var tg="CollapsibleContent",Z2=u.forwardRef((e,t)=>{const{forceMount:s,...r}=e,a=eg(tg,e.__scopeCollapsible);return n.jsx(es,{present:s||a.open,children:({present:i})=>n.jsx(KL,{...r,ref:t,present:i})})});Z2.displayName=tg;var KL=u.forwardRef((e,t)=>{const{__scopeCollapsible:s,present:r,children:a,...i}=e,o=eg(tg,s),[l,c]=u.useState(r),d=u.useRef(null),f=et(t,d),m=u.useRef(0),y=m.current,v=u.useRef(0),j=v.current,x=o.open||l,w=u.useRef(x),g=u.useRef(void 0);return u.useEffect(()=>{const h=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(h)},[]),Bt(()=>{const h=d.current;if(h){g.current=g.current||{transitionDuration:h.style.transitionDuration,animationName:h.style.animationName},h.style.transitionDuration="0s",h.style.animationName="none";const p=h.getBoundingClientRect();m.current=p.height,v.current=p.width,w.current||(h.style.transitionDuration=g.current.transitionDuration,h.style.animationName=g.current.animationName),c(r)}},[o.open,r]),n.jsx(Ae.div,{"data-state":ng(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...i,ref:f,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:x&&a})});function ng(e){return e?"open":"closed"}var QL=Q2;const GL=QL,YL=Y2,ZL=Z2;function XL(e,t=[]){let s=[];function r(i,o){const l=u.createContext(o);l.displayName=i+"Context";const c=s.length;s=[...s,o];const d=m=>{var g;const{scope:y,children:v,...j}=m,x=((g=y==null?void 0:y[e])==null?void 0:g[c])||l,w=u.useMemo(()=>j,Object.values(j));return n.jsx(x.Provider,{value:w,children:v})};d.displayName=i+"Provider";function f(m,y){var x;const v=((x=y==null?void 0:y[e])==null?void 0:x[c])||l,j=u.useContext(v);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,f]}const a=()=>{const i=s.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,JL(a,...t)]}function JL(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}var e5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sg=e5.reduce((e,t)=>{const s=wc(`Primitive.${t}`),r=u.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function t5(){return ow.useSyncExternalStore(n5,()=>!0,()=>!1)}function n5(){return()=>{}}var rg="Avatar",[s5]=XL(rg),[r5,X2]=s5(rg),J2=u.forwardRef((e,t)=>{const{__scopeAvatar:s,...r}=e,[a,i]=u.useState("idle");return n.jsx(r5,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(sg.span,{...r,ref:t})})});J2.displayName=rg;var eS="AvatarImage",tS=u.forwardRef((e,t)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:a=()=>{},...i}=e,o=X2(eS,s),l=a5(r,i),c=kn(d=>{a(d),o.onImageLoadingStatusChange(d)});return Bt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(sg.img,{...i,ref:t,src:r}):null});tS.displayName=eS;var nS="AvatarFallback",sS=u.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:r,...a}=e,i=X2(nS,s),[o,l]=u.useState(r===void 0);return u.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(sg.span,{...a,ref:t}):null});sS.displayName=nS;function Wv(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function a5(e,{referrerPolicy:t,crossOrigin:s}){const r=t5(),a=u.useRef(null),i=r?(a.current||(a.current=new window.Image),a.current):null,[o,l]=u.useState(()=>Wv(i,e));return Bt(()=>{l(Wv(i,e))},[i,e]),Bt(()=>{const c=m=>()=>{l(m)};if(!i)return;const d=c("loaded"),f=c("error");return i.addEventListener("load",d),i.addEventListener("error",f),t&&(i.referrerPolicy=t),typeof s=="string"&&(i.crossOrigin=s),()=>{i.removeEventListener("load",d),i.removeEventListener("error",f)}},[i,s,t]),o}var rS=J2,aS=tS,iS=sS;const Jl=u.forwardRef(({className:e,...t},s)=>n.jsx(rS,{ref:s,className:z(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));Jl.displayName=rS.displayName;const i5=u.forwardRef(({className:e,...t},s)=>n.jsx(aS,{ref:s,className:z("aspect-square h-full w-full",e),...t}));i5.displayName=aS.displayName;const ec=u.forwardRef(({className:e,...t},s)=>n.jsx(iS,{ref:s,className:z("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ec.displayName=iS.displayName;const o5=[{label:"Sales",icon:yo,items:[{title:"Sales Orders",url:"/sales/orders",icon:yo},{title:"Customers",url:"/sales/customers",icon:nr},{title:"Deliveries",url:"/sales/deliveries",icon:Kl},{title:"Invoices",url:"/sales/invoices",icon:Ro}]},{label:"Warehouse",icon:cs,items:[{title:"Warehouses",url:"/warehouse/warehouses",icon:yt},{title:"Products",url:"/warehouse/products",icon:cs},{title:"Locations",url:"/warehouse/locations",icon:sE},{title:"Stock Levels",url:"/warehouse/stock",icon:Bu},{title:"Movements",url:"/warehouse/movements",icon:sN},{title:"Purchase Orders",url:"/warehouse/purchase-orders",icon:ZP},{title:"Vendors",url:"/warehouse/vendors",icon:yt}]},{label:"Financials",icon:lv,items:[{title:"Journal Entries",url:"/financials/journal",icon:HP},{title:"Chart of Accounts",url:"/financials/accounts",icon:vx},{title:"Accounts Receivable",url:"/financials/receivables",icon:dE},{title:"Accounts Payable",url:"/financials/payables",icon:lv}]},{label:"Human Resources",icon:ov,items:[{title:"Employees",url:"/hr/employees",icon:ov},{title:"Attendance",url:"/hr/attendance",icon:er},{title:"Leave Requests",url:"/hr/leave",icon:oN},{title:"Payroll",url:"/hr/payroll",icon:gE}]},{label:"System",icon:eu,items:[{title:"Companies",url:"/system/companies",icon:go},{title:"Users & Roles",url:"/system/users",icon:Cl},{title:"Inter-Company",url:"/system/intercompany",icon:XP},{title:"Vendor Portal",url:"/system/vendors",icon:yt},{title:"Customer Portal",url:"/system/customer-portal",icon:mE},{title:"Settings",url:"/system/settings",icon:eu}]}];function l5(){const[e]=Na(),[t,s]=u.useState(["Sales"]),r=a=>{s(i=>i.includes(a)?i.filter(o=>o!==a):[...i,a])};return n.jsxs(wD,{children:[n.jsx(SD,{className:"border-b border-sidebar-border p-4",children:n.jsxs(_n,{href:"/",className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-primary text-primary-foreground font-bold text-lg",children:"U"}),n.jsx("span",{className:"font-semibold text-lg","data-testid":"text-app-name",children:"Unanza"})]})}),n.jsxs(kD,{children:[n.jsx(Lv,{children:n.jsx(Mv,{children:n.jsxs(Fv,{children:[n.jsx(td,{children:n.jsx(nd,{asChild:!0,isActive:e==="/",children:n.jsxs(_n,{href:"/","data-testid":"link-dashboard",children:[n.jsx(tE,{className:"h-4 w-4"}),n.jsx("span",{children:"Dashboard"})]})})}),n.jsx(td,{children:n.jsx(nd,{asChild:!0,isActive:e==="/reports",children:n.jsxs(_n,{href:"/reports","data-testid":"link-reports",children:[n.jsx(vx,{className:"h-4 w-4"}),n.jsx("span",{children:"Reports"})]})})}),n.jsx(td,{children:n.jsx(nd,{asChild:!0,isActive:e==="/reports/consolidation",children:n.jsxs(_n,{href:"/reports/consolidation","data-testid":"link-consolidation",children:[n.jsx(yt,{className:"h-4 w-4"}),n.jsx("span",{children:"Consolidation"})]})})})]})})}),o5.map(a=>n.jsx(GL,{open:t.includes(a.label),onOpenChange:()=>r(a.label),children:n.jsxs(Lv,{children:[n.jsx(YL,{asChild:!0,children:n.jsxs(ID,{className:"cursor-pointer flex items-center justify-between gap-2 px-2 py-1.5 hover-elevate rounded-md",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(a.icon,{className:"h-4 w-4"}),n.jsx("span",{children:a.label})]}),n.jsx(pi,{className:z("h-4 w-4 transition-transform",t.includes(a.label)&&"rotate-180")})]})}),n.jsx(ZL,{children:n.jsx(Mv,{children:n.jsx(Fv,{children:a.items.map(i=>n.jsx(td,{children:n.jsx(nd,{asChild:!0,isActive:e===i.url,children:n.jsxs(_n,{href:i.url,"data-testid":`link-${i.title.toLowerCase().replace(/\s+/g,"-")}`,children:[n.jsx(i.icon,{className:"h-4 w-4"}),n.jsx("span",{children:i.title})]})})},i.url))})})})]})},a.label))]}),n.jsx(CD,{className:"border-t border-sidebar-border p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Jl,{className:"h-8 w-8",children:n.jsx(ec,{className:"bg-primary/10 text-primary text-sm",children:"AD"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate","data-testid":"text-user-name",children:"Admin User"}),n.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"admin@unanza.com"})]})]})})]})}const G=u.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:z("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));G.displayName="Card";const J=u.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:z("flex flex-col space-y-1.5 p-6",e),...t}));J.displayName="CardHeader";const ee=u.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:z("text-2xl font-semibold leading-none tracking-tight",e),...t}));ee.displayName="CardTitle";const Fe=u.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:z("text-sm text-muted-foreground",e),...t}));Fe.displayName="CardDescription";const Y=u.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:z("p-6 pt-0",e),...t}));Y.displayName="CardContent";const c5=u.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:z("flex items-center p-6 pt-0",e),...t}));c5.displayName="CardFooter";var d5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],u5=d5.reduce((e,t)=>{const s=wc(`Primitive.${t}`),r=u.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),m5="Label",oS=u.forwardRef((e,t)=>n.jsx(u5.label,{...e,ref:t,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));oS.displayName=m5;var lS=oS;const h5=fi("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),K=u.forwardRef(({className:e,...t},s)=>n.jsx(lS,{ref:s,className:z(h5(),e),...t}));K.displayName=lS.displayName;function qv(e,[t,s]){return Math.min(s,Math.max(t,e))}function f5(e){const t=p5(e),s=u.forwardRef((r,a)=>{const{children:i,...o}=r,l=u.Children.toArray(i),c=l.find(g5);if(c){const d=c.props.children,f=l.map(m=>m===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...o,ref:a,children:u.isValidElement(d)?u.cloneElement(d,void 0,f):null})}return n.jsx(t,{...o,ref:a,children:i})});return s.displayName=`${e}.Slot`,s}function p5(e){const t=u.forwardRef((s,r)=>{const{children:a,...i}=s;if(u.isValidElement(a)){const o=v5(a),l=y5(i,a.props);return a.type!==u.Fragment&&(l.ref=r?Er(r,o):o),u.cloneElement(a,l)}return u.Children.count(a)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var x5=Symbol("radix.slottable");function g5(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===x5}function y5(e,t){const s={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...i}:r==="className"&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}function v5(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function ag(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var j5=[" ","Enter","ArrowUp","ArrowDown"],b5=[" ","Enter"],ii="Select",[xm,gm,w5]=Vu(ii),[Mo]=Jn(ii,[w5,Lo]),ym=Lo(),[N5,Sa]=Mo(ii),[S5,C5]=Mo(ii),cS=e=>{const{__scopeSelect:t,children:s,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:f,autoComplete:m,disabled:y,required:v,form:j}=e,x=ym(t),[w,g]=u.useState(null),[h,p]=u.useState(null),[b,S]=u.useState(!1),N=cm(d),[T,k]=_s({prop:r,defaultProp:a??!1,onChange:i,caller:ii}),[A,C]=_s({prop:o,defaultProp:l,onChange:c,caller:ii}),I=u.useRef(null),$=w?j||!!w.closest("form"):!0,[B,E]=u.useState(new Set),P=Array.from(B).map(L=>L.props.value).join(";");return n.jsx(Rx,{...x,children:n.jsxs(N5,{required:v,scope:t,trigger:w,onTriggerChange:g,valueNode:h,onValueNodeChange:p,valueNodeHasChildren:b,onValueNodeHasChildrenChange:S,contentId:us(),value:A,onValueChange:C,open:T,onOpenChange:k,dir:N,triggerPointerDownPosRef:I,disabled:y,children:[n.jsx(xm.Provider,{scope:t,children:n.jsx(S5,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(L=>{E(ie=>new Set(ie).add(L))},[]),onNativeOptionRemove:u.useCallback(L=>{E(ie=>{const W=new Set(ie);return W.delete(L),W})},[]),children:s})}),$?n.jsxs(_S,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:m,value:A,onChange:L=>C(L.target.value),disabled:y,form:j,children:[A===void 0?n.jsx("option",{value:""}):null,Array.from(B)]},P):null]})})};cS.displayName=ii;var dS="SelectTrigger",uS=u.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:r=!1,...a}=e,i=ym(s),o=Sa(dS,s),l=o.disabled||r,c=et(t,o.onTriggerChange),d=gm(s),f=u.useRef("touch"),[m,y,v]=OS(x=>{const w=d().filter(p=>!p.disabled),g=w.find(p=>p.value===o.value),h=LS(w,x,g);h!==void 0&&o.onValueChange(h.value)}),j=x=>{l||(o.onOpenChange(!0),v()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return n.jsx(_x,{asChild:!0,...i,children:n.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":DS(o.value)?"":void 0,...a,ref:c,onClick:he(a.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&j(x)}),onPointerDown:he(a.onPointerDown,x=>{f.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(j(x),x.preventDefault())}),onKeyDown:he(a.onKeyDown,x=>{const w=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&y(x.key),!(w&&x.key===" ")&&j5.includes(x.key)&&(j(),x.preventDefault())})})})});uS.displayName=dS;var mS="SelectValue",hS=u.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:a,children:i,placeholder:o="",...l}=e,c=Sa(mS,s),{onValueNodeHasChildrenChange:d}=c,f=i!==void 0,m=et(t,c.onValueNodeChange);return Bt(()=>{d(f)},[d,f]),n.jsx(Ae.span,{...l,ref:m,style:{pointerEvents:"none"},children:DS(c.value)?n.jsx(n.Fragment,{children:o}):i})});hS.displayName=mS;var k5="SelectIcon",fS=u.forwardRef((e,t)=>{const{__scopeSelect:s,children:r,...a}=e;return n.jsx(Ae.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});fS.displayName=k5;var I5="SelectPortal",pS=e=>n.jsx(vc,{asChild:!0,...e});pS.displayName=I5;var oi="SelectContent",xS=u.forwardRef((e,t)=>{const s=Sa(oi,e.__scopeSelect),[r,a]=u.useState();if(Bt(()=>{a(new DocumentFragment)},[]),!s.open){const i=r;return i?mi.createPortal(n.jsx(gS,{scope:e.__scopeSelect,children:n.jsx(xm.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(yS,{...e,ref:t})});xS.displayName=oi;var js=10,[gS,Ca]=Mo(oi),T5="SelectContentImpl",P5=f5("SelectContent.RemoveScroll"),yS=u.forwardRef((e,t)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:y,collisionPadding:v,sticky:j,hideWhenDetached:x,avoidCollisions:w,...g}=e,h=Sa(oi,s),[p,b]=u.useState(null),[S,N]=u.useState(null),T=et(t,X=>b(X)),[k,A]=u.useState(null),[C,I]=u.useState(null),$=gm(s),[B,E]=u.useState(!1),P=u.useRef(!1);u.useEffect(()=>{if(p)return Fx(p)},[p]),Mx();const L=u.useCallback(X=>{const[ke,...Me]=$().map(_e=>_e.ref.current),[Re]=Me.slice(-1),Ve=document.activeElement;for(const _e of X)if(_e===Ve||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===ke&&S&&(S.scrollTop=0),_e===Re&&S&&(S.scrollTop=S.scrollHeight),_e==null||_e.focus(),document.activeElement!==Ve))return},[$,S]),ie=u.useCallback(()=>L([k,p]),[L,k,p]);u.useEffect(()=>{B&&ie()},[B,ie]);const{onOpenChange:W,triggerPointerDownPosRef:U}=h;u.useEffect(()=>{if(p){let X={x:0,y:0};const ke=Re=>{var Ve,_e;X={x:Math.abs(Math.round(Re.pageX)-(((Ve=U.current)==null?void 0:Ve.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((_e=U.current)==null?void 0:_e.y)??0))}},Me=Re=>{X.x<=10&&X.y<=10?Re.preventDefault():p.contains(Re.target)||W(!1),document.removeEventListener("pointermove",ke),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",Me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",Me,{capture:!0})}}},[p,W,U]),u.useEffect(()=>{const X=()=>W(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[W]);const[H,q]=OS(X=>{const ke=$().filter(Ve=>!Ve.disabled),Me=ke.find(Ve=>Ve.ref.current===document.activeElement),Re=LS(ke,X,Me);Re&&setTimeout(()=>Re.ref.current.focus())}),ne=u.useCallback((X,ke,Me)=>{const Re=!P.current&&!Me;(h.value!==void 0&&h.value===ke||Re)&&(A(X),Re&&(P.current=!0))},[h.value]),me=u.useCallback(()=>p==null?void 0:p.focus(),[p]),fe=u.useCallback((X,ke,Me)=>{const Re=!P.current&&!Me;(h.value!==void 0&&h.value===ke||Re)&&I(X)},[h.value]),$e=r==="popper"?Yf:vS,F=$e===Yf?{side:l,sideOffset:c,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:y,collisionPadding:v,sticky:j,hideWhenDetached:x,avoidCollisions:w}:{};return n.jsx(gS,{scope:s,content:p,viewport:S,onViewportChange:N,itemRefCallback:ne,selectedItem:k,onItemLeave:me,itemTextRefCallback:fe,focusSelectedItem:ie,selectedItemText:C,position:r,isPositioned:B,searchRef:H,children:n.jsx(sm,{as:P5,allowPinchZoom:!0,children:n.jsx(tm,{asChild:!0,trapped:h.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:he(a,X=>{var ke;(ke=h.trigger)==null||ke.focus({preventScroll:!0}),X.preventDefault()}),children:n.jsx(Eo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:n.jsx($e,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:X=>X.preventDefault(),...g,...F,onPlaced:()=>E(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:he(g.onKeyDown,X=>{const ke=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!ke&&X.key.length===1&&q(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let Re=$().filter(Ve=>!Ve.disabled).map(Ve=>Ve.ref.current);if(["ArrowUp","End"].includes(X.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const Ve=X.target,_e=Re.indexOf(Ve);Re=Re.slice(_e+1)}setTimeout(()=>L(Re)),X.preventDefault()}})})})})})})});yS.displayName=T5;var E5="SelectItemAlignedPosition",vS=u.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:r,...a}=e,i=Sa(oi,s),o=Ca(oi,s),[l,c]=u.useState(null),[d,f]=u.useState(null),m=et(t,T=>f(T)),y=gm(s),v=u.useRef(!1),j=u.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:g,focusSelectedItem:h}=o,p=u.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&x&&w&&g){const T=i.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),C=g.getBoundingClientRect();if(i.dir!=="rtl"){const Ve=C.left-k.left,_e=A.left-Ve,en=T.left-_e,En=T.width+en,Fs=Math.max(En,k.width),$s=window.innerWidth-js,rr=qv(_e,[js,Math.max(js,$s-Fs)]);l.style.minWidth=En+"px",l.style.left=rr+"px"}else{const Ve=k.right-C.right,_e=window.innerWidth-A.right-Ve,en=window.innerWidth-T.right-_e,En=T.width+en,Fs=Math.max(En,k.width),$s=window.innerWidth-js,rr=qv(_e,[js,Math.max(js,$s-Fs)]);l.style.minWidth=En+"px",l.style.right=rr+"px"}const I=y(),$=window.innerHeight-js*2,B=x.scrollHeight,E=window.getComputedStyle(d),P=parseInt(E.borderTopWidth,10),L=parseInt(E.paddingTop,10),ie=parseInt(E.borderBottomWidth,10),W=parseInt(E.paddingBottom,10),U=P+L+B+W+ie,H=Math.min(w.offsetHeight*5,U),q=window.getComputedStyle(x),ne=parseInt(q.paddingTop,10),me=parseInt(q.paddingBottom,10),fe=T.top+T.height/2-js,$e=$-fe,F=w.offsetHeight/2,X=w.offsetTop+F,ke=P+L+X,Me=U-ke;if(ke<=fe){const Ve=I.length>0&&w===I[I.length-1].ref.current;l.style.bottom="0px";const _e=d.clientHeight-x.offsetTop-x.offsetHeight,en=Math.max($e,F+(Ve?me:0)+_e+ie),En=ke+en;l.style.height=En+"px"}else{const Ve=I.length>0&&w===I[0].ref.current;l.style.top="0px";const en=Math.max(fe,P+x.offsetTop+(Ve?ne:0)+F)+Me;l.style.height=en+"px",x.scrollTop=ke-fe+x.offsetTop}l.style.margin=`${js}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=$+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[y,i.trigger,i.valueNode,l,d,x,w,g,i.dir,r]);Bt(()=>p(),[p]);const[b,S]=u.useState();Bt(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const N=u.useCallback(T=>{T&&j.current===!0&&(p(),h==null||h(),j.current=!1)},[p,h]);return n.jsx(R5,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:N,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:n.jsx(Ae.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});vS.displayName=E5;var A5="SelectPopperPosition",Yf=u.forwardRef((e,t)=>{const{__scopeSelect:s,align:r="start",collisionPadding:a=js,...i}=e,o=ym(s);return n.jsx(Dx,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yf.displayName=A5;var[R5,ig]=Mo(oi,{}),Zf="SelectViewport",jS=u.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:r,...a}=e,i=Ca(Zf,s),o=ig(Zf,s),l=et(t,i.onViewportChange),c=u.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),n.jsx(xm.Slot,{scope:s,children:n.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:he(a.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=o;if(y!=null&&y.current&&m){const v=Math.abs(c.current-f.scrollTop);if(v>0){const j=window.innerHeight-js*2,x=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),g=Math.max(x,w);if(g<j){const h=g+v,p=Math.min(j,h),b=h-p;m.style.height=p+"px",m.style.bottom==="0px"&&(f.scrollTop=b>0?b:0,m.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});jS.displayName=Zf;var bS="SelectGroup",[_5,D5]=Mo(bS),O5=u.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=us();return n.jsx(_5,{scope:s,id:a,children:n.jsx(Ae.div,{role:"group","aria-labelledby":a,...r,ref:t})})});O5.displayName=bS;var wS="SelectLabel",NS=u.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=D5(wS,s);return n.jsx(Ae.div,{id:a.id,...r,ref:t})});NS.displayName=wS;var mu="SelectItem",[L5,SS]=Mo(mu),CS=u.forwardRef((e,t)=>{const{__scopeSelect:s,value:r,disabled:a=!1,textValue:i,...o}=e,l=Sa(mu,s),c=Ca(mu,s),d=l.value===r,[f,m]=u.useState(i??""),[y,v]=u.useState(!1),j=et(t,h=>{var p;return(p=c.itemRefCallback)==null?void 0:p.call(c,h,r,a)}),x=us(),w=u.useRef("touch"),g=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(L5,{scope:s,value:r,disabled:a,textId:x,isSelected:d,onItemTextChange:u.useCallback(h=>{m(p=>p||((h==null?void 0:h.textContent)??"").trim())},[]),children:n.jsx(xm.ItemSlot,{scope:s,value:r,disabled:a,textValue:f,children:n.jsx(Ae.div,{role:"option","aria-labelledby":x,"data-highlighted":y?"":void 0,"aria-selected":d&&y,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:j,onFocus:he(o.onFocus,()=>v(!0)),onBlur:he(o.onBlur,()=>v(!1)),onClick:he(o.onClick,()=>{w.current!=="mouse"&&g()}),onPointerUp:he(o.onPointerUp,()=>{w.current==="mouse"&&g()}),onPointerDown:he(o.onPointerDown,h=>{w.current=h.pointerType}),onPointerMove:he(o.onPointerMove,h=>{var p;w.current=h.pointerType,a?(p=c.onItemLeave)==null||p.call(c):w.current==="mouse"&&h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(o.onPointerLeave,h=>{var p;h.currentTarget===document.activeElement&&((p=c.onItemLeave)==null||p.call(c))}),onKeyDown:he(o.onKeyDown,h=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&h.key===" "||(b5.includes(h.key)&&g(),h.key===" "&&h.preventDefault())})})})})});CS.displayName=mu;var hl="SelectItemText",kS=u.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:a,...i}=e,o=Sa(hl,s),l=Ca(hl,s),c=SS(hl,s),d=C5(hl,s),[f,m]=u.useState(null),y=et(t,g=>m(g),c.onItemTextChange,g=>{var h;return(h=l.itemTextRefCallback)==null?void 0:h.call(l,g,c.value,c.disabled)}),v=f==null?void 0:f.textContent,j=u.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=d;return Bt(()=>(x(j),()=>w(j)),[x,w,j]),n.jsxs(n.Fragment,{children:[n.jsx(Ae.span,{id:c.textId,...i,ref:y}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?mi.createPortal(i.children,o.valueNode):null]})});kS.displayName=hl;var IS="SelectItemIndicator",TS=u.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return SS(IS,s).isSelected?n.jsx(Ae.span,{"aria-hidden":!0,...r,ref:t}):null});TS.displayName=IS;var Xf="SelectScrollUpButton",PS=u.forwardRef((e,t)=>{const s=Ca(Xf,e.__scopeSelect),r=ig(Xf,e.__scopeSelect),[a,i]=u.useState(!1),o=et(t,r.onScrollButtonChange);return Bt(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?n.jsx(AS,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});PS.displayName=Xf;var Jf="SelectScrollDownButton",ES=u.forwardRef((e,t)=>{const s=Ca(Jf,e.__scopeSelect),r=ig(Jf,e.__scopeSelect),[a,i]=u.useState(!1),o=et(t,r.onScrollButtonChange);return Bt(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;i(f)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?n.jsx(AS,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ES.displayName=Jf;var AS=u.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:r,...a}=e,i=Ca("SelectScrollButton",s),o=u.useRef(null),l=gm(s),c=u.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),Bt(()=>{var f;const d=l().find(m=>m.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),n.jsx(Ae.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:he(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:he(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:he(a.onPointerLeave,()=>{c()})})}),M5="SelectSeparator",RS=u.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return n.jsx(Ae.div,{"aria-hidden":!0,...r,ref:t})});RS.displayName=M5;var ep="SelectArrow",F5=u.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=ym(s),i=Sa(ep,s),o=Ca(ep,s);return i.open&&o.position==="popper"?n.jsx(Ox,{...a,...r,ref:t}):null});F5.displayName=ep;var $5="SelectBubbleInput",_S=u.forwardRef(({__scopeSelect:e,value:t,...s},r)=>{const a=u.useRef(null),i=et(r,a),o=ag(t);return u.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const m=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(m)}},[o,t]),n.jsx(Ae.select,{...s,style:{..._w,...s.style},ref:i,defaultValue:t})});_S.displayName=$5;function DS(e){return e===""||e===void 0}function OS(e){const t=kn(e),s=u.useRef(""),r=u.useRef(0),a=u.useCallback(o=>{const l=s.current+o;t(l),function c(d){s.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=u.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,a,i]}function LS(e,t,s){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=s?e.indexOf(s):-1;let o=V5(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function V5(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var z5=cS,MS=uS,U5=hS,B5=fS,W5=pS,FS=xS,q5=jS,$S=NS,VS=CS,H5=kS,K5=TS,zS=PS,US=ES,BS=RS;const Pe=z5,Ee=U5,Se=u.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(MS,{ref:r,className:z("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,n.jsx(B5,{asChild:!0,children:n.jsx(pi,{className:"h-4 w-4 opacity-50"})})]}));Se.displayName=MS.displayName;const WS=u.forwardRef(({className:e,...t},s)=>n.jsx(zS,{ref:s,className:z("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(GP,{className:"h-4 w-4"})}));WS.displayName=zS.displayName;const qS=u.forwardRef(({className:e,...t},s)=>n.jsx(US,{ref:s,className:z("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(pi,{className:"h-4 w-4"})}));qS.displayName=US.displayName;const Ce=u.forwardRef(({className:e,children:t,position:s="popper",...r},a)=>n.jsx(W5,{children:n.jsxs(FS,{ref:a,className:z("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[n.jsx(WS,{}),n.jsx(q5,{className:z("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(qS,{})]})}));Ce.displayName=FS.displayName;const Q5=u.forwardRef(({className:e,...t},s)=>n.jsx($S,{ref:s,className:z("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Q5.displayName=$S.displayName;const Z=u.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(VS,{ref:r,className:z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(K5,{children:n.jsx(Ao,{className:"h-4 w-4"})})}),n.jsx(H5,{children:t})]}));Z.displayName=VS.displayName;const G5=u.forwardRef(({className:e,...t},s)=>n.jsx(BS,{ref:s,className:z("-mx-1 my-1 h-px bg-muted",e),...t}));G5.displayName=BS.displayName;function Y5(){const[,e]=Na(),{login:t,isAuthenticated:s,isLoading:r,error:a}=xs(),{toast:i}=Vt(),[o,l]=u.useState(""),[c,d]=u.useState(""),[f,m]=u.useState(""),[y,v]=u.useState(!1),[j,x]=u.useState(!1),{data:w=[],isLoading:g}=jt({queryKey:["/api/companies"]});u.useEffect(()=>{s&&e("/")},[s,e]),u.useEffect(()=>{a&&x(!0)},[a]);const h=async p=>{p.preventDefault(),x(!1),v(!0);try{await t(o,c,f||void 0)&&(i({title:"Welcome back",description:"You have been logged in successfully."}),e("/"))}catch{x(!0)}finally{v(!1)}};return r&&s?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[n.jsx(yt,{className:"w-10 h-10 text-primary"}),n.jsx("h1",{className:"text-3xl font-bold",children:"Unanza"})]}),n.jsx("p",{className:"text-muted-foreground",children:"Enterprise Resource Planning"})]}),n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsx(ee,{children:"Sign In"}),n.jsx(Fe,{children:"Enter your credentials to access the system"})]}),n.jsxs(Y,{children:[n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[j&&a&&n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-md bg-destructive/10 text-destructive text-sm","data-testid":"error-login",children:[n.jsx(Wu,{className:"w-4 h-4 shrink-0"}),n.jsx("span",{children:a})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"username",children:"Username"}),n.jsxs("div",{className:"relative",children:[n.jsx(tu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(re,{id:"username",type:"text",placeholder:"Enter your username",value:o,onChange:p=>l(p.target.value),className:"pl-10",required:!0,disabled:y,"data-testid":"input-username"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"password",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(re,{id:"password",type:"password",placeholder:"Enter your password",value:c,onChange:p=>d(p.target.value),className:"pl-10",required:!0,disabled:y,"data-testid":"input-password"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"company",children:"Company (Optional)"}),n.jsxs(Pe,{value:f,onValueChange:m,disabled:g||y,children:[n.jsx(Se,{"data-testid":"select-company",children:n.jsx(Ee,{placeholder:"Select a company"})}),n.jsx(Ce,{children:w.map(p=>n.jsx(Z,{value:p.id,"data-testid":`select-company-${p.id}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:p.name}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",p.code,")"]})]})},p.id))})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty to use your default company"})]}),n.jsx(D,{type:"submit",className:"w-full",disabled:y||!o||!c,"data-testid":"button-login",children:y?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"animate-spin mr-2 w-4 h-4 border-2 border-current border-t-transparent rounded-full"}),"Signing in..."]}):"Sign In"})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t",children:[n.jsx("p",{className:"text-xs text-center text-muted-foreground mb-2",children:"Demo Credentials"}),n.jsxs("div",{className:"text-xs text-center text-muted-foreground space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Admin:"})," admin / admin123"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Manager:"})," john.manager / password"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Accountant:"})," jane.accountant / password"]})]})]})]})]})]})})}const Z5=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"Eastern Time (US)"},{value:"America/Chicago",label:"Central Time (US)"},{value:"America/Denver",label:"Mountain Time (US)"},{value:"America/Los_Angeles",label:"Pacific Time (US)"},{value:"Europe/London",label:"London (UK)"},{value:"Europe/Paris",label:"Paris (France)"},{value:"Europe/Berlin",label:"Berlin (Germany)"},{value:"Asia/Tokyo",label:"Tokyo (Japan)"},{value:"Asia/Singapore",label:"Singapore"},{value:"Asia/Shanghai",label:"Shanghai (China)"},{value:"Australia/Sydney",label:"Sydney (Australia)"}],X5=[{value:"USD",label:"USD - US Dollar"},{value:"EUR",label:"EUR - Euro"},{value:"GBP",label:"GBP - British Pound"},{value:"JPY",label:"JPY - Japanese Yen"},{value:"CNY",label:"CNY - Chinese Yuan"},{value:"SGD",label:"SGD - Singapore Dollar"},{value:"AUD",label:"AUD - Australian Dollar"},{value:"CAD",label:"CAD - Canadian Dollar"},{value:"CHF",label:"CHF - Swiss Franc"},{value:"INR",label:"INR - Indian Rupee"}];function J5(){const[,e]=Na(),{toast:t}=Vt(),s=hi(),[r,a]=u.useState(null),[i,o]=u.useState({code:"",name:"",legalName:"",taxId:"",companyType:"holding",currency:"USD",timezone:"UTC",locale:"en-US",address:"",city:"",state:"",country:"",postalCode:"",phone:"",email:"",website:""}),l=Rt({mutationFn:async d=>(await Gt("POST","/api/setup/company",d)).json(),onSuccess:d=>{s.invalidateQueries({queryKey:["/api/setup/status"]}),sessionStorage.setItem("setup_company_id",d.company.id),sessionStorage.setItem("setup_company_name",d.company.name),t({title:"Company Created",description:`${d.company.name} has been set up successfully.`}),e("/setup/admin-user")},onError:d=>{const f=(d==null?void 0:d.message)||"Failed to create company";a(f),t({variant:"destructive",title:"Setup Failed",description:f})}}),c=d=>{if(d.preventDefault(),a(null),!i.code.match(/^[A-Z0-9-]+$/)){a("Company code must be uppercase letters, numbers, and dashes only");return}l.mutate(i)};return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background p-4",children:n.jsxs("div",{className:"w-full max-w-2xl",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[n.jsx(yt,{className:"w-10 h-10 text-primary"}),n.jsx("h1",{className:"text-3xl font-bold",children:"Unanza Setup"})]}),n.jsx("p",{className:"text-muted-foreground",children:"Welcome! Let's get your ERP system configured."})]}),n.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[n.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-primary text-primary-foreground",children:"1"}),n.jsx("span",{className:"font-medium",children:"Company"})]}),n.jsx("div",{className:"w-12 h-0.5 bg-border"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-muted",children:"2"}),n.jsx("span",{className:"font-medium text-muted-foreground",children:"Admin Account"})]}),n.jsx("div",{className:"w-12 h-0.5 bg-border"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-muted",children:"3"}),n.jsx("span",{className:"font-medium text-muted-foreground",children:"Complete"})]})]}),n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsx(ee,{children:"Register Your Company"}),n.jsx(Fe,{children:"Set up your holding company. This will be the top level of your organization hierarchy."})]}),n.jsx(Y,{children:n.jsxs("form",{onSubmit:c,className:"space-y-6",children:[r&&n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-md bg-destructive/10 text-destructive text-sm","data-testid":"error-setup",children:[n.jsx(Wu,{className:"w-4 h-4 shrink-0"}),n.jsx("span",{children:r})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"code",children:"Company Code *"}),n.jsx(re,{id:"code",placeholder:"ACME-HQ",value:i.code,onChange:d=>o({...i,code:d.target.value.toUpperCase()}),required:!0,disabled:l.isPending,"data-testid":"input-company-code"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Uppercase, numbers, dashes only"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"name",children:"Company Name *"}),n.jsx(re,{id:"name",placeholder:"Acme Corporation",value:i.name,onChange:d=>o({...i,name:d.target.value}),required:!0,disabled:l.isPending,"data-testid":"input-company-name"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"legalName",children:"Legal Name"}),n.jsx(re,{id:"legalName",placeholder:"Acme Corporation Ltd.",value:i.legalName,onChange:d=>o({...i,legalName:d.target.value}),disabled:l.isPending,"data-testid":"input-legal-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"taxId",children:"Tax ID"}),n.jsx(re,{id:"taxId",placeholder:"12-3456789",value:i.taxId,onChange:d=>o({...i,taxId:d.target.value}),disabled:l.isPending,"data-testid":"input-tax-id"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"currency",children:"Currency *"}),n.jsxs(Pe,{value:i.currency,onValueChange:d=>o({...i,currency:d}),disabled:l.isPending,children:[n.jsx(Se,{"data-testid":"select-currency",children:n.jsx(Ee,{})}),n.jsx(Ce,{children:X5.map(d=>n.jsx(Z,{value:d.value,children:d.label},d.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"timezone",children:"Timezone *"}),n.jsxs(Pe,{value:i.timezone,onValueChange:d=>o({...i,timezone:d}),disabled:l.isPending,children:[n.jsx(Se,{"data-testid":"select-timezone",children:n.jsx(Ee,{})}),n.jsx(Ce,{children:Z5.map(d=>n.jsx(Z,{value:d.value,children:d.label},d.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"country",children:"Country"}),n.jsx(re,{id:"country",placeholder:"US",maxLength:2,value:i.country,onChange:d=>o({...i,country:d.target.value.toUpperCase()}),disabled:l.isPending,"data-testid":"input-country"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"address",children:"Address"}),n.jsx(re,{id:"address",placeholder:"123 Business Ave",value:i.address,onChange:d=>o({...i,address:d.target.value}),disabled:l.isPending,"data-testid":"input-address"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"city",children:"City"}),n.jsx(re,{id:"city",placeholder:"New York",value:i.city,onChange:d=>o({...i,city:d.target.value}),disabled:l.isPending,"data-testid":"input-city"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"state",children:"State/Province"}),n.jsx(re,{id:"state",placeholder:"NY",value:i.state,onChange:d=>o({...i,state:d.target.value}),disabled:l.isPending,"data-testid":"input-state"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"postalCode",children:"Postal Code"}),n.jsx(re,{id:"postalCode",placeholder:"10001",value:i.postalCode,onChange:d=>o({...i,postalCode:d.target.value}),disabled:l.isPending,"data-testid":"input-postal-code"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"phone",children:"Phone"}),n.jsxs("div",{className:"relative",children:[n.jsx(cE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(re,{id:"phone",placeholder:"+1-555-000-0000",value:i.phone,onChange:d=>o({...i,phone:d.target.value}),className:"pl-10",disabled:l.isPending,"data-testid":"input-phone"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"companyEmail",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(dN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(re,{id:"companyEmail",type:"email",placeholder:"contact@company.com",value:i.email,onChange:d=>o({...i,email:d.target.value}),className:"pl-10",disabled:l.isPending,"data-testid":"input-company-email"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"website",children:"Website"}),n.jsxs("div",{className:"relative",children:[n.jsx(go,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(re,{id:"website",type:"url",placeholder:"https://www.company.com",value:i.website,onChange:d=>o({...i,website:d.target.value}),className:"pl-10",disabled:l.isPending,"data-testid":"input-website"})]})]}),n.jsx(D,{type:"submit",className:"w-full",disabled:l.isPending||!i.code||!i.name,"data-testid":"button-create-company",children:l.isPending?n.jsxs(n.Fragment,{children:[n.jsx(an,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Company..."]}):n.jsxs(n.Fragment,{children:["Continue to Admin Setup",n.jsx(ni,{className:"w-4 h-4 ml-2"})]})})]})})]})]})})}function eM(){var g;const[,e]=Na(),{toast:t}=Vt(),s=hi(),[r,a]=u.useState(null),[i,o]=u.useState(""),[l,c]=u.useState(!1),{data:d,isLoading:f}=jt({queryKey:["/api/setup/status"],retry:!1}),[m,y]=u.useState({companyId:"",username:"",password:"",email:"",fullName:""}),v=((g=d==null?void 0:d.pendingCompany)==null?void 0:g.name)||sessionStorage.getItem("setup_company_name")||"your company";u.useEffect(()=>{!f&&d&&(d.needsCompanySetup?e("/setup/company"):d.isInitialized&&!d.needsAdminSetup?e("/login"):d.pendingCompany&&!m.companyId&&y(h=>({...h,companyId:d.pendingCompany.id})))},[d,f,e,m.companyId]);const j=Rt({mutationFn:async h=>(await Gt("POST","/api/setup/admin",h)).json(),onSuccess:h=>{s.invalidateQueries({queryKey:["/api/setup/status"]}),sessionStorage.removeItem("setup_company_id"),sessionStorage.removeItem("setup_company_name"),c(!0),t({title:"Setup Complete",description:h.message||"You can now log in with your credentials."})},onError:h=>{const p=(h==null?void 0:h.message)||"Failed to create admin account";a(p),t({variant:"destructive",title:"Setup Failed",description:p})}}),x=h=>{if(h.preventDefault(),a(null),m.password!==i){a("Passwords do not match");return}if(m.password.length<8){a("Password must be at least 8 characters");return}j.mutate(m)},w=()=>{e("/login")};return f?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:n.jsxs("div",{className:"text-center",children:[n.jsx(an,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):l?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background p-4",children:n.jsxs("div",{className:"w-full max-w-2xl",children:[n.jsx("div",{className:"text-center mb-8",children:n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[n.jsx(yt,{className:"w-10 h-10 text-primary"}),n.jsx("h1",{className:"text-3xl font-bold",children:"Unanza Setup"})]})}),n.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-primary/20 text-primary",children:n.jsx(Us,{className:"w-5 h-5"})}),n.jsx("span",{className:"font-medium",children:"Company"})]}),n.jsx("div",{className:"w-12 h-0.5 bg-border"}),n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-primary/20 text-primary",children:n.jsx(Us,{className:"w-5 h-5"})}),n.jsx("span",{className:"font-medium",children:"Admin Account"})]}),n.jsx("div",{className:"w-12 h-0.5 bg-border"}),n.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-primary text-primary-foreground",children:n.jsx(Us,{className:"w-5 h-5"})}),n.jsx("span",{className:"font-medium",children:"Complete"})]})]}),n.jsxs(G,{children:[n.jsxs(J,{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Us,{className:"w-8 h-8 text-primary"})}),n.jsx(ee,{children:"Setup Complete!"}),n.jsx(Fe,{children:"Your ERP system is now ready to use. You can log in with your Super Admin credentials."})]}),n.jsxs(Y,{className:"space-y-6",children:[n.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[n.jsx("h4",{className:"font-medium",children:"Next Steps:"}),n.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Us,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),n.jsx("span",{children:"Set up your chart of accounts"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Us,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),n.jsx("span",{children:"Create warehouses and inventory locations"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Us,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),n.jsx("span",{children:"Add team members and assign roles"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Us,{className:"w-4 h-4 mt-0.5 text-primary shrink-0"}),n.jsx("span",{children:"Configure subsidiaries and branches"})]})]})]}),n.jsxs(D,{onClick:w,className:"w-full","data-testid":"button-go-to-login",children:["Go to Login",n.jsx(ni,{className:"w-4 h-4 ml-2"})]})]})]})]})}):n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background p-4",children:n.jsxs("div",{className:"w-full max-w-2xl",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[n.jsx(yt,{className:"w-10 h-10 text-primary"}),n.jsx("h1",{className:"text-3xl font-bold",children:"Unanza Setup"})]}),n.jsx("p",{className:"text-muted-foreground",children:"Welcome! Let's get your ERP system configured."})]}),n.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-primary/20 text-primary",children:n.jsx(Us,{className:"w-5 h-5"})}),n.jsx("span",{className:"font-medium",children:"Company"})]}),n.jsx("div",{className:"w-12 h-0.5 bg-border"}),n.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-primary text-primary-foreground",children:"2"}),n.jsx("span",{className:"font-medium",children:"Admin Account"})]}),n.jsx("div",{className:"w-12 h-0.5 bg-border"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium bg-muted",children:"3"}),n.jsx("span",{className:"font-medium text-muted-foreground",children:"Complete"})]})]}),n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsx(ee,{children:"Create Super Admin Account"}),n.jsxs(Fe,{children:["Set up the first administrator account for ",v,". This account will have full system access."]})]}),n.jsx(Y,{children:n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r&&n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-md bg-destructive/10 text-destructive text-sm","data-testid":"error-admin",children:[n.jsx(Wu,{className:"w-4 h-4 shrink-0"}),n.jsx("span",{children:r})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"fullName",children:"Full Name *"}),n.jsxs("div",{className:"relative",children:[n.jsx(tu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(re,{id:"fullName",placeholder:"John Doe",value:m.fullName,onChange:h=>y({...m,fullName:h.target.value}),className:"pl-10",required:!0,disabled:j.isPending,"data-testid":"input-fullname"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"adminEmail",children:"Email Address *"}),n.jsxs("div",{className:"relative",children:[n.jsx(dN,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(re,{id:"adminEmail",type:"email",placeholder:"admin@company.com",value:m.email,onChange:h=>y({...m,email:h.target.value}),className:"pl-10",required:!0,disabled:j.isPending,"data-testid":"input-admin-email"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"username",children:"Username *"}),n.jsxs("div",{className:"relative",children:[n.jsx(tu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(re,{id:"username",placeholder:"admin",value:m.username,onChange:h=>y({...m,username:h.target.value}),className:"pl-10",required:!0,disabled:j.isPending,"data-testid":"input-admin-username"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"password",children:"Password *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(re,{id:"password",type:"password",placeholder:"Min 8 characters",value:m.password,onChange:h=>y({...m,password:h.target.value}),className:"pl-10",required:!0,disabled:j.isPending,"data-testid":"input-password"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"confirmPassword",children:"Confirm Password *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Xd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),n.jsx(re,{id:"confirmPassword",type:"password",placeholder:"Confirm password",value:i,onChange:h=>o(h.target.value),className:"pl-10",required:!0,disabled:j.isPending,"data-testid":"input-confirm-password"})]})]})]}),n.jsx(D,{type:"submit",className:"w-full",disabled:j.isPending||!m.username||!m.password||!m.email||!m.fullName,"data-testid":"button-create-admin",children:j.isPending?n.jsxs(n.Fragment,{children:[n.jsx(an,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Account..."]}):n.jsxs(n.Fragment,{children:["Complete Setup",n.jsx(ni,{className:"w-4 h-4 ml-2"})]})})]})})]})]})})}function Hv(){const[,e]=Na();return u.useEffect(()=>{const t=setTimeout(()=>{e("/login")},3e3);return()=>clearTimeout(t)},[e]),n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:n.jsxs("div",{className:"text-center max-w-md p-8",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-muted flex items-center justify-center",children:n.jsx(Xd,{className:"w-8 h-8 text-muted-foreground"})}),n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Setup Complete"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"The system has already been initialized. You will be redirected to the login page."}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Redirecting in 3 seconds..."})]})})}function tM({status:e}){const[t]=Na();if(e.isInitialized&&!e.needsAdminSetup)return n.jsx(Hv,{});if(e.needsCompanySetup){if(t!=="/setup/company"&&t!=="/setup")return n.jsx(Oa,{to:"/setup/company"})}else if(e.needsAdminSetup&&t!=="/setup/admin-user")return n.jsx(Oa,{to:"/setup/admin-user"});return n.jsxs(lx,{children:[n.jsx(Ge,{path:"/setup/company",component:J5}),n.jsx(Ge,{path:"/setup/admin-user",component:eM}),n.jsx(Ge,{path:"/setup",children:e.needsCompanySetup?n.jsx(Oa,{to:"/setup/company"}):e.needsAdminSetup?n.jsx(Oa,{to:"/setup/admin-user"}):n.jsx(Hv,{})})]})}function yh(){const{data:e,isLoading:t}=jt({queryKey:["/api/setup/status"],retry:!1,refetchOnWindowFocus:!1});return t?n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:n.jsxs("div",{className:"text-center",children:[n.jsx(an,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),n.jsx("p",{className:"text-muted-foreground",children:"Checking system status..."})]})}):e?n.jsx(tM,{status:e}):n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:n.jsxs("div",{className:"text-center",children:[n.jsx(yt,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h1",{className:"text-xl font-semibold mb-2",children:"Unable to check system status"}),n.jsx("p",{className:"text-muted-foreground",children:"Please refresh the page to try again."})]})})}function St({title:e,description:t,actions:s,className:r}){return n.jsxs("div",{className:z("flex flex-wrap items-start justify-between gap-4 mb-6",r),children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold","data-testid":"text-page-title",children:e}),t&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1","data-testid":"text-page-description",children:t})]}),s&&n.jsx("div",{className:"flex flex-wrap items-center gap-2",children:s})]})}function Ot({title:e,value:t,icon:s,trend:r,subtitle:a,className:i}){const o=typeof t=="number"?t.toLocaleString("en-US",{style:e.toLowerCase().includes("value")||e.toLowerCase().includes("total")||e.toLowerCase().includes("sales")||e.toLowerCase().includes("receivable")||e.toLowerCase().includes("payable")?"currency":"decimal",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}):t;return n.jsx(G,{className:z("",i),"data-testid":`stat-card-${e.toLowerCase().replace(/\s+/g,"-")}`,children:n.jsx(Y,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground truncate",children:e}),n.jsx("p",{className:"text-2xl font-semibold mt-1",children:o}),(r!==void 0||a)&&n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[r!==void 0&&n.jsxs(n.Fragment,{children:[r>=0?n.jsx(si,{className:"h-3 w-3 text-green-600 dark:text-green-400"}):n.jsx(jx,{className:"h-3 w-3 text-red-600 dark:text-red-400"}),n.jsxs("span",{className:z("text-xs font-medium",r>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[r>=0?"+":"",r.toFixed(1),"%"]})]}),a&&n.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:a})]})]}),n.jsx("div",{className:"p-3 rounded-md bg-primary/10",children:n.jsx(s,{className:"h-5 w-5 text-primary"})})]})})})}const nM={draft:"bg-muted text-muted-foreground",confirmed:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",delivered:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",invoiced:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",paid:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",unpaid:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",partial:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",ordered:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",received:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",picking:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",packing:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",shipped:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",active:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",inactive:"bg-muted text-muted-foreground",pending:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400","on-leave":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",approved:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",rejected:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",asset:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",liability:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",equity:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",revenue:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",expense:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",posted:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",IN:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",OUT:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",TRANSFER:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",vacation:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",sick:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",personal:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",present:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",absent:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400",standard:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",transit:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",virtual:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",regular:"bg-muted text-muted-foreground",wholesale:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",distributor:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"};function Je({status:e,className:t}){const s=e.charAt(0).toUpperCase()+e.slice(1).replace("-"," ");return n.jsx(Le,{variant:"secondary",className:z("font-medium",nM[e],t),children:s})}function sM(e,t=[]){let s=[];function r(i,o){const l=u.createContext(o);l.displayName=i+"Context";const c=s.length;s=[...s,o];const d=m=>{var g;const{scope:y,children:v,...j}=m,x=((g=y==null?void 0:y[e])==null?void 0:g[c])||l,w=u.useMemo(()=>j,Object.values(j));return n.jsx(x.Provider,{value:w,children:v})};d.displayName=i+"Provider";function f(m,y){var x;const v=((x=y==null?void 0:y[e])==null?void 0:x[c])||l,j=u.useContext(v);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,f]}const a=()=>{const i=s.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,rM(a,...t)]}function rM(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}var aM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],HS=aM.reduce((e,t)=>{const s=wc(`Primitive.${t}`),r=u.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),og="Progress",lg=100,[iM]=sM(og),[oM,lM]=iM(og),KS=u.forwardRef((e,t)=>{const{__scopeProgress:s,value:r=null,max:a,getValueLabel:i=cM,...o}=e;(a||a===0)&&!Kv(a)&&console.error(dM(`${a}`,"Progress"));const l=Kv(a)?a:lg;r!==null&&!Qv(r,l)&&console.error(uM(`${r}`,"Progress"));const c=Qv(r,l)?r:null,d=hu(c)?i(c,l):void 0;return n.jsx(oM,{scope:s,value:c,max:l,children:n.jsx(HS.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":hu(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":YS(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});KS.displayName=og;var QS="ProgressIndicator",GS=u.forwardRef((e,t)=>{const{__scopeProgress:s,...r}=e,a=lM(QS,s);return n.jsx(HS.div,{"data-state":YS(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});GS.displayName=QS;function cM(e,t){return`${Math.round(e/t*100)}%`}function YS(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function hu(e){return typeof e=="number"}function Kv(e){return hu(e)&&!isNaN(e)&&e>0}function Qv(e,t){return hu(e)&&!isNaN(e)&&e<=t&&e>=0}function dM(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${lg}\`.`}function uM(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${lg} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ZS=KS,mM=GS;const As=u.forwardRef(({className:e,value:t,...s},r)=>n.jsx(ZS,{ref:r,className:z("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:n.jsx(mM,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));As.displayName=ZS.displayName;function hM(){const{activeCompanyId:e}=gi(),{isAuthenticated:t,isLoading:s,user:r}=xs(),a=t&&!s&&!!e&&!!r,{data:i=[]}=jt({queryKey:[`/api/companies/${e}/accounts`],enabled:a,staleTime:3e4}),{data:o=[]}=jt({queryKey:[`/api/companies/${e}/warehouses`],enabled:a,staleTime:3e4}),{data:l=[]}=jt({queryKey:["/api/companies"],enabled:a,staleTime:3e4}),{data:c=[]}=jt({queryKey:["/api/roles"],enabled:a,staleTime:3e4});if(!a)return null;const d=[{id:"chart-of-accounts",title:"Set up Chart of Accounts",description:"Define your company's financial accounts structure",icon:cN,link:"/financials/accounts",isComplete:i.length>0},{id:"warehouses",title:"Create Warehouses",description:"Set up storage locations for inventory management",icon:Hu,link:"/warehouse/locations",isComplete:o.length>0},{id:"users",title:"Add Team Members",description:"Invite users and assign roles",icon:nr,link:"/system/users",isComplete:!1},{id:"companies",title:"Add Subsidiaries/Branches",description:"Expand your company hierarchy",icon:yt,link:"/system/companies",isComplete:l.length>1},{id:"roles",title:"Configure User Roles",description:"Define permissions and access levels",icon:pE,link:"/system/users",isComplete:c.length>1},{id:"settings",title:"Review Settings",description:"Configure company preferences and defaults",icon:eu,link:"/system/settings",isComplete:!1}],f=d.filter(y=>y.isComplete).length,m=f/d.length*100;return m===100?null:n.jsxs(G,{className:"mb-6",children:[n.jsxs(J,{children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-md bg-primary/10",children:n.jsx(Lf,{className:"w-5 h-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(ee,{className:"text-lg",children:"Getting Started"}),n.jsx(Fe,{children:"Complete these steps to set up your ERP system"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[n.jsxs("span",{className:"text-muted-foreground",children:[f," of ",d.length," completed"]}),n.jsxs("span",{className:"font-medium",children:[Math.round(m),"%"]})]}),n.jsx(As,{value:m,className:"h-2"})]})]}),n.jsx(Y,{children:n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3",children:d.map(y=>n.jsx(_n,{href:y.link,children:n.jsxs("div",{className:`flex items-start gap-3 p-4 border rounded-md cursor-pointer transition-colors ${y.isComplete?"bg-muted/50 opacity-60":"hover-elevate"}`,"data-testid":`onboarding-task-${y.id}`,children:[n.jsx("div",{className:`p-2 rounded-md shrink-0 ${y.isComplete?"bg-primary/20":"bg-muted"}`,children:y.isComplete?n.jsx(Us,{className:"w-4 h-4 text-primary"}):n.jsx(y.icon,{className:"w-4 h-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:`font-medium text-sm ${y.isComplete?"line-through text-muted-foreground":""}`,children:y.title}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:y.description})]}),!y.isComplete&&n.jsx(ni,{className:"w-4 h-4 text-muted-foreground shrink-0"})]})},y.id))})})]})}function fM(){const[e]=u.useState($D),t=MD.filter(a=>a.stock<a.minLevel);Wf.filter(a=>a.status==="draft"||a.status==="confirmed");const s=M1.filter(a=>a.status==="draft"||a.status==="ordered"),r=$1.filter(a=>a.status==="pending");return n.jsxs("div",{children:[n.jsx(St,{title:"Dashboard",description:"Welcome back! Here's what's happening today."}),n.jsx(hM,{}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[n.jsx(Ot,{title:"Today's Sales",value:e.sales.today,icon:Cn,trend:e.sales.trend,subtitle:"vs yesterday"}),n.jsx(Ot,{title:"Pending Orders",value:e.sales.pending,icon:yo}),n.jsx(Ot,{title:"Inventory Value",value:e.inventory.totalValue,icon:cs,trend:e.inventory.trend,subtitle:"this week"}),n.jsx(Ot,{title:"Low Stock Items",value:e.inventory.lowStock,icon:Es})]}),n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxs(G,{children:[n.jsxs(J,{className:"flex flex-row items-center justify-between gap-2",children:[n.jsx(ee,{className:"text-base",children:"Recent Orders"}),n.jsx(_n,{href:"/sales/orders",children:n.jsxs(D,{variant:"ghost",size:"sm","data-testid":"link-view-all-orders",children:["View All ",n.jsx(ni,{className:"h-4 w-4 ml-1"})]})})]}),n.jsx(Y,{children:n.jsx("div",{className:"space-y-3",children:Wf.slice(0,4).map(a=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:a.id}),n.jsx("p",{className:"text-sm text-muted-foreground",children:a.customerName})]}),n.jsxs("div",{className:"text-right",children:[n.jsx(Je,{status:a.status}),n.jsxs("p",{className:"text-sm font-medium mt-1",children:["$",a.total.toLocaleString()]})]})]},a.id))})})]}),n.jsxs(G,{children:[n.jsxs(J,{className:"flex flex-row items-center justify-between gap-2",children:[n.jsx(ee,{className:"text-base",children:"Low Stock Alerts"}),n.jsx(_n,{href:"/warehouse/stock",children:n.jsxs(D,{variant:"ghost",size:"sm","data-testid":"link-view-stock",children:["View Stock ",n.jsx(ni,{className:"h-4 w-4 ml-1"})]})})]}),n.jsx(Y,{children:t.length>0?n.jsx("div",{className:"space-y-3",children:t.slice(0,4).map(a=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md border-red-200 dark:border-red-900/30 bg-red-50/50 dark:bg-red-900/10",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Es,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:a.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:a.sku})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-medium text-red-600 dark:text-red-400",children:a.stock}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Min: ",a.minLevel]})]})]},a.id))}):n.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"All products are well stocked"})})]}),n.jsxs(G,{children:[n.jsx(J,{className:"flex flex-row items-center justify-between gap-2",children:n.jsx(ee,{className:"text-base",children:"Pending Approvals"})}),n.jsx(Y,{children:n.jsxs("div",{className:"space-y-3",children:[s.slice(0,2).map(a=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(cs,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:a.id}),n.jsx("p",{className:"text-sm text-muted-foreground",children:a.vendorName})]})]}),n.jsx(Je,{status:a.status})]},a.id)),r.slice(0,2).map(a=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(er,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Leave Request"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:a.employeeName})]})]}),n.jsx(Je,{status:"pending"})]},a.id))]})})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs(G,{children:[n.jsx(J,{children:n.jsx(ee,{className:"text-base",children:"Financial Overview"})}),n.jsx(Y,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-md",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-md bg-green-100 dark:bg-green-900/30",children:n.jsx(si,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Accounts Receivable"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Outstanding invoices"})]})]}),n.jsxs("p",{className:"text-xl font-semibold",children:["$",e.receivables.total.toLocaleString()]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-md",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-md bg-red-100 dark:bg-red-900/30",children:n.jsx(Cn,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Accounts Payable"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending payments"})]})]}),n.jsxs("p",{className:"text-xl font-semibold",children:["$",e.payables.total.toLocaleString()]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-md",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-md bg-amber-100 dark:bg-amber-900/30",children:n.jsx(Es,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Overdue Receivables"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Past due date"})]})]}),n.jsxs("p",{className:"text-xl font-semibold text-amber-600 dark:text-amber-400",children:["$",e.receivables.overdue.toLocaleString()]})]})]})})]}),n.jsxs(G,{children:[n.jsx(J,{children:n.jsx(ee,{className:"text-base",children:"Quick Actions"})}),n.jsx(Y,{children:n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(_n,{href:"/sales/orders",children:n.jsxs(D,{variant:"outline",className:"w-full justify-start","data-testid":"button-quick-new-order",children:[n.jsx(yo,{className:"h-4 w-4 mr-2"}),"New Sales Order"]})}),n.jsx(_n,{href:"/warehouse/purchase-orders",children:n.jsxs(D,{variant:"outline",className:"w-full justify-start","data-testid":"button-quick-new-po",children:[n.jsx(cs,{className:"h-4 w-4 mr-2"}),"New Purchase Order"]})}),n.jsx(_n,{href:"/sales/customers",children:n.jsxs(D,{variant:"outline",className:"w-full justify-start","data-testid":"button-quick-customers",children:[n.jsx(nr,{className:"h-4 w-4 mr-2"}),"Add Customer"]})}),n.jsx(_n,{href:"/warehouse/products",children:n.jsxs(D,{variant:"outline",className:"w-full justify-start","data-testid":"button-quick-products",children:[n.jsx(cs,{className:"h-4 w-4 mr-2"}),"Add Product"]})}),n.jsx(_n,{href:"/financials/journal",children:n.jsxs(D,{variant:"outline",className:"w-full justify-start","data-testid":"button-quick-journal",children:[n.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Journal Entry"]})}),n.jsx(_n,{href:"/reports",children:n.jsxs(D,{variant:"outline",className:"w-full justify-start","data-testid":"button-quick-reports",children:[n.jsx(si,{className:"h-4 w-4 mr-2"}),"View Reports"]})})]})})]})]})]})}var vm="Tabs",[pM]=Jn(vm,[dm]),XS=dm(),[xM,cg]=pM(vm),JS=u.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,f=cm(l),[m,y]=_s({prop:r,onChange:a,defaultProp:i??"",caller:vm});return n.jsx(xM,{scope:s,baseId:us(),value:m,onValueChange:y,orientation:o,dir:f,activationMode:c,children:n.jsx(Ae.div,{dir:f,"data-orientation":o,...d,ref:t})})});JS.displayName=vm;var eC="TabsList",tC=u.forwardRef((e,t)=>{const{__scopeTabs:s,loop:r=!0,...a}=e,i=cg(eC,s),o=XS(s);return n.jsx(G1,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:n.jsx(Ae.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});tC.displayName=eC;var nC="TabsTrigger",sC=u.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,disabled:a=!1,...i}=e,o=cg(nC,s),l=XS(s),c=iC(o.baseId,r),d=oC(o.baseId,r),f=r===o.value;return n.jsx(Y1,{asChild:!0,...l,focusable:!a,active:f,children:n.jsx(Ae.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:he(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:he(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:he(e.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!a&&m&&o.onValueChange(r)})})})});sC.displayName=nC;var rC="TabsContent",aC=u.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,forceMount:a,children:i,...o}=e,l=cg(rC,s),c=iC(l.baseId,r),d=oC(l.baseId,r),f=r===l.value,m=u.useRef(f);return u.useEffect(()=>{const y=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(y)},[]),n.jsx(es,{present:a||f,children:({present:y})=>n.jsx(Ae.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!y,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:y&&i})})});aC.displayName=rC;function iC(e,t){return`${e}-trigger-${t}`}function oC(e,t){return`${e}-content-${t}`}var gM=JS,lC=tC,cC=sC,dC=aC;const gs=gM,ns=u.forwardRef(({className:e,...t},s)=>n.jsx(lC,{ref:s,className:z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ns.displayName=lC.displayName;const Oe=u.forwardRef(({className:e,...t},s)=>n.jsx(cC,{ref:s,className:z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Oe.displayName=cC.displayName;const We=u.forwardRef(({className:e,...t},s)=>n.jsx(dC,{ref:s,className:z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));We.displayName=dC.displayName;const bt=u.forwardRef(({className:e,...t},s)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:s,className:z("w-full caption-bottom text-sm",e),...t})}));bt.displayName="Table";const wt=u.forwardRef(({className:e,...t},s)=>n.jsx("thead",{ref:s,className:z("[&_tr]:border-b",e),...t}));wt.displayName="TableHeader";const Nt=u.forwardRef(({className:e,...t},s)=>n.jsx("tbody",{ref:s,className:z("[&_tr:last-child]:border-0",e),...t}));Nt.displayName="TableBody";const yM=u.forwardRef(({className:e,...t},s)=>n.jsx("tfoot",{ref:s,className:z("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));yM.displayName="TableFooter";const Ne=u.forwardRef(({className:e,...t},s)=>n.jsx("tr",{ref:s,className:z("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ne.displayName="TableRow";const M=u.forwardRef(({className:e,...t},s)=>n.jsx("th",{ref:s,className:z("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));M.displayName="TableHead";const O=u.forwardRef(({className:e,...t},s)=>n.jsx("td",{ref:s,className:z("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));O.displayName="TableCell";const vM=u.forwardRef(({className:e,...t},s)=>n.jsx("caption",{ref:s,className:z("mt-4 text-sm text-muted-foreground",e),...t}));vM.displayName="TableCaption";const Xo=[{id:"SP001",name:"Sarah Johnson",region:"North",quota:15e4,achieved:168500,orders:45,customers:28,avgOrderValue:3744,winRate:72},{id:"SP002",name:"Michael Chen",region:"South",quota:12e4,achieved:112e3,orders:38,customers:22,avgOrderValue:2947,winRate:65},{id:"SP003",name:"Emily Rodriguez",region:"East",quota:13e4,achieved:145e3,orders:52,customers:31,avgOrderValue:2788,winRate:78},{id:"SP004",name:"David Kim",region:"West",quota:14e4,achieved:138500,orders:41,customers:25,avgOrderValue:3378,winRate:68},{id:"SP005",name:"Lisa Wang",region:"Central",quota:11e4,achieved:125e3,orders:35,customers:20,avgOrderValue:3571,winRate:74}],jM=[{id:"C001",name:"Acme Corporation",revenue:125e3,orders:45,avgOrderValue:2778,lastOrder:"2024-12-01",segment:"Enterprise",growthRate:15.2},{id:"C003",name:"Global Supplies Ltd",revenue:234e3,orders:89,avgOrderValue:2629,lastOrder:"2024-12-03",segment:"Enterprise",growthRate:22.5},{id:"C005",name:"Summit Industries",revenue:189e3,orders:67,avgOrderValue:2821,lastOrder:"2024-12-05",segment:"Enterprise",growthRate:18.3},{id:"C002",name:"TechStart Inc.",revenue:67500,orders:23,avgOrderValue:2935,lastOrder:"2024-12-02",segment:"SMB",growthRate:28.7},{id:"C004",name:"Metro Retail Group",revenue:28900,orders:12,avgOrderValue:2408,lastOrder:"2024-11-15",segment:"SMB",growthRate:-5.2}],bM=[{month:"Jan 2025",predicted:145e3,lowerBound:13e4,upperBound:16e4,confidence:85},{month:"Feb 2025",predicted:152e3,lowerBound:135e3,upperBound:169e3,confidence:82},{month:"Mar 2025",predicted:168e3,lowerBound:148e3,upperBound:188e3,confidence:80},{month:"Apr 2025",predicted:175e3,lowerBound:152e3,upperBound:198e3,confidence:78},{month:"May 2025",predicted:182e3,lowerBound:156e3,upperBound:208e3,confidence:75},{month:"Jun 2025",predicted:195e3,lowerBound:165e3,upperBound:225e3,confidence:72}],Ta=[{stage:"Lead",count:156,value:78e4,conversionRate:45},{stage:"Qualified",count:70,value:42e4,conversionRate:60},{stage:"Proposal",count:42,value:315e3,conversionRate:75},{stage:"Negotiation",count:32,value:256e3,conversionRate:85},{stage:"Closed Won",count:27,value:218e3,conversionRate:100}],Jo=[{month:"Jul 2024",totalOrders:145,onTime:132,late:10,cancelled:3,fulfillmentRate:91},{month:"Aug 2024",totalOrders:158,onTime:148,late:8,cancelled:2,fulfillmentRate:94},{month:"Sep 2024",totalOrders:162,onTime:152,late:7,cancelled:3,fulfillmentRate:94},{month:"Oct 2024",totalOrders:175,onTime:165,late:6,cancelled:4,fulfillmentRate:94},{month:"Nov 2024",totalOrders:189,onTime:180,late:5,cancelled:4,fulfillmentRate:95},{month:"Dec 2024",totalOrders:198,onTime:190,late:4,cancelled:4,fulfillmentRate:96}],vh=[{ageRange:"0-30 days",items:145,value:125e3,percentage:42},{ageRange:"31-60 days",items:89,value:78500,percentage:26},{ageRange:"61-90 days",items:56,value:45e3,percentage:15},{ageRange:"91-180 days",items:34,value:28500,percentage:10},{ageRange:"180+ days",items:22,value:18e3,percentage:6}],wM=[{category:"A",items:45,percentage:15,value:485e3,valuePercentage:70,description:"High-value, critical items"},{category:"B",items:89,percentage:30,value:145e3,valuePercentage:21,description:"Medium-value, important items"},{category:"C",items:165,percentage:55,value:62e3,valuePercentage:9,description:"Low-value, routine items"}],el=[{month:"Jul 2024",inbound:2450,outbound:2180,adjustments:-45,netChange:225},{month:"Aug 2024",inbound:2680,outbound:2520,adjustments:-32,netChange:128},{month:"Sep 2024",inbound:2890,outbound:2650,adjustments:-28,netChange:212},{month:"Oct 2024",inbound:3150,outbound:2980,adjustments:-15,netChange:155},{month:"Nov 2024",inbound:3420,outbound:3180,adjustments:-22,netChange:218},{month:"Dec 2024",inbound:3680,outbound:3450,adjustments:-18,netChange:212}],NM=[{id:"P003",sku:"CPT-001",name:"Component Alpha",currentStock:12,safetyStock:100,reorderPoint:150,suggestedQty:200,leadTime:7,priority:"critical"},{id:"P006",sku:"ASM-001",name:"Assembly Kit Pro",currentStock:45,safetyStock:50,reorderPoint:75,suggestedQty:100,leadTime:14,priority:"high"},{id:"P002",sku:"WDG-002",name:"Industrial Widget B",currentStock:156,safetyStock:100,reorderPoint:150,suggestedQty:150,leadTime:5,priority:"medium"},{id:"P004",sku:"CPT-002",name:"Component Beta",currentStock:89,safetyStock:80,reorderPoint:100,suggestedQty:120,leadTime:10,priority:"low"}],SM=[{location:"Zone A",systemQty:2450,physicalQty:2438,variance:-12,variancePercent:-.49,lastAudit:"2024-12-01"},{location:"Zone B",systemQty:1890,physicalQty:1895,variance:5,variancePercent:.26,lastAudit:"2024-12-01"},{location:"Zone C",systemQty:3250,physicalQty:3228,variance:-22,variancePercent:-.68,lastAudit:"2024-12-01"},{location:"Zone D",systemQty:980,physicalQty:982,variance:2,variancePercent:.2,lastAudit:"2024-12-01"}],CM=[{id:"V001",name:"Prime Suppliers Co.",onTimeRate:94,qualityScore:98,avgLeadTime:5,priceCompetitiveness:92,overallScore:96},{id:"V002",name:"Quality Materials Inc.",onTimeRate:88,qualityScore:95,avgLeadTime:7,priceCompetitiveness:88,overallScore:90},{id:"V003",name:"FastShip Logistics",onTimeRate:96,qualityScore:92,avgLeadTime:3,priceCompetitiveness:85,overallScore:91},{id:"V004",name:"Industrial Parts Ltd",onTimeRate:82,qualityScore:90,avgLeadTime:10,priceCompetitiveness:94,overallScore:85}],pt={period:"Q4 2024",revenue:{productSales:485e3,serviceRevenue:125e3,otherIncome:26600,totalRevenue:636600},costOfSales:{materials:145e3,directLabor:85e3,overhead:42e3,totalCOGS:272e3},grossProfit:364600,grossMargin:57.3,operatingExpenses:{salaries:185e3,rent:36e3,utilities:14500,marketing:22e3,depreciation:45e3,other:52e3,totalOpex:354500},operatingIncome:10100,otherExpenses:{interest:12500,taxes:22e3},netIncome:-24400,netMargin:-3.8},ht={asOfDate:"2024-12-05",assets:{current:{cash:172500,accountsReceivable:58300,inventory:283500,prepaidExpenses:25e3,totalCurrent:539300},fixed:{land:15e4,buildings:355e3,equipment:337e3,vehicles:8e4,furniture:47e3,computers:53e3,totalFixed:1022e3},totalAssets:1561300},liabilities:{current:{accountsPayable:49400,accruedExpenses:31900,taxesPayable:37400,otherCurrent:44500,totalCurrent:163200},longTerm:{bankLoans:15e4,mortgage:28e4,equipmentLoans:75e3,totalLongTerm:505e3},totalLiabilities:668200},equity:{commonStock:2e5,additionalPaidIn:75e3,retainedEarnings:57e4,currentYearEarnings:-24400,totalEquity:845600},totalLiabilitiesAndEquity:1513800},kM=[{month:"Jul 2024",operating:45e3,investing:-15e3,financing:-8e3,netChange:22e3,endingBalance:145e3},{month:"Aug 2024",operating:52e3,investing:-25e3,financing:-8e3,netChange:19e3,endingBalance:164e3},{month:"Sep 2024",operating:48e3,investing:-1e4,financing:-8e3,netChange:3e4,endingBalance:194e3},{month:"Oct 2024",operating:38e3,investing:-45e3,financing:-8e3,netChange:-15e3,endingBalance:179e3},{month:"Nov 2024",operating:55e3,investing:-12e3,financing:-8e3,netChange:35e3,endingBalance:214e3},{month:"Dec 2024",operating:42e3,investing:-8e3,financing:-75e3,netChange:-41e3,endingBalance:173e3}],Gv=[{ageRange:"Current",amount:28500,count:12,percentage:49},{ageRange:"1-30 days",amount:15200,count:8,percentage:26},{ageRange:"31-60 days",amount:8500,count:5,percentage:15},{ageRange:"61-90 days",amount:4200,count:3,percentage:7},{ageRange:"90+ days",amount:1900,count:2,percentage:3}],Yv=[{ageRange:"Current",amount:22e3,count:8,percentage:45},{ageRange:"1-30 days",amount:14500,count:6,percentage:29},{ageRange:"31-60 days",amount:8200,count:4,percentage:17},{ageRange:"61-90 days",amount:3500,count:2,percentage:7},{ageRange:"90+ days",amount:1200,count:1,percentage:2}],ss={liquidity:{currentRatio:3.31,quickRatio:1.57,cashRatio:1.06},profitability:{grossMargin:57.3,operatingMargin:1.6,netMargin:-3.8},efficiency:{inventoryTurnover:4.2,receivablesTurnover:10.9,assetTurnover:.41},leverage:{debtToEquity:.79,debtToAssets:.43,interestCoverage:.81}},jh=[{employeeId:"E001",name:"Sarah Johnson",department:"Sales",daysWorked:22,daysAbsent:0,lateArrivals:2,avgHours:8.5,overtimeHours:12},{employeeId:"E002",name:"Michael Chen",department:"Warehouse",daysWorked:22,daysAbsent:1,lateArrivals:0,avgHours:8.2,overtimeHours:8},{employeeId:"E003",name:"Emily Rodriguez",department:"Finance",daysWorked:21,daysAbsent:1,lateArrivals:1,avgHours:8.8,overtimeHours:15},{employeeId:"E004",name:"David Kim",department:"HR",daysWorked:22,daysAbsent:0,lateArrivals:0,avgHours:8,overtimeHours:4},{employeeId:"E005",name:"Lisa Wang",department:"Operations",daysWorked:12,daysAbsent:10,lateArrivals:0,avgHours:8,overtimeHours:0}],tl=[{employeeId:"E001",name:"Sarah Johnson",department:"Sales",annualAllowed:20,used:5,remaining:15,sickUsed:2,sickRemaining:8},{employeeId:"E002",name:"Michael Chen",department:"Warehouse",annualAllowed:20,used:8,remaining:12,sickUsed:1,sickRemaining:9},{employeeId:"E003",name:"Emily Rodriguez",department:"Finance",annualAllowed:25,used:10,remaining:15,sickUsed:3,sickRemaining:7},{employeeId:"E004",name:"David Kim",department:"HR",annualAllowed:20,used:3,remaining:17,sickUsed:0,sickRemaining:10},{employeeId:"E005",name:"Lisa Wang",department:"Operations",annualAllowed:20,used:15,remaining:5,sickUsed:5,sickRemaining:5}],nl=[{department:"Sales",employees:5,totalHours:48,avgPerEmployee:9.6,cost:3600},{department:"Warehouse",employees:8,totalHours:72,avgPerEmployee:9,cost:4320},{department:"Finance",employees:4,totalHours:32,avgPerEmployee:8,cost:2880},{department:"HR",employees:3,totalHours:12,avgPerEmployee:4,cost:900},{department:"Operations",employees:6,totalHours:45,avgPerEmployee:7.5,cost:2700}],Dr=[{department:"Sales",employees:5,baseSalary:45e3,overtime:3600,bonuses:8500,deductions:5700,netPayroll:51400},{department:"Warehouse",employees:8,baseSalary:52e3,overtime:4320,bonuses:2500,deductions:5880,netPayroll:52940},{department:"Finance",employees:4,baseSalary:38e3,overtime:2880,bonuses:4200,deductions:4508,netPayroll:40572},{department:"HR",employees:3,baseSalary:28e3,overtime:900,bonuses:1500,deductions:3040,netPayroll:27360},{department:"Operations",employees:6,baseSalary:42e3,overtime:2700,bonuses:3e3,deductions:4770,netPayroll:42930}],IM=[{id:"V001",name:"Prime Suppliers Co.",quality:98,delivery:94,price:92,service:95,overall:95,trend:"up"},{id:"V002",name:"Quality Materials Inc.",quality:95,delivery:88,price:88,service:90,overall:90,trend:"stable"},{id:"V003",name:"FastShip Logistics",quality:92,delivery:96,price:85,service:88,overall:90,trend:"up"},{id:"V004",name:"Industrial Parts Ltd",quality:90,delivery:82,price:94,service:78,overall:86,trend:"down"}],sl=[{id:"C001",name:"Acme Corporation",acquisitionDate:"2020-03-15",totalRevenue:485e3,avgOrderValue:10778,frequency:45,clv:645e3,segment:"high"},{id:"C003",name:"Global Supplies Ltd",acquisitionDate:"2019-08-22",totalRevenue:892e3,avgOrderValue:10022,frequency:89,clv:125e4,segment:"high"},{id:"C005",name:"Summit Industries",acquisitionDate:"2021-01-10",totalRevenue:378e3,avgOrderValue:5642,frequency:67,clv:52e4,segment:"high"},{id:"C002",name:"TechStart Inc.",acquisitionDate:"2022-06-01",totalRevenue:135e3,avgOrderValue:5870,frequency:23,clv:185e3,segment:"medium"},{id:"C004",name:"Metro Retail Group",acquisitionDate:"2023-02-14",totalRevenue:28900,avgOrderValue:2408,frequency:12,clv:45e3,segment:"low"}],TM=[{id:"AUD001",timestamp:"2024-12-05 14:32:15",user:"admin@unanza.com",module:"Sales",action:"CREATE",entity:"Sales Order",entityId:"SO-005",details:"Created new sales order"},{id:"AUD002",timestamp:"2024-12-05 14:28:45",user:"sarah.johnson@unanza.com",module:"Sales",action:"UPDATE",entity:"Customer",entityId:"C001",details:"Updated contact information"},{id:"AUD003",timestamp:"2024-12-05 13:45:22",user:"michael.chen@unanza.com",module:"Warehouse",action:"CREATE",entity:"Stock Movement",entityId:"MOV-004",details:"Received PO-002 items"},{id:"AUD004",timestamp:"2024-12-05 12:15:10",user:"emily.rodriguez@unanza.com",module:"Finance",action:"POST",entity:"Journal Entry",entityId:"JE-003",details:"Posted journal entry"},{id:"AUD005",timestamp:"2024-12-05 11:30:55",user:"admin@unanza.com",module:"System",action:"UPDATE",entity:"Settings",entityId:"SYS-001",details:"Updated company settings"},{id:"AUD006",timestamp:"2024-12-05 10:22:33",user:"david.kim@unanza.com",module:"HR",action:"APPROVE",entity:"Leave Request",entityId:"LR-001",details:"Approved vacation request"}],PM=[{id:"C004",name:"Metro Retail Group",lastOrderDays:20,orderFrequencyDecline:45,revenueDecline:32,supportTickets:5,churnProbability:78,riskLevel:"high"},{id:"C002",name:"TechStart Inc.",lastOrderDays:3,orderFrequencyDecline:12,revenueDecline:8,supportTickets:1,churnProbability:25,riskLevel:"low"},{id:"C005",name:"Summit Industries",lastOrderDays:0,orderFrequencyDecline:-5,revenueDecline:-15,supportTickets:0,churnProbability:8,riskLevel:"low"}],EM=[{id:"P003",sku:"CPT-001",name:"Component Alpha",currentStock:12,predictedDemand:180,daysUntilStockout:2,optimalReorderDate:"2024-12-06",suggestedQty:250,confidence:92},{id:"P006",sku:"ASM-001",name:"Assembly Kit Pro",currentStock:45,predictedDemand:85,daysUntilStockout:12,optimalReorderDate:"2024-12-10",suggestedQty:100,confidence:88},{id:"P002",sku:"WDG-002",name:"Industrial Widget B",currentStock:156,predictedDemand:120,daysUntilStockout:28,optimalReorderDate:"2024-12-20",suggestedQty:150,confidence:85},{id:"P001",sku:"WDG-001",name:"Industrial Widget A",currentStock:234,predictedDemand:95,daysUntilStockout:52,optimalReorderDate:"2025-01-15",suggestedQty:120,confidence:82}],AM=[{productId:"P001",name:"Industrial Widget A",currentMonth:95,month1:102,month2:108,month3:115,month4:98,month5:88,month6:105,seasonality:"stable"},{productId:"P002",name:"Industrial Widget B",currentMonth:120,month1:135,month2:142,month3:128,month4:115,month5:108,month6:125,seasonality:"growing"},{productId:"P003",name:"Component Alpha",currentMonth:180,month1:195,month2:210,month3:225,month4:198,month5:185,month6:205,seasonality:"seasonal-high"},{productId:"P004",name:"Component Beta",currentMonth:45,month1:48,month2:52,month3:55,month4:50,month5:45,month6:48,seasonality:"stable"},{productId:"P005",name:"Raw Material X",currentMonth:350,month1:380,month2:410,month3:445,month4:420,month5:395,month6:425,seasonality:"growing"},{productId:"P006",name:"Assembly Kit Pro",currentMonth:85,month1:92,month2:78,month3:65,month4:72,month5:88,month6:95,seasonality:"variable"}],Zv=[{month:"Jan 2024",revenue:125e3,orders:145,avgOrderValue:862},{month:"Feb 2024",revenue:132e3,orders:158,avgOrderValue:835},{month:"Mar 2024",revenue:148e3,orders:175,avgOrderValue:846},{month:"Apr 2024",revenue:142e3,orders:168,avgOrderValue:845},{month:"May 2024",revenue:155e3,orders:182,avgOrderValue:852},{month:"Jun 2024",revenue:168e3,orders:195,avgOrderValue:862},{month:"Jul 2024",revenue:162e3,orders:188,avgOrderValue:862},{month:"Aug 2024",revenue:175e3,orders:205,avgOrderValue:854},{month:"Sep 2024",revenue:182e3,orders:215,avgOrderValue:847},{month:"Oct 2024",revenue:195e3,orders:228,avgOrderValue:855},{month:"Nov 2024",revenue:215e3,orders:248,avgOrderValue:867},{month:"Dec 2024",revenue:235e3,orders:268,avgOrderValue:877}];function RM(){const[e,t]=u.useState("performance"),s=Xo.reduce((i,o)=>i+o.quota,0),r=Xo.reduce((i,o)=>i+o.achieved,0),a=r/s*100;return n.jsx("div",{className:"space-y-6",children:n.jsxs(gs,{value:e,onValueChange:t,children:[n.jsxs(ns,{className:"grid grid-cols-5 w-full max-w-3xl",children:[n.jsx(Oe,{value:"performance","data-testid":"tab-performance",children:"Performance"}),n.jsx(Oe,{value:"customers","data-testid":"tab-customers",children:"Customers"}),n.jsx(Oe,{value:"forecast","data-testid":"tab-forecast",children:"Forecast"}),n.jsx(Oe,{value:"pipeline","data-testid":"tab-pipeline",children:"Pipeline"}),n.jsx(Oe,{value:"fulfillment","data-testid":"tab-fulfillment",children:"Fulfillment"})]}),n.jsxs(We,{value:"performance",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[n.jsxs(G,{"data-testid":"card-total-quota",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Total Quota"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold","data-testid":"text-total-quota",children:["$",s.toLocaleString()]})})]}),n.jsxs(G,{"data-testid":"card-total-achieved",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Total Achieved"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold text-green-600 dark:text-green-400","data-testid":"text-total-achieved",children:["$",r.toLocaleString()]})})]}),n.jsxs(G,{"data-testid":"card-attainment",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Attainment"})}),n.jsx(Y,{children:n.jsxs("p",{className:z("text-2xl font-semibold",a>=100?"text-green-600 dark:text-green-400":"text-amber-600 dark:text-amber-400"),"data-testid":"text-attainment",children:[a.toFixed(1),"%"]})})]}),n.jsxs(G,{"data-testid":"card-win-rate",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Avg Win Rate"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold","data-testid":"text-win-rate",children:[(Xo.reduce((i,o)=>i+o.winRate,0)/Xo.length).toFixed(0),"%"]})})]})]}),n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(WP,{className:"h-5 w-5"}),"Salesperson Performance"]}),n.jsx(Fe,{children:"Quota attainment and key metrics by salesperson"})]}),n.jsx(Y,{children:n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Salesperson"}),n.jsx(M,{children:"Region"}),n.jsx(M,{className:"text-right",children:"Quota"}),n.jsx(M,{className:"text-right",children:"Achieved"}),n.jsx(M,{className:"text-center",children:"Attainment"}),n.jsx(M,{className:"text-center",children:"Orders"}),n.jsx(M,{className:"text-center",children:"Customers"}),n.jsx(M,{className:"text-right",children:"Avg Order"}),n.jsx(M,{className:"text-center",children:"Win Rate"})]})}),n.jsx(Nt,{children:Xo.map(i=>{const o=i.achieved/i.quota*100;return n.jsxs(Ne,{"data-testid":`row-salesperson-${i.id}`,children:[n.jsx(O,{className:"font-medium",children:i.name}),n.jsx(O,{children:i.region}),n.jsxs(O,{className:"text-right",children:["$",i.quota.toLocaleString()]}),n.jsxs(O,{className:"text-right",children:["$",i.achieved.toLocaleString()]}),n.jsx(O,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(As,{value:Math.min(o,100),className:"h-2 w-16"}),n.jsxs("span",{className:z("text-sm font-medium",o>=100?"text-green-600":o>=80?"text-amber-600":"text-red-600"),children:[o.toFixed(0),"%"]})]})}),n.jsx(O,{className:"text-center",children:i.orders}),n.jsx(O,{className:"text-center",children:i.customers}),n.jsxs(O,{className:"text-right",children:["$",i.avgOrderValue.toLocaleString()]}),n.jsx(O,{className:"text-center",children:n.jsxs(Le,{variant:i.winRate>=70?"default":"secondary",children:[i.winRate,"%"]})})]},i.id)})})]})})]})]}),n.jsx(We,{value:"customers",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(nr,{className:"h-5 w-5"}),"Customer Ranking by Revenue"]}),n.jsx(Fe,{children:"Top customers sorted by total revenue contribution"})]}),n.jsx(Y,{children:n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Rank"}),n.jsx(M,{children:"Customer"}),n.jsx(M,{children:"Segment"}),n.jsx(M,{className:"text-right",children:"Revenue"}),n.jsx(M,{className:"text-center",children:"Orders"}),n.jsx(M,{className:"text-right",children:"Avg Order"}),n.jsx(M,{children:"Last Order"}),n.jsx(M,{className:"text-center",children:"Growth"})]})}),n.jsx(Nt,{children:jM.sort((i,o)=>o.revenue-i.revenue).map((i,o)=>n.jsxs(Ne,{"data-testid":`row-customer-${i.id}`,children:[n.jsx(O,{children:n.jsxs(Le,{variant:o<3?"default":"outline",children:["#",o+1]})}),n.jsx(O,{className:"font-medium",children:i.name}),n.jsx(O,{children:n.jsx(Le,{variant:"secondary",children:i.segment})}),n.jsxs(O,{className:"text-right font-semibold",children:["$",i.revenue.toLocaleString()]}),n.jsx(O,{className:"text-center",children:i.orders}),n.jsxs(O,{className:"text-right",children:["$",i.avgOrderValue.toLocaleString()]}),n.jsx(O,{children:i.lastOrder}),n.jsx(O,{className:"text-center",children:n.jsxs("div",{className:z("flex items-center justify-center gap-1",i.growthRate>=0?"text-green-600":"text-red-600"),children:[i.growthRate>=0?n.jsx(si,{className:"h-4 w-4"}):n.jsx(jx,{className:"h-4 w-4"}),Math.abs(i.growthRate),"%"]})})]},i.id))})]})})]})}),n.jsx(We,{value:"forecast",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(si,{className:"h-5 w-5"}),"Sales Forecast (6 Months)"]}),n.jsx(Fe,{children:"AI-powered sales predictions with confidence intervals"})]}),n.jsx(Y,{children:n.jsx("div",{className:"space-y-4",children:bM.map((i,o)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:i.month}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Range: $",i.lowerBound.toLocaleString()," - $",i.upperBound.toLocaleString()]}),n.jsxs(Le,{variant:"outline",children:[i.confidence,"% confidence"]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"h-8 bg-muted rounded-md overflow-hidden relative",children:[n.jsx("div",{className:"absolute h-full bg-blue-200 dark:bg-blue-900/50",style:{left:`${i.lowerBound/i.upperBound*80}%`,width:`${(i.upperBound-i.lowerBound)/i.upperBound*80}%`}}),n.jsx("div",{className:"absolute h-full w-1 bg-blue-600",style:{left:`${i.predicted/i.upperBound*80}%`}})]}),n.jsxs("div",{className:"flex justify-between mt-1 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"$0"}),n.jsxs("span",{className:"font-semibold text-blue-600",children:["$",i.predicted.toLocaleString()]}),n.jsxs("span",{className:"text-muted-foreground",children:["$",(i.upperBound*1.25).toLocaleString()]})]})]})]},i.month))})})]})}),n.jsx(We,{value:"pipeline",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(Bu,{className:"h-5 w-5"}),"Sales Pipeline"]}),n.jsx(Fe,{children:"Lead to order conversion funnel"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"space-y-4",children:Ta.map((i,o)=>{const l=Ta[0].value,c=i.value/l*100,d=o===Ta.length-1;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:i.stage}),n.jsxs(Le,{variant:"secondary",children:[i.count," opportunities"]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"font-semibold",children:["$",i.value.toLocaleString()]}),!d&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[n.jsx(ni,{className:"h-4 w-4"}),n.jsxs("span",{children:[i.conversionRate,"%"]})]})]})]}),n.jsx("div",{className:"h-10 bg-muted rounded-md overflow-hidden",children:n.jsx("div",{className:z("h-full flex items-center justify-center text-white font-medium transition-all",d?"bg-green-600":"bg-blue-600"),style:{width:`${c}%`},children:c>20&&`$${i.value.toLocaleString()}`})})]},i.stage)})}),n.jsxs("div",{className:"mt-8 grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 border rounded-md",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pipeline Value"}),n.jsxs("p",{className:"text-2xl font-semibold",children:["$",Ta.reduce((i,o)=>i+o.value,0).toLocaleString()]})]}),n.jsxs("div",{className:"p-4 border rounded-md",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Weighted Pipeline"}),n.jsxs("p",{className:"text-2xl font-semibold",children:["$",Ta.reduce((i,o)=>i+o.value*o.conversionRate/100,0).toLocaleString()]})]}),n.jsxs("div",{className:"p-4 border rounded-md",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Overall Conversion"}),n.jsxs("p",{className:"text-2xl font-semibold",children:[(Ta[4].count/Ta[0].count*100).toFixed(1),"%"]})]})]})]})]})}),n.jsxs(We,{value:"fulfillment",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Avg Fulfillment Rate"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold text-green-600 dark:text-green-400",children:[(Jo.reduce((i,o)=>i+o.fulfillmentRate,0)/Jo.length).toFixed(1),"%"]})})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Total Orders (6 mo)"})}),n.jsx(Y,{children:n.jsx("p",{className:"text-2xl font-semibold",children:Jo.reduce((i,o)=>i+o.totalOrders,0).toLocaleString()})})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Late Deliveries"})}),n.jsx(Y,{children:n.jsx("p",{className:"text-2xl font-semibold text-amber-600 dark:text-amber-400",children:Jo.reduce((i,o)=>i+o.late,0)})})]})]}),n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(er,{className:"h-5 w-5"}),"Order Fulfillment Rate"]}),n.jsx(Fe,{children:"Monthly delivery performance metrics"})]}),n.jsx(Y,{children:n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Month"}),n.jsx(M,{className:"text-center",children:"Total Orders"}),n.jsx(M,{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-1",children:[n.jsx(yr,{className:"h-4 w-4 text-green-600"}),"On Time"]})}),n.jsx(M,{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-1",children:[n.jsx(er,{className:"h-4 w-4 text-amber-600"}),"Late"]})}),n.jsx(M,{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-1",children:[n.jsx(lN,{className:"h-4 w-4 text-red-600"}),"Cancelled"]})}),n.jsx(M,{className:"text-center",children:"Fulfillment Rate"})]})}),n.jsx(Nt,{children:Jo.map(i=>n.jsxs(Ne,{children:[n.jsx(O,{className:"font-medium",children:i.month}),n.jsx(O,{className:"text-center",children:i.totalOrders}),n.jsx(O,{className:"text-center text-green-600",children:i.onTime}),n.jsx(O,{className:"text-center text-amber-600",children:i.late}),n.jsx(O,{className:"text-center text-red-600",children:i.cancelled}),n.jsx(O,{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(As,{value:i.fulfillmentRate,className:"h-2 w-16"}),n.jsxs("span",{className:z("font-medium",i.fulfillmentRate>=95?"text-green-600":"text-amber-600"),children:[i.fulfillmentRate,"%"]})]})})]},i.month))})]})})]})]})]})})}function _M(){const[e,t]=u.useState("aging"),s=vh.reduce((a,i)=>a+i.value,0),r=vh.filter(a=>a.ageRange.includes("90")||a.ageRange.includes("180")).reduce((a,i)=>a+i.value,0);return n.jsx("div",{className:"space-y-6",children:n.jsxs(gs,{value:e,onValueChange:t,children:[n.jsxs(ns,{className:"grid grid-cols-6 w-full max-w-4xl",children:[n.jsx(Oe,{value:"aging","data-testid":"tab-aging",children:"Aging"}),n.jsx(Oe,{value:"abc","data-testid":"tab-abc",children:"ABC Analysis"}),n.jsx(Oe,{value:"movement","data-testid":"tab-movement",children:"Movement"}),n.jsx(Oe,{value:"reorder","data-testid":"tab-reorder",children:"Reorder"}),n.jsx(Oe,{value:"accuracy","data-testid":"tab-accuracy",children:"Accuracy"}),n.jsx(Oe,{value:"suppliers","data-testid":"tab-suppliers",children:"Suppliers"})]}),n.jsxs(We,{value:"aging",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs(G,{"data-testid":"card-inventory-value",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Total Inventory Value"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold","data-testid":"text-inventory-value",children:["$",s.toLocaleString()]})})]}),n.jsxs(G,{"data-testid":"card-fresh-stock",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Fresh Stock (0-60 days)"})}),n.jsx(Y,{children:n.jsx("p",{className:"text-2xl font-semibold text-green-600 dark:text-green-400","data-testid":"text-fresh-stock",children:"68%"})})]}),n.jsxs(G,{"data-testid":"card-old-stock",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Old/Dead Stock (90+ days)"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold text-red-600 dark:text-red-400","data-testid":"text-old-stock",children:["$",r.toLocaleString()]})})]})]}),n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(er,{className:"h-5 w-5"}),"Inventory Aging Report"]}),n.jsx(Fe,{children:"Stock age distribution to identify slow-moving inventory"})]}),n.jsx(Y,{children:n.jsx("div",{className:"space-y-4",children:vh.map(a=>{const i=a.ageRange.includes("90")||a.ageRange.includes("180");return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:a.ageRange}),i&&n.jsx(Es,{className:"h-4 w-4 text-amber-500"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("span",{className:"text-sm text-muted-foreground",children:[a.items," items"]}),n.jsxs("span",{className:"font-semibold",children:["$",a.value.toLocaleString()]})]})]}),n.jsx("div",{className:"h-6 bg-muted rounded-md overflow-hidden",children:n.jsxs("div",{className:z("h-full flex items-center px-2 text-xs font-medium text-white",i?"bg-red-500":a.ageRange.includes("60")?"bg-amber-500":"bg-green-500"),style:{width:`${a.percentage}%`},children:[a.percentage,"%"]})})]},a.ageRange)})})})]})]}),n.jsx(We,{value:"abc",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(cs,{className:"h-5 w-5"}),"ABC Analysis"]}),n.jsx(Fe,{children:"Inventory classification by value contribution"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:wM.map(a=>n.jsxs(G,{className:z("border-2",a.category==="A"?"border-green-500":a.category==="B"?"border-amber-500":"border-blue-500"),children:[n.jsxs(J,{className:"pb-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ee,{className:"text-2xl",children:["Category ",a.category]}),n.jsxs(Le,{className:z(a.category==="A"?"bg-green-500":a.category==="B"?"bg-amber-500":"bg-blue-500"),children:[a.valuePercentage,"% value"]})]}),n.jsx(Fe,{children:a.description})]}),n.jsxs(Y,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Items"}),n.jsxs("span",{className:"font-medium",children:[a.items," (",a.percentage,"%)"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Value"}),n.jsxs("span",{className:"font-medium",children:["$",a.value.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Value Share"}),n.jsxs("span",{className:"font-medium",children:[a.valuePercentage,"%"]})]})]})]},a.category))}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-md",children:[n.jsx("h4",{className:"font-medium mb-2",children:"ABC Analysis Recommendations"}),n.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(yr,{className:"h-4 w-4 text-green-500 mt-0.5"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Category A:"})," Implement tight inventory control, frequent cycle counts, and maintain safety stock"]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(yr,{className:"h-4 w-4 text-amber-500 mt-0.5"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Category B:"})," Use moderate controls, regular review cycles, and economic order quantities"]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(yr,{className:"h-4 w-4 text-blue-500 mt-0.5"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Category C:"})," Apply simple controls, bulk ordering, and periodic review system"]})]})]})]})]})]})}),n.jsx(We,{value:"movement",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(uE,{className:"h-5 w-5"}),"Stock Movement Summary"]}),n.jsx(Fe,{children:"Monthly inbound, outbound, and net stock changes"})]}),n.jsxs(Y,{children:[n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Month"}),n.jsx(M,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(VP,{className:"h-4 w-4 text-green-600"}),"Inbound"]})}),n.jsx(M,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(UP,{className:"h-4 w-4 text-blue-600"}),"Outbound"]})}),n.jsx(M,{className:"text-right",children:"Adjustments"}),n.jsx(M,{className:"text-right",children:"Net Change"})]})}),n.jsx(Nt,{children:el.map(a=>n.jsxs(Ne,{children:[n.jsx(O,{className:"font-medium",children:a.month}),n.jsxs(O,{className:"text-right text-green-600",children:["+",a.inbound.toLocaleString()]}),n.jsxs(O,{className:"text-right text-blue-600",children:["-",a.outbound.toLocaleString()]}),n.jsx(O,{className:"text-right text-muted-foreground",children:a.adjustments}),n.jsxs(O,{className:z("text-right font-medium",a.netChange>=0?"text-green-600":"text-red-600"),children:[a.netChange>=0?"+":"",a.netChange.toLocaleString()]})]},a.month))})]}),n.jsxs("div",{className:"mt-6 grid md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"p-4 border rounded-md",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Inbound"}),n.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["+",el.reduce((a,i)=>a+i.inbound,0).toLocaleString()]})]}),n.jsxs("div",{className:"p-4 border rounded-md",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Outbound"}),n.jsxs("p",{className:"text-xl font-semibold text-blue-600",children:["-",el.reduce((a,i)=>a+i.outbound,0).toLocaleString()]})]}),n.jsxs("div",{className:"p-4 border rounded-md",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Adjustments"}),n.jsx("p",{className:"text-xl font-semibold text-muted-foreground",children:el.reduce((a,i)=>a+i.adjustments,0)})]}),n.jsxs("div",{className:"p-4 border rounded-md",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Net Change"}),n.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["+",el.reduce((a,i)=>a+i.netChange,0).toLocaleString()]})]})]})]})]})}),n.jsx(We,{value:"reorder",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(Es,{className:"h-5 w-5"}),"Reorder Recommendations"]}),n.jsx(Fe,{children:"AI-based suggestions for stock replenishment based on safety stock levels"})]}),n.jsx(Y,{children:n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Priority"}),n.jsx(M,{children:"Product"}),n.jsx(M,{className:"text-right",children:"Current Stock"}),n.jsx(M,{className:"text-right",children:"Safety Stock"}),n.jsx(M,{className:"text-right",children:"Reorder Point"}),n.jsx(M,{className:"text-right",children:"Suggested Qty"}),n.jsx(M,{className:"text-center",children:"Lead Time"}),n.jsx(M,{})]})}),n.jsx(Nt,{children:NM.map(a=>n.jsxs(Ne,{children:[n.jsx(O,{children:n.jsx(Le,{className:z(a.priority==="critical"?"bg-red-500":a.priority==="high"?"bg-amber-500":a.priority==="medium"?"bg-blue-500":"bg-gray-500"),children:a.priority})}),n.jsx(O,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:a.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:a.sku})]})}),n.jsx(O,{className:z("text-right font-medium",a.currentStock<a.safetyStock?"text-red-600":""),children:a.currentStock}),n.jsx(O,{className:"text-right",children:a.safetyStock}),n.jsx(O,{className:"text-right",children:a.reorderPoint}),n.jsx(O,{className:"text-right font-semibold",children:a.suggestedQty}),n.jsxs(O,{className:"text-center",children:[a.leadTime," days"]}),n.jsx(O,{children:n.jsx(D,{size:"sm","data-testid":`button-reorder-${a.id}`,children:"Create PO"})})]},a.id))})]})})]})}),n.jsx(We,{value:"accuracy",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(yr,{className:"h-5 w-5"}),"Stock Accuracy Report"]}),n.jsx(Fe,{children:"Comparison between system records and physical counts"})]}),n.jsxs(Y,{children:[n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Location"}),n.jsx(M,{className:"text-right",children:"System Qty"}),n.jsx(M,{className:"text-right",children:"Physical Qty"}),n.jsx(M,{className:"text-right",children:"Variance"}),n.jsx(M,{className:"text-right",children:"Variance %"}),n.jsx(M,{children:"Last Audit"}),n.jsx(M,{className:"text-center",children:"Status"})]})}),n.jsx(Nt,{children:SM.map(a=>n.jsxs(Ne,{children:[n.jsx(O,{className:"font-medium",children:a.location}),n.jsx(O,{className:"text-right",children:a.systemQty.toLocaleString()}),n.jsx(O,{className:"text-right",children:a.physicalQty.toLocaleString()}),n.jsxs(O,{className:z("text-right",a.variance!==0?"text-amber-600":"text-green-600"),children:[a.variance>0?"+":"",a.variance]}),n.jsxs(O,{className:z("text-right",Math.abs(a.variancePercent)>.5?"text-amber-600":"text-green-600"),children:[a.variancePercent>0?"+":"",a.variancePercent.toFixed(2),"%"]}),n.jsx(O,{children:a.lastAudit}),n.jsx(O,{className:"text-center",children:Math.abs(a.variancePercent)<1?n.jsx(Le,{className:"bg-green-500",children:"Accurate"}):n.jsx(Le,{className:"bg-amber-500",children:"Review"})})]},a.location))})]}),n.jsx("div",{className:"mt-6 p-4 bg-muted/50 rounded-md",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Overall Stock Accuracy"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Based on latest cycle count audit"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-3xl font-semibold text-green-600",children:"99.7%"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Target: 99.5%"})]})]})})]})]})}),n.jsx(We,{value:"suppliers",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(uv,{className:"h-5 w-5"}),"Supplier Performance"]}),n.jsx(Fe,{children:"Vendor evaluation based on delivery, quality, and pricing"})]}),n.jsx(Y,{children:n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Supplier"}),n.jsx(M,{className:"text-center",children:"On-Time Rate"}),n.jsx(M,{className:"text-center",children:"Quality Score"}),n.jsx(M,{className:"text-center",children:"Avg Lead Time"}),n.jsx(M,{className:"text-center",children:"Price Score"}),n.jsx(M,{className:"text-center",children:"Overall Score"}),n.jsx(M,{className:"text-center",children:"Rating"})]})}),n.jsx(Nt,{children:CM.map(a=>n.jsxs(Ne,{children:[n.jsx(O,{className:"font-medium",children:a.name}),n.jsx(O,{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(As,{value:a.onTimeRate,className:"h-2 w-12"}),n.jsxs("span",{children:[a.onTimeRate,"%"]})]})}),n.jsx(O,{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(As,{value:a.qualityScore,className:"h-2 w-12"}),n.jsxs("span",{children:[a.qualityScore,"%"]})]})}),n.jsxs(O,{className:"text-center",children:[a.avgLeadTime," days"]}),n.jsx(O,{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(As,{value:a.priceCompetitiveness,className:"h-2 w-12"}),n.jsxs("span",{children:[a.priceCompetitiveness,"%"]})]})}),n.jsx(O,{className:"text-center",children:n.jsxs("span",{className:z("font-semibold",a.overallScore>=90?"text-green-600":a.overallScore>=80?"text-amber-600":"text-red-600"),children:[a.overallScore,"%"]})}),n.jsx(O,{className:"text-center",children:n.jsx("div",{className:"flex justify-center",children:[...Array(5)].map((i,o)=>n.jsx(uv,{className:z("h-4 w-4",o<Math.round(a.overallScore/20)?"fill-amber-400 text-amber-400":"text-muted")},o))})})]},a.id))})]})})]})})]})})}function DM(){const[e,t]=u.useState("pnl");return n.jsx("div",{className:"space-y-6",children:n.jsxs(gs,{value:e,onValueChange:t,children:[n.jsxs(ns,{className:"grid grid-cols-5 w-full max-w-3xl",children:[n.jsx(Oe,{value:"pnl","data-testid":"tab-pnl",children:"P&L"}),n.jsx(Oe,{value:"balance","data-testid":"tab-balance",children:"Balance Sheet"}),n.jsx(Oe,{value:"cashflow","data-testid":"tab-cashflow",children:"Cash Flow"}),n.jsx(Oe,{value:"aging","data-testid":"tab-aging",children:"AR/AP Aging"}),n.jsx(Oe,{value:"ratios","data-testid":"tab-ratios",children:"Ratios"})]}),n.jsxs(We,{value:"pnl",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[n.jsxs(G,{"data-testid":"card-total-revenue",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Total Revenue"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold text-green-600 dark:text-green-400","data-testid":"text-total-revenue",children:["$",pt.revenue.totalRevenue.toLocaleString()]})})]}),n.jsxs(G,{"data-testid":"card-gross-profit",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Gross Profit"})}),n.jsxs(Y,{children:[n.jsxs("p",{className:"text-2xl font-semibold","data-testid":"text-gross-profit",children:["$",pt.grossProfit.toLocaleString()]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[pt.grossMargin,"% margin"]})]})]}),n.jsxs(G,{"data-testid":"card-operating-income",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Operating Income"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold","data-testid":"text-operating-income",children:["$",pt.operatingIncome.toLocaleString()]})})]}),n.jsxs(G,{"data-testid":"card-net-income",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Net Income"})}),n.jsxs(Y,{children:[n.jsxs("p",{className:z("text-2xl font-semibold","text-red-600"),"data-testid":"text-net-income",children:["$",pt.netIncome.toLocaleString()]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[pt.netMargin,"% margin"]})]})]})]}),n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(Ro,{className:"h-5 w-5"}),"Profit & Loss Statement"]}),n.jsx(Fe,{children:pt.period})]}),n.jsx(Y,{children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"font-semibold py-2 border-b",children:"Revenue"}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Product Sales"}),n.jsxs("span",{children:["$",pt.revenue.productSales.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Service Revenue"}),n.jsxs("span",{children:["$",pt.revenue.serviceRevenue.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Other Income"}),n.jsxs("span",{children:["$",pt.revenue.otherIncome.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-2 font-semibold border-t bg-muted/50 px-2 rounded",children:[n.jsx("span",{children:"Total Revenue"}),n.jsxs("span",{children:["$",pt.revenue.totalRevenue.toLocaleString()]})]}),n.jsx("div",{className:"font-semibold py-2 border-b mt-4",children:"Cost of Sales"}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Materials"}),n.jsxs("span",{children:["$",pt.costOfSales.materials.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Direct Labor"}),n.jsxs("span",{children:["$",pt.costOfSales.directLabor.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Overhead"}),n.jsxs("span",{children:["$",pt.costOfSales.overhead.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-2 font-semibold border-t bg-muted/50 px-2 rounded",children:[n.jsx("span",{children:"Total COGS"}),n.jsxs("span",{children:["$",pt.costOfSales.totalCOGS.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-3 font-bold text-lg border-y mt-4 bg-green-50 dark:bg-green-900/20 px-2 rounded",children:[n.jsx("span",{children:"Gross Profit"}),n.jsxs("span",{children:["$",pt.grossProfit.toLocaleString()," (",pt.grossMargin,"%)"]})]}),n.jsx("div",{className:"font-semibold py-2 border-b mt-4",children:"Operating Expenses"}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Salaries & Wages"}),n.jsxs("span",{children:["$",pt.operatingExpenses.salaries.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Rent"}),n.jsxs("span",{children:["$",pt.operatingExpenses.rent.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Utilities"}),n.jsxs("span",{children:["$",pt.operatingExpenses.utilities.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Marketing"}),n.jsxs("span",{children:["$",pt.operatingExpenses.marketing.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Depreciation"}),n.jsxs("span",{children:["$",pt.operatingExpenses.depreciation.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Other Expenses"}),n.jsxs("span",{children:["$",pt.operatingExpenses.other.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-2 font-semibold border-t bg-muted/50 px-2 rounded",children:[n.jsx("span",{children:"Total Operating Expenses"}),n.jsxs("span",{children:["$",pt.operatingExpenses.totalOpex.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-3 font-bold text-lg border-y mt-4 bg-blue-50 dark:bg-blue-900/20 px-2 rounded",children:[n.jsx("span",{children:"Operating Income"}),n.jsxs("span",{children:["$",pt.operatingIncome.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4 mt-4",children:[n.jsx("span",{children:"Interest Expense"}),n.jsxs("span",{children:["($",pt.otherExpenses.interest.toLocaleString(),")"]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Income Taxes"}),n.jsxs("span",{children:["($",pt.otherExpenses.taxes.toLocaleString(),")"]})]}),n.jsxs("div",{className:z("flex justify-between py-3 font-bold text-lg border-y mt-4 px-2 rounded","bg-red-50 dark:bg-red-900/20"),children:[n.jsx("span",{children:"Net Income"}),n.jsxs("span",{className:"text-red-600",children:["$",pt.netIncome.toLocaleString()," (",pt.netMargin,"%)"]})]})]})})]})]}),n.jsx(We,{value:"balance",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(Bu,{className:"h-5 w-5"}),"Balance Sheet"]}),n.jsxs(Fe,{children:["As of ",ht.asOfDate]})]}),n.jsx(Y,{children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-lg mb-4 pb-2 border-b",children:"ASSETS"}),n.jsx("div",{className:"font-semibold py-2",children:"Current Assets"}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Cash & Bank"}),n.jsxs("span",{children:["$",ht.assets.current.cash.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Accounts Receivable"}),n.jsxs("span",{children:["$",ht.assets.current.accountsReceivable.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Inventory"}),n.jsxs("span",{children:["$",ht.assets.current.inventory.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Prepaid Expenses"}),n.jsxs("span",{children:["$",ht.assets.current.prepaidExpenses.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-2 font-medium bg-muted/50 px-2 rounded",children:[n.jsx("span",{children:"Total Current Assets"}),n.jsxs("span",{children:["$",ht.assets.current.totalCurrent.toLocaleString()]})]}),n.jsx("div",{className:"font-semibold py-2 mt-4",children:"Fixed Assets"}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Land"}),n.jsxs("span",{children:["$",ht.assets.fixed.land.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Buildings (net)"}),n.jsxs("span",{children:["$",ht.assets.fixed.buildings.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Equipment (net)"}),n.jsxs("span",{children:["$",ht.assets.fixed.equipment.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Vehicles (net)"}),n.jsxs("span",{children:["$",ht.assets.fixed.vehicles.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Furniture (net)"}),n.jsxs("span",{children:["$",ht.assets.fixed.furniture.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Computers (net)"}),n.jsxs("span",{children:["$",ht.assets.fixed.computers.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-2 font-medium bg-muted/50 px-2 rounded",children:[n.jsx("span",{children:"Total Fixed Assets"}),n.jsxs("span",{children:["$",ht.assets.fixed.totalFixed.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-3 font-bold text-lg border-t mt-4 bg-blue-50 dark:bg-blue-900/20 px-2 rounded",children:[n.jsx("span",{children:"TOTAL ASSETS"}),n.jsxs("span",{children:["$",ht.assets.totalAssets.toLocaleString()]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-lg mb-4 pb-2 border-b",children:"LIABILITIES & EQUITY"}),n.jsx("div",{className:"font-semibold py-2",children:"Current Liabilities"}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Accounts Payable"}),n.jsxs("span",{children:["$",ht.liabilities.current.accountsPayable.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Accrued Expenses"}),n.jsxs("span",{children:["$",ht.liabilities.current.accruedExpenses.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Taxes Payable"}),n.jsxs("span",{children:["$",ht.liabilities.current.taxesPayable.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Other Current"}),n.jsxs("span",{children:["$",ht.liabilities.current.otherCurrent.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-2 font-medium bg-muted/50 px-2 rounded",children:[n.jsx("span",{children:"Total Current Liabilities"}),n.jsxs("span",{children:["$",ht.liabilities.current.totalCurrent.toLocaleString()]})]}),n.jsx("div",{className:"font-semibold py-2 mt-4",children:"Long-Term Liabilities"}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Bank Loans"}),n.jsxs("span",{children:["$",ht.liabilities.longTerm.bankLoans.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Mortgage"}),n.jsxs("span",{children:["$",ht.liabilities.longTerm.mortgage.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Equipment Loans"}),n.jsxs("span",{children:["$",ht.liabilities.longTerm.equipmentLoans.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-2 font-medium bg-muted/50 px-2 rounded",children:[n.jsx("span",{children:"Total Long-Term"}),n.jsxs("span",{children:["$",ht.liabilities.longTerm.totalLongTerm.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-2 font-semibold border-t mt-2",children:[n.jsx("span",{children:"TOTAL LIABILITIES"}),n.jsxs("span",{children:["$",ht.liabilities.totalLiabilities.toLocaleString()]})]}),n.jsx("div",{className:"font-semibold py-2 mt-4",children:"Equity"}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Common Stock"}),n.jsxs("span",{children:["$",ht.equity.commonStock.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Additional Paid-in"}),n.jsxs("span",{children:["$",ht.equity.additionalPaidIn.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Retained Earnings"}),n.jsxs("span",{children:["$",ht.equity.retainedEarnings.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-1 pl-4",children:[n.jsx("span",{children:"Current Year"}),n.jsxs("span",{className:"text-red-600",children:["$",ht.equity.currentYearEarnings.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-2 font-medium bg-muted/50 px-2 rounded",children:[n.jsx("span",{children:"Total Equity"}),n.jsxs("span",{children:["$",ht.equity.totalEquity.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between py-3 font-bold text-lg border-t mt-4 bg-purple-50 dark:bg-purple-900/20 px-2 rounded",children:[n.jsx("span",{children:"TOTAL LIAB & EQUITY"}),n.jsxs("span",{children:["$",ht.totalLiabilitiesAndEquity.toLocaleString()]})]})]})]})})]})}),n.jsx(We,{value:"cashflow",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(Cn,{className:"h-5 w-5"}),"Cash Flow Statement"]}),n.jsx(Fe,{children:"Monthly cash flow by activity type"})]}),n.jsx(Y,{children:n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Month"}),n.jsx(M,{className:"text-right",children:"Operating"}),n.jsx(M,{className:"text-right",children:"Investing"}),n.jsx(M,{className:"text-right",children:"Financing"}),n.jsx(M,{className:"text-right",children:"Net Change"}),n.jsx(M,{className:"text-right",children:"Ending Balance"})]})}),n.jsx(Nt,{children:kM.map(s=>n.jsxs(Ne,{children:[n.jsx(O,{className:"font-medium",children:s.month}),n.jsxs(O,{className:"text-right text-green-600",children:["+$",s.operating.toLocaleString()]}),n.jsxs(O,{className:z("text-right",s.investing>=0?"text-green-600":"text-red-600"),children:[s.investing>=0?"+":"","$",s.investing.toLocaleString()]}),n.jsxs(O,{className:z("text-right",s.financing>=0?"text-green-600":"text-red-600"),children:[s.financing>=0?"+":"","$",s.financing.toLocaleString()]}),n.jsxs(O,{className:z("text-right font-medium",s.netChange>=0?"text-green-600":"text-red-600"),children:[s.netChange>=0?"+":"","$",s.netChange.toLocaleString()]}),n.jsxs(O,{className:"text-right font-semibold",children:["$",s.endingBalance.toLocaleString()]})]},s.month))})]})})]})}),n.jsx(We,{value:"aging",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2 text-green-600",children:[n.jsx(nN,{className:"h-5 w-5"}),"Accounts Receivable Aging"]}),n.jsx(Fe,{children:"Outstanding customer invoices by age"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"space-y-3",children:Gv.map(s=>n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:s.ageRange}),n.jsxs("span",{className:"font-medium",children:["$",s.amount.toLocaleString()," (",s.count,")"]})]}),n.jsx("div",{className:"h-4 bg-muted rounded-md overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500",style:{width:`${s.percentage}%`}})})]},s.ageRange))}),n.jsxs("div",{className:"mt-4 pt-4 border-t flex justify-between font-semibold",children:[n.jsx("span",{children:"Total AR"}),n.jsxs("span",{children:["$",Gv.reduce((s,r)=>s+r.amount,0).toLocaleString()]})]})]})]}),n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2 text-red-600",children:[n.jsx(aN,{className:"h-5 w-5"}),"Accounts Payable Aging"]}),n.jsx(Fe,{children:"Outstanding vendor invoices by age"})]}),n.jsxs(Y,{children:[n.jsx("div",{className:"space-y-3",children:Yv.map(s=>n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:s.ageRange}),n.jsxs("span",{className:"font-medium",children:["$",s.amount.toLocaleString()," (",s.count,")"]})]}),n.jsx("div",{className:"h-4 bg-muted rounded-md overflow-hidden",children:n.jsx("div",{className:"h-full bg-red-500",style:{width:`${s.percentage}%`}})})]},s.ageRange))}),n.jsxs("div",{className:"mt-4 pt-4 border-t flex justify-between font-semibold",children:[n.jsx("span",{children:"Total AP"}),n.jsxs("span",{children:["$",Yv.reduce((s,r)=>s+r.amount,0).toLocaleString()]})]})]})]})]})}),n.jsx(We,{value:"ratios",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(G,{children:[n.jsx(J,{children:n.jsx(ee,{className:"text-sm",children:"Liquidity Ratios"})}),n.jsxs(Y,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Current Ratio"}),n.jsx("span",{className:"font-medium",children:ss.liquidity.currentRatio})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Quick Ratio"}),n.jsx("span",{className:"font-medium",children:ss.liquidity.quickRatio})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Cash Ratio"}),n.jsx("span",{className:"font-medium",children:ss.liquidity.cashRatio})]})]})]}),n.jsxs(G,{children:[n.jsx(J,{children:n.jsx(ee,{className:"text-sm",children:"Profitability Ratios"})}),n.jsxs(Y,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Gross Margin"}),n.jsxs("span",{className:"font-medium",children:[ss.profitability.grossMargin,"%"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Operating Margin"}),n.jsxs("span",{className:"font-medium",children:[ss.profitability.operatingMargin,"%"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Net Margin"}),n.jsxs("span",{className:z("font-medium","text-red-600"),children:[ss.profitability.netMargin,"%"]})]})]})]}),n.jsxs(G,{children:[n.jsx(J,{children:n.jsx(ee,{className:"text-sm",children:"Efficiency Ratios"})}),n.jsxs(Y,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Inventory Turnover"}),n.jsxs("span",{className:"font-medium",children:[ss.efficiency.inventoryTurnover,"x"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"AR Turnover"}),n.jsxs("span",{className:"font-medium",children:[ss.efficiency.receivablesTurnover,"x"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Asset Turnover"}),n.jsxs("span",{className:"font-medium",children:[ss.efficiency.assetTurnover,"x"]})]})]})]}),n.jsxs(G,{children:[n.jsx(J,{children:n.jsx(ee,{className:"text-sm",children:"Leverage Ratios"})}),n.jsxs(Y,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Debt/Equity"}),n.jsx("span",{className:"font-medium",children:ss.leverage.debtToEquity})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Debt/Assets"}),n.jsx("span",{className:"font-medium",children:ss.leverage.debtToAssets})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Interest Coverage"}),n.jsxs("span",{className:"font-medium",children:[ss.leverage.interestCoverage,"x"]})]})]})]})]})})]})})}function OM(){const[e,t]=u.useState("attendance"),s=jh.length,r=jh.reduce((o,l)=>o+l.daysWorked,0)/(s*22)*100,a=nl.reduce((o,l)=>o+l.totalHours,0),i=Dr.reduce((o,l)=>o+l.netPayroll,0);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[n.jsxs(G,{"data-testid":"card-total-employees",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Total Employees"})}),n.jsx(Y,{children:n.jsx("p",{className:"text-2xl font-semibold","data-testid":"text-total-employees",children:Dr.reduce((o,l)=>o+l.employees,0)})})]}),n.jsxs(G,{"data-testid":"card-attendance-rate",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Avg Attendance Rate"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold text-green-600 dark:text-green-400","data-testid":"text-attendance-rate",children:[r.toFixed(1),"%"]})})]}),n.jsxs(G,{"data-testid":"card-overtime",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Total Overtime (Month)"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold text-amber-600 dark:text-amber-400","data-testid":"text-overtime",children:[a," hrs"]})})]}),n.jsxs(G,{"data-testid":"card-payroll",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Monthly Payroll"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold","data-testid":"text-payroll",children:["$",i.toLocaleString()]})})]})]}),n.jsxs(gs,{value:e,onValueChange:t,children:[n.jsxs(ns,{className:"grid grid-cols-4 w-full max-w-2xl",children:[n.jsx(Oe,{value:"attendance","data-testid":"tab-attendance",children:"Attendance"}),n.jsx(Oe,{value:"leave","data-testid":"tab-leave",children:"Leave Balance"}),n.jsx(Oe,{value:"overtime","data-testid":"tab-overtime",children:"Overtime"}),n.jsx(Oe,{value:"payroll","data-testid":"tab-payroll",children:"Payroll"})]}),n.jsx(We,{value:"attendance",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(er,{className:"h-5 w-5"}),"Attendance Summary"]}),n.jsx(Fe,{children:"Monthly attendance metrics by employee"})]}),n.jsx(Y,{children:n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Employee"}),n.jsx(M,{children:"Department"}),n.jsx(M,{className:"text-center",children:"Days Worked"}),n.jsx(M,{className:"text-center",children:"Days Absent"}),n.jsx(M,{className:"text-center",children:"Late Arrivals"}),n.jsx(M,{className:"text-center",children:"Avg Hours"}),n.jsx(M,{className:"text-center",children:"Overtime"}),n.jsx(M,{className:"text-center",children:"Status"})]})}),n.jsx(Nt,{children:jh.map(o=>{const l=o.daysWorked/22*100;return n.jsxs(Ne,{children:[n.jsx(O,{className:"font-medium",children:o.name}),n.jsx(O,{children:o.department}),n.jsxs(O,{className:"text-center",children:[o.daysWorked,"/22"]}),n.jsx(O,{className:z("text-center",o.daysAbsent>2&&"text-red-600"),children:o.daysAbsent}),n.jsx(O,{className:z("text-center",o.lateArrivals>3&&"text-amber-600"),children:o.lateArrivals}),n.jsx(O,{className:"text-center",children:o.avgHours}),n.jsx(O,{className:"text-center",children:o.overtimeHours>0&&n.jsxs(Le,{variant:"secondary",children:[o.overtimeHours," hrs"]})}),n.jsx(O,{className:"text-center",children:l>=95?n.jsx(Le,{className:"bg-green-500",children:"Excellent"}):l>=85?n.jsx(Le,{className:"bg-blue-500",children:"Good"}):n.jsx(Le,{className:"bg-amber-500",children:"Needs Review"})})]},o.employeeId)})})]})})]})}),n.jsx(We,{value:"leave",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(oN,{className:"h-5 w-5"}),"Leave Balance Report"]}),n.jsx(Fe,{children:"Annual and sick leave balances by employee"})]}),n.jsxs(Y,{children:[n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Employee"}),n.jsx(M,{children:"Department"}),n.jsx(M,{className:"text-center",children:"Annual Allowed"}),n.jsx(M,{className:"text-center",children:"Annual Used"}),n.jsx(M,{className:"text-center",children:"Annual Remaining"}),n.jsx(M,{className:"text-center",children:"Sick Used"}),n.jsx(M,{className:"text-center",children:"Sick Remaining"}),n.jsx(M,{className:"text-center",children:"Usage"})]})}),n.jsx(Nt,{children:tl.map(o=>{const l=o.used/o.annualAllowed*100;return n.jsxs(Ne,{children:[n.jsx(O,{className:"font-medium",children:o.name}),n.jsx(O,{children:o.department}),n.jsx(O,{className:"text-center",children:o.annualAllowed}),n.jsx(O,{className:"text-center",children:o.used}),n.jsx(O,{className:z("text-center font-medium",o.remaining<5?"text-amber-600":"text-green-600"),children:o.remaining}),n.jsx(O,{className:"text-center",children:o.sickUsed}),n.jsx(O,{className:"text-center",children:o.sickRemaining}),n.jsx(O,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(As,{value:l,className:"h-2 w-16"}),n.jsxs("span",{className:"text-sm",children:[l.toFixed(0),"%"]})]})})]},o.employeeId)})})]}),n.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-md",children:[n.jsx("h4",{className:"font-medium mb-3",children:"Leave Summary"}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Total Annual Allowed"}),n.jsxs("p",{className:"text-xl font-semibold",children:[tl.reduce((o,l)=>o+l.annualAllowed,0)," days"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Total Annual Used"}),n.jsxs("p",{className:"text-xl font-semibold",children:[tl.reduce((o,l)=>o+l.used,0)," days"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Total Annual Remaining"}),n.jsxs("p",{className:"text-xl font-semibold text-green-600",children:[tl.reduce((o,l)=>o+l.remaining,0)," days"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Total Sick Used"}),n.jsxs("p",{className:"text-xl font-semibold",children:[tl.reduce((o,l)=>o+l.sickUsed,0)," days"]})]})]})]})]})]})}),n.jsx(We,{value:"overtime",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(fE,{className:"h-5 w-5"}),"Overtime Summary"]}),n.jsx(Fe,{children:"Monthly overtime hours and costs by department"})]}),n.jsxs(Y,{children:[n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Department"}),n.jsx(M,{className:"text-center",children:"Employees"}),n.jsx(M,{className:"text-center",children:"Total Hours"}),n.jsx(M,{className:"text-center",children:"Avg per Employee"}),n.jsx(M,{className:"text-right",children:"Cost"}),n.jsx(M,{children:"Distribution"})]})}),n.jsx(Nt,{children:nl.map(o=>{const l=Math.max(...nl.map(c=>c.totalHours));return n.jsxs(Ne,{children:[n.jsx(O,{className:"font-medium",children:o.department}),n.jsx(O,{className:"text-center",children:o.employees}),n.jsxs(O,{className:"text-center font-medium",children:[o.totalHours," hrs"]}),n.jsxs(O,{className:"text-center",children:[o.avgPerEmployee.toFixed(1)," hrs"]}),n.jsxs(O,{className:"text-right",children:["$",o.cost.toLocaleString()]}),n.jsx(O,{children:n.jsx("div",{className:"h-4 bg-muted rounded-md overflow-hidden w-32",children:n.jsx("div",{className:"h-full bg-amber-500",style:{width:`${o.totalHours/l*100}%`}})})})]},o.department)})})]}),n.jsxs("div",{className:"mt-6 grid md:grid-cols-3 gap-4",children:[n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Total Overtime Hours"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold",children:[a," hours"]})})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Total Overtime Cost"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold text-amber-600",children:["$",nl.reduce((o,l)=>o+l.cost,0).toLocaleString()]})})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Avg Overtime/Employee"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold",children:[(a/nl.reduce((o,l)=>o+l.employees,0)).toFixed(1)," hrs"]})})]})]})]})]})}),n.jsx(We,{value:"payroll",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(Cn,{className:"h-5 w-5"}),"Payroll Breakdown by Department"]}),n.jsx(Fe,{children:"Monthly payroll components and net amounts"})]}),n.jsxs(Y,{children:[n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Department"}),n.jsx(M,{className:"text-center",children:"Employees"}),n.jsx(M,{className:"text-right",children:"Base Salary"}),n.jsx(M,{className:"text-right",children:"Overtime"}),n.jsx(M,{className:"text-right",children:"Bonuses"}),n.jsx(M,{className:"text-right",children:"Deductions"}),n.jsx(M,{className:"text-right",children:"Net Payroll"})]})}),n.jsx(Nt,{children:Dr.map(o=>n.jsxs(Ne,{children:[n.jsx(O,{className:"font-medium",children:o.department}),n.jsx(O,{className:"text-center",children:o.employees}),n.jsxs(O,{className:"text-right",children:["$",o.baseSalary.toLocaleString()]}),n.jsxs(O,{className:"text-right text-amber-600",children:["+$",o.overtime.toLocaleString()]}),n.jsxs(O,{className:"text-right text-green-600",children:["+$",o.bonuses.toLocaleString()]}),n.jsxs(O,{className:"text-right text-red-600",children:["-$",o.deductions.toLocaleString()]}),n.jsxs(O,{className:"text-right font-semibold",children:["$",o.netPayroll.toLocaleString()]})]},o.department))})]}),n.jsx("div",{className:"mt-6 p-4 bg-muted/50 rounded-md",children:n.jsxs("div",{className:"grid md:grid-cols-5 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Total Base"}),n.jsxs("p",{className:"text-xl font-semibold",children:["$",Dr.reduce((o,l)=>o+l.baseSalary,0).toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Total Overtime"}),n.jsxs("p",{className:"text-xl font-semibold text-amber-600",children:["+$",Dr.reduce((o,l)=>o+l.overtime,0).toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Total Bonuses"}),n.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["+$",Dr.reduce((o,l)=>o+l.bonuses,0).toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Total Deductions"}),n.jsxs("p",{className:"text-xl font-semibold text-red-600",children:["-$",Dr.reduce((o,l)=>o+l.deductions,0).toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Net Payroll"}),n.jsxs("p",{className:"text-xl font-semibold",children:["$",Dr.reduce((o,l)=>o+l.netPayroll,0).toLocaleString()]})]})]})})]})]})})]})]})}function LM(){const[e,t]=u.useState("vendor");return n.jsx("div",{className:"space-y-6",children:n.jsxs(gs,{value:e,onValueChange:t,children:[n.jsxs(ns,{className:"grid grid-cols-6 w-full max-w-4xl",children:[n.jsx(Oe,{value:"vendor","data-testid":"tab-vendor",children:"Vendors"}),n.jsx(Oe,{value:"clv","data-testid":"tab-clv",children:"Customer LTV"}),n.jsx(Oe,{value:"audit","data-testid":"tab-audit",children:"Audit Log"}),n.jsx(Oe,{value:"churn","data-testid":"tab-churn",children:"Churn Risk"}),n.jsx(Oe,{value:"predictive","data-testid":"tab-predictive",children:"AI Reorder"}),n.jsx(Oe,{value:"demand","data-testid":"tab-demand",children:"Demand Forecast"})]}),n.jsx(We,{value:"vendor",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-5 w-5"}),"Vendor Scorecard"]}),n.jsx(Fe,{children:"Comprehensive vendor performance evaluation"})]}),n.jsx(Y,{children:n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:IM.map(s=>n.jsxs(G,{className:"border-2",children:[n.jsx(J,{className:"pb-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ee,{className:"text-base",children:s.name}),s.trend==="up"?n.jsx(si,{className:"h-4 w-4 text-green-500"}):s.trend==="down"?n.jsx(jx,{className:"h-4 w-4 text-red-500"}):n.jsx(rv,{className:"h-4 w-4 text-muted-foreground"})]})}),n.jsxs(Y,{className:"space-y-3",children:[n.jsxs("div",{className:"text-center mb-4",children:[n.jsxs("p",{className:z("text-3xl font-bold",s.overall>=90?"text-green-600":s.overall>=80?"text-amber-600":"text-red-600"),children:[s.overall,"%"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Overall Score"})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Quality"}),n.jsxs("span",{className:"font-medium",children:[s.quality,"%"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Delivery"}),n.jsxs("span",{className:"font-medium",children:[s.delivery,"%"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Price"}),n.jsxs("span",{className:"font-medium",children:[s.price,"%"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Service"}),n.jsxs("span",{className:"font-medium",children:[s.service,"%"]})]})]})]})]},s.id))})})]})}),n.jsxs(We,{value:"clv",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs(G,{"data-testid":"card-total-clv",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Total CLV"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold text-green-600 dark:text-green-400","data-testid":"text-total-clv",children:["$",sl.reduce((s,r)=>s+r.clv,0).toLocaleString()]})})]}),n.jsxs(G,{"data-testid":"card-avg-clv",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Avg CLV per Customer"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold","data-testid":"text-avg-clv",children:["$",(sl.reduce((s,r)=>s+r.clv,0)/sl.length).toLocaleString()]})})]}),n.jsxs(G,{"data-testid":"card-high-value-customers",children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"High-Value Customers"})}),n.jsx(Y,{children:n.jsx("p",{className:"text-2xl font-semibold","data-testid":"text-high-value-count",children:sl.filter(s=>s.segment==="high").length})})]})]}),n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(nr,{className:"h-5 w-5"}),"Customer Lifetime Value Analysis"]}),n.jsx(Fe,{children:"Predicted customer value based on historical behavior"})]}),n.jsx(Y,{children:n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Customer"}),n.jsx(M,{children:"Acquisition"}),n.jsx(M,{className:"text-right",children:"Total Revenue"}),n.jsx(M,{className:"text-right",children:"Avg Order"}),n.jsx(M,{className:"text-center",children:"Frequency"}),n.jsx(M,{className:"text-right",children:"Lifetime Value"}),n.jsx(M,{className:"text-center",children:"Segment"})]})}),n.jsx(Nt,{children:sl.map(s=>n.jsxs(Ne,{children:[n.jsx(O,{className:"font-medium",children:s.name}),n.jsx(O,{children:s.acquisitionDate}),n.jsxs(O,{className:"text-right",children:["$",s.totalRevenue.toLocaleString()]}),n.jsxs(O,{className:"text-right",children:["$",s.avgOrderValue.toLocaleString()]}),n.jsxs(O,{className:"text-center",children:[s.frequency," orders"]}),n.jsxs(O,{className:"text-right font-semibold text-green-600",children:["$",s.clv.toLocaleString()]}),n.jsx(O,{className:"text-center",children:n.jsx(Le,{className:z(s.segment==="high"?"bg-green-500":s.segment==="medium"?"bg-blue-500":"bg-gray-500"),children:s.segment})})]},s.id))})]})})]})]}),n.jsx(We,{value:"audit",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(rv,{className:"h-5 w-5"}),"User Activity Audit Log"]}),n.jsx(Fe,{children:"System activity tracking for compliance and security"})]}),n.jsx(Y,{children:n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Timestamp"}),n.jsx(M,{children:"User"}),n.jsx(M,{children:"Module"}),n.jsx(M,{children:"Action"}),n.jsx(M,{children:"Entity"}),n.jsx(M,{children:"Details"})]})}),n.jsx(Nt,{children:TM.map(s=>n.jsxs(Ne,{children:[n.jsx(O,{className:"font-mono text-sm",children:s.timestamp}),n.jsx(O,{children:s.user}),n.jsx(O,{children:n.jsx(Le,{variant:"outline",children:s.module})}),n.jsx(O,{children:n.jsx(Le,{className:z(s.action==="CREATE"?"bg-green-500":s.action==="UPDATE"?"bg-blue-500":s.action==="DELETE"?"bg-red-500":s.action==="POST"?"bg-purple-500":"bg-amber-500"),children:s.action})}),n.jsxs(O,{children:[n.jsx("span",{className:"font-medium",children:s.entity}),n.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",s.entityId,")"]})]}),n.jsx(O,{className:"text-muted-foreground",children:s.details})]},s.id))})]})})]})}),n.jsx(We,{value:"churn",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(Es,{className:"h-5 w-5"}),"Customer Churn Probability Analysis"]}),n.jsx(Fe,{children:"AI-powered churn risk prediction based on customer behavior"})]}),n.jsxs(Y,{children:[n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Customer"}),n.jsx(M,{className:"text-center",children:"Days Since Order"}),n.jsx(M,{className:"text-center",children:"Frequency Decline"}),n.jsx(M,{className:"text-center",children:"Revenue Decline"}),n.jsx(M,{className:"text-center",children:"Support Tickets"}),n.jsx(M,{className:"text-center",children:"Churn Probability"}),n.jsx(M,{className:"text-center",children:"Risk Level"}),n.jsx(M,{})]})}),n.jsx(Nt,{children:PM.map(s=>n.jsxs(Ne,{children:[n.jsx(O,{className:"font-medium",children:s.name}),n.jsx(O,{className:"text-center",children:s.lastOrderDays}),n.jsxs(O,{className:z("text-center",s.orderFrequencyDecline>20&&"text-red-600"),children:[s.orderFrequencyDecline,"%"]}),n.jsxs(O,{className:z("text-center",s.revenueDecline>20&&"text-red-600",s.revenueDecline<0&&"text-green-600"),children:[s.revenueDecline,"%"]}),n.jsx(O,{className:"text-center",children:s.supportTickets}),n.jsx(O,{children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(As,{value:s.churnProbability,className:z("h-2 w-16",s.churnProbability>50&&"[&>div]:bg-red-500")}),n.jsxs("span",{className:z("font-medium",s.churnProbability>50?"text-red-600":"text-green-600"),children:[s.churnProbability,"%"]})]})}),n.jsx(O,{className:"text-center",children:n.jsx(Le,{className:z(s.riskLevel==="high"?"bg-red-500":s.riskLevel==="medium"?"bg-amber-500":"bg-green-500"),children:s.riskLevel})}),n.jsx(O,{children:s.riskLevel==="high"&&n.jsx(D,{size:"sm",variant:"outline","data-testid":`button-churn-action-${s.id}`,children:"Take Action"})})]},s.id))})]}),n.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-md",children:[n.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[n.jsx(Lf,{className:"h-4 w-4"}),"AI Recommendations"]}),n.jsxs("ul",{className:"space-y-2 text-sm",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Es,{className:"h-4 w-4 text-red-500 mt-0.5"}),n.jsxs("span",{children:[n.jsx("strong",{children:"Metro Retail Group:"})," High churn risk - consider personalized outreach and special retention offer"]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(er,{className:"h-4 w-4 text-amber-500 mt-0.5"}),n.jsxs("span",{children:[n.jsx("strong",{children:"TechStart Inc.:"})," Monitor closely - order frequency showing slight decline"]})]})]})]})]})]})}),n.jsx(We,{value:"predictive",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(iN,{className:"h-5 w-5"}),"AI-Powered Predictive Reorder"]}),n.jsx(Fe,{children:"Machine learning predictions for optimal reorder timing and quantities"})]}),n.jsxs(Y,{children:[n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Product"}),n.jsx(M,{className:"text-center",children:"Current Stock"}),n.jsx(M,{className:"text-center",children:"Predicted Demand"}),n.jsx(M,{className:"text-center",children:"Days to Stockout"}),n.jsx(M,{children:"Optimal Reorder Date"}),n.jsx(M,{className:"text-center",children:"Suggested Qty"}),n.jsx(M,{className:"text-center",children:"Confidence"}),n.jsx(M,{})]})}),n.jsx(Nt,{children:EM.map(s=>n.jsxs(Ne,{children:[n.jsx(O,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:s.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:s.sku})]})}),n.jsx(O,{className:z("text-center font-medium",s.daysUntilStockout<7&&"text-red-600"),children:s.currentStock}),n.jsxs(O,{className:"text-center",children:[s.predictedDemand,"/mo"]}),n.jsx(O,{className:"text-center",children:n.jsxs(Le,{className:z(s.daysUntilStockout<7?"bg-red-500":s.daysUntilStockout<14?"bg-amber-500":"bg-green-500"),children:[s.daysUntilStockout," days"]})}),n.jsx(O,{children:s.optimalReorderDate}),n.jsx(O,{className:"text-center font-semibold",children:s.suggestedQty}),n.jsx(O,{children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(As,{value:s.confidence,className:"h-2 w-12"}),n.jsxs("span",{className:"text-sm",children:[s.confidence,"%"]})]})}),n.jsx(O,{children:n.jsx(D,{size:"sm","data-testid":`button-create-po-${s.id}`,children:"Create PO"})})]},s.id))})]}),n.jsxs("div",{className:"mt-6 grid md:grid-cols-3 gap-4",children:[n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsxs(ee,{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Lf,{className:"h-4 w-4"}),"Model Accuracy"]})}),n.jsxs(Y,{children:[n.jsx("p",{className:"text-2xl font-semibold text-green-600",children:"94.2%"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Last 30 days"})]})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Stockouts Prevented"})}),n.jsxs(Y,{children:[n.jsx("p",{className:"text-2xl font-semibold",children:"12"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"This month"})]})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Cost Savings"})}),n.jsxs(Y,{children:[n.jsx("p",{className:"text-2xl font-semibold text-green-600",children:"$18,500"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Reduced carrying costs"})]})]})]})]})]})}),n.jsx(We,{value:"demand",className:"space-y-6 mt-6",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(KP,{className:"h-5 w-5"}),"AI Demand Forecasting"]}),n.jsx(Fe,{children:"6-month demand predictions based on historical patterns and seasonality"})]}),n.jsxs(Y,{children:[n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Product"}),n.jsx(M,{className:"text-center",children:"Current"}),n.jsx(M,{className:"text-center",children:"+1 Mo"}),n.jsx(M,{className:"text-center",children:"+2 Mo"}),n.jsx(M,{className:"text-center",children:"+3 Mo"}),n.jsx(M,{className:"text-center",children:"+4 Mo"}),n.jsx(M,{className:"text-center",children:"+5 Mo"}),n.jsx(M,{className:"text-center",children:"+6 Mo"}),n.jsx(M,{className:"text-center",children:"Pattern"})]})}),n.jsx(Nt,{children:AM.map(s=>n.jsxs(Ne,{children:[n.jsx(O,{className:"font-medium",children:s.name}),n.jsx(O,{className:"text-center",children:s.currentMonth}),n.jsx(O,{className:z("text-center",s.month1>s.currentMonth?"text-green-600":s.month1<s.currentMonth?"text-red-600":""),children:s.month1}),n.jsx(O,{className:z("text-center",s.month2>s.month1?"text-green-600":s.month2<s.month1?"text-red-600":""),children:s.month2}),n.jsx(O,{className:z("text-center",s.month3>s.month2?"text-green-600":s.month3<s.month2?"text-red-600":""),children:s.month3}),n.jsx(O,{className:z("text-center",s.month4>s.month3?"text-green-600":s.month4<s.month3?"text-red-600":""),children:s.month4}),n.jsx(O,{className:z("text-center",s.month5>s.month4?"text-green-600":s.month5<s.month4?"text-red-600":""),children:s.month5}),n.jsx(O,{className:z("text-center",s.month6>s.month5?"text-green-600":s.month6<s.month5?"text-red-600":""),children:s.month6}),n.jsx(O,{className:"text-center",children:n.jsx(Le,{variant:"outline",className:z(s.seasonality==="growing"&&"border-green-500 text-green-600",s.seasonality==="seasonal-high"&&"border-amber-500 text-amber-600",s.seasonality==="variable"&&"border-purple-500 text-purple-600"),children:s.seasonality})})]},s.productId))})]}),n.jsxs("div",{className:"mt-6",children:[n.jsxs("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[n.jsx(Bu,{className:"h-5 w-5"}),"Historical Sales Trend"]}),n.jsx("div",{className:"h-48 flex items-end gap-1",children:Zv.map((s,r)=>{const a=Math.max(...Zv.map(o=>o.revenue)),i=s.revenue/a*100;return n.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[n.jsx("div",{className:"w-full bg-blue-500 rounded-t transition-all hover:bg-blue-600",style:{height:`${i}%`},title:`${s.month}: $${s.revenue.toLocaleString()}`}),n.jsx("span",{className:"text-xs text-muted-foreground mt-1 rotate-45 origin-left",children:s.month.slice(0,3)})]},s.month)})})]})]})]})})]})})}function MM(){const[e,t]=u.useState("sales"),s=[{id:"sales",label:"Sales",icon:yo,color:"text-blue-600",description:"Performance & Pipeline"},{id:"inventory",label:"Inventory",icon:cs,color:"text-green-600",description:"Stock & Suppliers"},{id:"finance",label:"Finance",icon:Cn,color:"text-purple-600",description:"P&L & Balance Sheet"},{id:"hr",label:"HR",icon:nr,color:"text-amber-600",description:"Attendance & Payroll"},{id:"advanced",label:"Advanced/AI",icon:iN,color:"text-pink-600",description:"AI & Predictions"}],r=()=>{console.log("Exporting all reports...")},a=()=>{window.print()};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(St,{title:"Reports & Analytics",description:"Comprehensive reporting across all ERP modules with AI-powered insights",actions:n.jsxs(n.Fragment,{children:[n.jsxs(D,{variant:"outline",onClick:r,"data-testid":"button-export-all",children:[n.jsx(cN,{className:"h-4 w-4 mr-2"}),"Export All"]}),n.jsxs(D,{variant:"outline",onClick:a,"data-testid":"button-print",children:[n.jsx(qu,{className:"h-4 w-4 mr-2"}),"Print"]})]})}),n.jsx("div",{className:"grid md:grid-cols-5 gap-4 mb-6",children:s.map(i=>{const o=i.icon,l=e===i.id;return n.jsx(G,{className:z("cursor-pointer transition-all hover-elevate",l&&"ring-2 ring-primary"),onClick:()=>t(i.id),"data-testid":`card-module-${i.id}`,children:n.jsxs(Y,{className:"flex items-center gap-3 p-4",children:[n.jsx("div",{className:z("p-2 rounded-md bg-muted",i.color),children:n.jsx(o,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:i.label}),n.jsx("p",{className:"text-xs text-muted-foreground",children:i.description})]})]})},i.id)})}),n.jsxs("div",{className:"min-h-[600px]",children:[e==="sales"&&n.jsx(RM,{}),e==="inventory"&&n.jsx(_M,{}),e==="finance"&&n.jsx(DM,{}),e==="hr"&&n.jsx(OM,{}),e==="advanced"&&n.jsx(LM,{})]})]})}const FM={companies:[{id:"comp-holding",name:"Unanza Holdings",code:"HOLD",currency:"USD",companyType:"holding",path:"HOLD",parentId:null},{id:"comp-us",name:"Unanza USA",code:"USA",currency:"USD",companyType:"subsidiary",path:"HOLD.USA",parentId:"comp-holding"},{id:"comp-eu",name:"Unanza Europe",code:"EU",currency:"EUR",companyType:"subsidiary",path:"HOLD.EU",parentId:"comp-holding"}],accounts:[{accountCode:"1000",accountName:"Assets",accountType:"asset",level:1,isHeader:!0,balances:{},consolidatedBalance:0,eliminationAmount:0,netBalance:0},{accountCode:"1100",accountName:"Current Assets",accountType:"asset",level:2,isHeader:!0,balances:{},consolidatedBalance:0,eliminationAmount:0,netBalance:0},{accountCode:"1110",accountName:"Cash and Equivalents",accountType:"asset",level:3,isHeader:!1,balances:{"comp-holding":5e5,"comp-us":35e4,"comp-eu":28e4},consolidatedBalance:113e4,eliminationAmount:0,netBalance:113e4},{accountCode:"1120",accountName:"Accounts Receivable",accountType:"asset",level:3,isHeader:!1,balances:{"comp-holding":12e4,"comp-us":45e4,"comp-eu":38e4},consolidatedBalance:95e4,eliminationAmount:-85e3,netBalance:865e3},{accountCode:"1130",accountName:"Inventory",accountType:"asset",level:3,isHeader:!1,balances:{"comp-holding":0,"comp-us":78e4,"comp-eu":62e4},consolidatedBalance:14e5,eliminationAmount:-45e3,netBalance:1355e3},{accountCode:"1500",accountName:"Non-Current Assets",accountType:"asset",level:2,isHeader:!0,balances:{},consolidatedBalance:0,eliminationAmount:0,netBalance:0},{accountCode:"1510",accountName:"Property & Equipment",accountType:"asset",level:3,isHeader:!1,balances:{"comp-holding":25e5,"comp-us":18e5,"comp-eu":12e5},consolidatedBalance:55e5,eliminationAmount:0,netBalance:55e5},{accountCode:"1520",accountName:"Investment in Subsidiaries",accountType:"asset",level:3,isHeader:!1,balances:{"comp-holding":35e5,"comp-us":0,"comp-eu":0},consolidatedBalance:35e5,eliminationAmount:-35e5,netBalance:0},{accountCode:"2000",accountName:"Liabilities",accountType:"liability",level:1,isHeader:!0,balances:{},consolidatedBalance:0,eliminationAmount:0,netBalance:0},{accountCode:"2100",accountName:"Current Liabilities",accountType:"liability",level:2,isHeader:!0,balances:{},consolidatedBalance:0,eliminationAmount:0,netBalance:0},{accountCode:"2110",accountName:"Accounts Payable",accountType:"liability",level:3,isHeader:!1,balances:{"comp-holding":8e4,"comp-us":32e4,"comp-eu":29e4},consolidatedBalance:69e4,eliminationAmount:-85e3,netBalance:605e3},{accountCode:"2120",accountName:"Intercompany Payable",accountType:"liability",level:3,isHeader:!1,balances:{"comp-holding":0,"comp-us":15e4,"comp-eu":1e5},consolidatedBalance:25e4,eliminationAmount:-25e4,netBalance:0},{accountCode:"3000",accountName:"Equity",accountType:"equity",level:1,isHeader:!0,balances:{},consolidatedBalance:0,eliminationAmount:0,netBalance:0},{accountCode:"3100",accountName:"Share Capital",accountType:"equity",level:2,isHeader:!1,balances:{"comp-holding":5e6,"comp-us":2e6,"comp-eu":15e5},consolidatedBalance:85e5,eliminationAmount:-35e5,netBalance:5e6},{accountCode:"3200",accountName:"Retained Earnings",accountType:"equity",level:2,isHeader:!1,balances:{"comp-holding":154e4,"comp-us":91e4,"comp-eu":595e3},consolidatedBalance:3045e3,eliminationAmount:0,netBalance:3045e3},{accountCode:"4000",accountName:"Revenue",accountType:"revenue",level:1,isHeader:!0,balances:{},consolidatedBalance:0,eliminationAmount:0,netBalance:0},{accountCode:"4100",accountName:"Sales Revenue",accountType:"revenue",level:2,isHeader:!1,balances:{"comp-holding":0,"comp-us":45e5,"comp-eu":32e5},consolidatedBalance:77e5,eliminationAmount:-32e4,netBalance:738e4},{accountCode:"4200",accountName:"Service Revenue",accountType:"revenue",level:2,isHeader:!1,balances:{"comp-holding":5e5,"comp-us":8e5,"comp-eu":45e4},consolidatedBalance:175e4,eliminationAmount:-18e4,netBalance:157e4},{accountCode:"5000",accountName:"Expenses",accountType:"expense",level:1,isHeader:!0,balances:{},consolidatedBalance:0,eliminationAmount:0,netBalance:0},{accountCode:"5100",accountName:"Cost of Goods Sold",accountType:"expense",level:2,isHeader:!1,balances:{"comp-holding":0,"comp-us":27e5,"comp-eu":192e4},consolidatedBalance:462e4,eliminationAmount:-275e3,netBalance:4345e3},{accountCode:"5200",accountName:"Operating Expenses",accountType:"expense",level:2,isHeader:!1,balances:{"comp-holding":4e5,"comp-us":12e5,"comp-eu":85e4},consolidatedBalance:245e4,eliminationAmount:-225e3,netBalance:2225e3}],totalAssets:885e4,totalLiabilities:605e3,totalRevenue:895e4,netIncome:238e4,intercompanyEliminations:4465e3},$M=[{id:"elim-1",description:"Eliminate intercompany receivable/payable - US to EU",debitAccount:"2110",creditAccount:"1120",amount:85e3,sourceCompanyId:"comp-us",targetCompanyId:"comp-eu",eliminationType:"receivable_payable"},{id:"elim-2",description:"Eliminate intercompany payables",debitAccount:"2120",creditAccount:"2120",amount:25e4,sourceCompanyId:"comp-us",targetCompanyId:"comp-eu",eliminationType:"intercompany_balance"},{id:"elim-3",description:"Eliminate investment in subsidiaries",debitAccount:"3100",creditAccount:"1520",amount:35e5,sourceCompanyId:"comp-holding",targetCompanyId:"comp-us",eliminationType:"investment_equity"},{id:"elim-4",description:"Eliminate intercompany sales",debitAccount:"4100",creditAccount:"5100",amount:32e4,sourceCompanyId:"comp-us",targetCompanyId:"comp-eu",eliminationType:"intercompany_sales"},{id:"elim-5",description:"Eliminate intercompany services",debitAccount:"4200",creditAccount:"5200",amount:18e4,sourceCompanyId:"comp-holding",targetCompanyId:"comp-us",eliminationType:"intercompany_services"},{id:"elim-6",description:"Eliminate unrealized profit in inventory",debitAccount:"5100",creditAccount:"1130",amount:45e3,sourceCompanyId:"comp-us",targetCompanyId:"comp-eu",eliminationType:"unrealized_profit"}],VM={receivable_payable:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",intercompany_balance:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",investment_equity:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",intercompany_sales:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200",intercompany_services:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",unrealized_profit:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"};function zM({account:e,companies:t,isExpanded:s,onToggle:r,hasChildren:a}){const i=(e.level-1)*20;return n.jsxs(Ne,{className:z(e.isHeader&&"bg-muted/50 font-semibold",!e.isHeader&&"hover-elevate"),"data-testid":`row-account-${e.accountCode}`,children:[n.jsx(O,{style:{paddingLeft:`${i+16}px`},children:n.jsxs("div",{className:"flex items-center gap-2",children:[a?n.jsx("button",{onClick:r,className:"p-0.5 rounded hover:bg-accent",children:s?n.jsx(pi,{className:"h-4 w-4"}):n.jsx(xi,{className:"h-4 w-4"})}):n.jsx("span",{className:"w-5"}),n.jsx("span",{children:e.accountCode})]})}),n.jsx(O,{className:z(e.isHeader&&"font-semibold"),children:e.accountName}),t.map(o=>n.jsx(O,{className:"text-right font-mono",children:e.balances[o.id]!==void 0?e.balances[o.id].toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}):"-"},o.id)),n.jsx(O,{className:"text-right font-mono font-semibold",children:e.consolidatedBalance>0?e.consolidatedBalance.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}):"-"}),n.jsx(O,{className:"text-right font-mono text-destructive",children:e.eliminationAmount!==0?n.jsxs(n.Fragment,{children:["(",Math.abs(e.eliminationAmount).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}),")"]}):"-"}),n.jsx(O,{className:"text-right font-mono font-bold",children:e.netBalance>0?e.netBalance.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}):"-"})]})}function UM(){const{toast:e}=Vt(),[t,s]=u.useState("2024-12"),[r,a]=u.useState("full"),[i,o]=u.useState(new Set(["1000","2000","3000","4000","5000"])),l=FM,c=$M,d=v=>{o(j=>{const x=new Set(j);return x.has(v)?x.delete(v):x.add(v),x})},f=l.accounts.filter(v=>{if(v.level===1)return!0;v.accountCode.substring(0,(v.level-1)*2||1)+"00".repeat(3-v.level+1);for(let j=1;j<v.level;j++){const x=v.accountCode.substring(0,j*2||1)+"00".repeat(3-j);if(!i.has(x))return!1}return!0}),m=(v,j)=>l.accounts.some(x=>x.level===j+1&&x.accountCode.startsWith(v.substring(0,j*2||1))),y=()=>{e({title:"Exporting consolidated report..."})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold","data-testid":"text-page-title",children:"Consolidation Reports"}),n.jsx("p",{className:"text-muted-foreground",children:"Consolidated financial statements with elimination entries"})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(Pe,{value:t,onValueChange:s,children:[n.jsx(Se,{className:"w-[150px]","data-testid":"select-period",children:n.jsx(Ee,{placeholder:"Period"})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"2024-12",children:"Dec 2024"}),n.jsx(Z,{value:"2024-11",children:"Nov 2024"}),n.jsx(Z,{value:"2024-10",children:"Oct 2024"}),n.jsx(Z,{value:"2024-Q4",children:"Q4 2024"}),n.jsx(Z,{value:"2024",children:"FY 2024"})]})]}),n.jsxs(Pe,{value:r,onValueChange:a,children:[n.jsx(Se,{className:"w-[180px]","data-testid":"select-scope",children:n.jsx(Ee,{placeholder:"Scope"})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"full",children:"Full Consolidation"}),n.jsx(Z,{value:"proportional",children:"Proportional"}),n.jsx(Z,{value:"equity",children:"Equity Method"})]})]}),n.jsxs(D,{variant:"outline",onClick:y,"data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs(G,{children:[n.jsxs(J,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ee,{className:"text-sm font-medium text-muted-foreground",children:"Consolidated Assets"}),n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(Y,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-total-assets",children:["$",(l.totalAssets/1e6).toFixed(2),"M"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"After eliminations"})]})]}),n.jsxs(G,{children:[n.jsxs(J,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ee,{className:"text-sm font-medium text-muted-foreground",children:"Consolidated Revenue"}),n.jsx(si,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(Y,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-total-revenue",children:["$",(l.totalRevenue/1e6).toFixed(2),"M"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Excluding intercompany"})]})]}),n.jsxs(G,{children:[n.jsxs(J,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ee,{className:"text-sm font-medium text-muted-foreground",children:"Net Income"}),n.jsx(Cn,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(Y,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-net-income",children:["$",(l.netIncome/1e6).toFixed(2),"M"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Consolidated profit"})]})]}),n.jsxs(G,{children:[n.jsxs(J,{className:"flex flex-row items-center justify-between gap-2 pb-2",children:[n.jsx(ee,{className:"text-sm font-medium text-muted-foreground",children:"IC Eliminations"}),n.jsx(iv,{className:"h-4 w-4 text-destructive"})]}),n.jsxs(Y,{children:[n.jsxs("div",{className:"text-2xl font-bold text-destructive","data-testid":"text-eliminations",children:["$",(l.intercompanyEliminations/1e6).toFixed(2),"M"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total eliminated"})]})]})]}),n.jsxs(gs,{defaultValue:"trial-balance",className:"space-y-4",children:[n.jsxs(ns,{"data-testid":"tabs-view-selector",children:[n.jsxs(Oe,{value:"trial-balance","data-testid":"tab-trial-balance",children:[n.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Consolidated Trial Balance"]}),n.jsxs(Oe,{value:"eliminations","data-testid":"tab-eliminations",children:[n.jsx(rE,{className:"h-4 w-4 mr-2"}),"Elimination Entries"]}),n.jsxs(Oe,{value:"hierarchy","data-testid":"tab-hierarchy",children:[n.jsx(vx,{className:"h-4 w-4 mr-2"}),"By Entity"]})]}),n.jsx(We,{value:"trial-balance",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsx(ee,{children:"Consolidated Trial Balance"}),n.jsx(Fe,{children:"Combined financial position across all entities with eliminations"})]}),n.jsx(Y,{className:"overflow-x-auto",children:n.jsxs(bt,{"data-testid":"table-trial-balance",children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{className:"w-[100px]",children:"Code"}),n.jsx(M,{children:"Account"}),l.companies.map(v=>n.jsx(M,{className:"text-right",children:v.code},v.id)),n.jsx(M,{className:"text-right",children:"Consolidated"}),n.jsx(M,{className:"text-right",children:"Eliminations"}),n.jsx(M,{className:"text-right",children:"Net"})]})}),n.jsx(Nt,{children:f.map(v=>n.jsx(zM,{account:v,companies:l.companies,isExpanded:i.has(v.accountCode),onToggle:()=>d(v.accountCode),hasChildren:m(v.accountCode,v.level)},v.accountCode))})]})})]})}),n.jsx(We,{value:"eliminations",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(iv,{className:"h-5 w-5"}),"Inter-Company Elimination Entries"]}),n.jsx(Fe,{children:"Adjustments to remove inter-company transactions from consolidated statements"})]}),n.jsxs(Y,{children:[n.jsxs(bt,{"data-testid":"table-eliminations",children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Description"}),n.jsx(M,{children:"Type"}),n.jsx(M,{children:"Dr Account"}),n.jsx(M,{children:"Cr Account"}),n.jsx(M,{className:"text-right",children:"Amount"}),n.jsx(M,{children:"Companies"})]})}),n.jsx(Nt,{children:c.map(v=>{const j=l.companies.find(w=>w.id===v.sourceCompanyId),x=l.companies.find(w=>w.id===v.targetCompanyId);return n.jsxs(Ne,{"data-testid":`row-elimination-${v.id}`,children:[n.jsx(O,{className:"font-medium",children:v.description}),n.jsx(O,{children:n.jsx(Le,{variant:"secondary",className:VM[v.eliminationType],children:v.eliminationType.replace(/_/g," ")})}),n.jsx(O,{className:"font-mono",children:v.debitAccount}),n.jsx(O,{className:"font-mono",children:v.creditAccount}),n.jsx(O,{className:"text-right font-mono",children:v.amount.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})}),n.jsx(O,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Le,{variant:"outline",children:j==null?void 0:j.code}),n.jsx(xi,{className:"h-3 w-3 text-muted-foreground"}),n.jsx(Le,{variant:"outline",children:x==null?void 0:x.code})]})})]},v.id)})})]}),n.jsx("div",{className:"mt-4 p-4 bg-muted rounded-md",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-medium",children:"Total Eliminations"}),n.jsx("span",{className:"text-xl font-bold font-mono","data-testid":"text-total-eliminations",children:c.reduce((v,j)=>v+j.amount,0).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})})]})})]})]})}),n.jsx(We,{value:"hierarchy",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsx(ee,{children:"Financial Summary by Entity"}),n.jsx(Fe,{children:"Individual company contributions to consolidated results"})]}),n.jsx(Y,{children:n.jsxs(bt,{"data-testid":"table-by-entity",children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Company"}),n.jsx(M,{children:"Type"}),n.jsx(M,{className:"text-right",children:"Assets"}),n.jsx(M,{className:"text-right",children:"Liabilities"}),n.jsx(M,{className:"text-right",children:"Revenue"}),n.jsx(M,{className:"text-right",children:"Net Income"}),n.jsx(M,{className:"text-right",children:"% of Group"})]})}),n.jsxs(Nt,{children:[l.companies.map(v=>{const j=l.accounts.filter(b=>b.accountType==="asset"&&!b.isHeader).reduce((b,S)=>b+(S.balances[v.id]||0),0),x=l.accounts.filter(b=>b.accountType==="liability"&&!b.isHeader).reduce((b,S)=>b+(S.balances[v.id]||0),0),w=l.accounts.filter(b=>b.accountType==="revenue"&&!b.isHeader).reduce((b,S)=>b+(S.balances[v.id]||0),0),g=l.accounts.filter(b=>b.accountType==="expense"&&!b.isHeader).reduce((b,S)=>b+(S.balances[v.id]||0),0),h=w-g,p=h/l.netIncome*100;return n.jsxs(Ne,{"data-testid":`row-entity-${v.id}`,children:[n.jsx(O,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:v.name})]})}),n.jsx(O,{children:n.jsx(Le,{variant:"outline",children:v.companyType})}),n.jsxs(O,{className:"text-right font-mono",children:["$",(j/1e6).toFixed(2),"M"]}),n.jsxs(O,{className:"text-right font-mono",children:["$",(x/1e6).toFixed(2),"M"]}),n.jsxs(O,{className:"text-right font-mono",children:["$",(w/1e6).toFixed(2),"M"]}),n.jsxs(O,{className:"text-right font-mono",children:["$",(h/1e6).toFixed(2),"M"]}),n.jsx(O,{className:"text-right",children:n.jsxs(Le,{variant:p>0?"default":"secondary",children:[p.toFixed(1),"%"]})})]},v.id)}),n.jsxs(Ne,{className:"bg-muted/50 font-bold",children:[n.jsx(O,{colSpan:2,children:"Group Total (After Eliminations)"}),n.jsxs(O,{className:"text-right font-mono",children:["$",(l.totalAssets/1e6).toFixed(2),"M"]}),n.jsxs(O,{className:"text-right font-mono",children:["$",(l.totalLiabilities/1e6).toFixed(2),"M"]}),n.jsxs(O,{className:"text-right font-mono",children:["$",(l.totalRevenue/1e6).toFixed(2),"M"]}),n.jsxs(O,{className:"text-right font-mono",children:["$",(l.netIncome/1e6).toFixed(2),"M"]}),n.jsx(O,{className:"text-right",children:n.jsx(Le,{children:"100%"})})]})]})]})})]})})]})]})}var jm="Checkbox",[BM]=Jn(jm),[WM,dg]=BM(jm);function qM(e){const{__scopeCheckbox:t,checked:s,children:r,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:f="on",internal_do_not_use_render:m}=e,[y,v]=_s({prop:s,defaultProp:a??!1,onChange:c,caller:jm}),[j,x]=u.useState(null),[w,g]=u.useState(null),h=u.useRef(!1),p=j?!!o||!!j.closest("form"):!0,b={checked:y,disabled:i,setChecked:v,control:j,setControl:x,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:h,required:d,defaultChecked:da(a)?!1:a,isFormControl:p,bubbleInput:w,setBubbleInput:g};return n.jsx(WM,{scope:t,...b,children:HM(m)?m(b):r})}var uC="CheckboxTrigger",mC=u.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...r},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:y,isFormControl:v,bubbleInput:j}=dg(uC,e),x=et(a,f),w=u.useRef(c);return u.useEffect(()=>{const g=i==null?void 0:i.form;if(g){const h=()=>m(w.current);return g.addEventListener("reset",h),()=>g.removeEventListener("reset",h)}},[i,m]),n.jsx(Ae.button,{type:"button",role:"checkbox","aria-checked":da(c)?"mixed":c,"aria-required":d,"data-state":gC(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:x,onKeyDown:he(t,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:he(s,g=>{m(h=>da(h)?!0:!h),j&&v&&(y.current=g.isPropagationStopped(),y.current||g.stopPropagation())})})});mC.displayName=uC;var ug=u.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:f,...m}=e;return n.jsx(qM,{__scopeCheckbox:s,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:r,form:f,value:c,internal_do_not_use_render:({isFormControl:y})=>n.jsxs(n.Fragment,{children:[n.jsx(mC,{...m,ref:t,__scopeCheckbox:s}),y&&n.jsx(xC,{__scopeCheckbox:s})]})})});ug.displayName=jm;var hC="CheckboxIndicator",fC=u.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:r,...a}=e,i=dg(hC,s);return n.jsx(es,{present:r||da(i.checked)||i.checked===!0,children:n.jsx(Ae.span,{"data-state":gC(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});fC.displayName=hC;var pC="CheckboxBubbleInput",xC=u.forwardRef(({__scopeCheckbox:e,...t},s)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:f,form:m,bubbleInput:y,setBubbleInput:v}=dg(pC,e),j=et(s,v),x=ag(i),w=Px(r);u.useEffect(()=>{const h=y;if(!h)return;const p=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(p,"checked").set,N=!a.current;if(x!==i&&S){const T=new Event("click",{bubbles:N});h.indeterminate=da(i),S.call(h,da(i)?!1:i),h.dispatchEvent(T)}},[y,x,i,a]);const g=u.useRef(da(i)?!1:i);return n.jsx(Ae.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,required:l,disabled:c,name:d,value:f,form:m,...t,tabIndex:-1,ref:j,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});xC.displayName=pC;function HM(e){return typeof e=="function"}function da(e){return e==="indeterminate"}function gC(e){return da(e)?"indeterminate":e?"checked":"unchecked"}const Ir=u.forwardRef(({className:e,...t},s)=>n.jsx(ug,{ref:s,className:z("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(fC,{className:z("flex items-center justify-center text-current"),children:n.jsx(Ao,{className:"h-4 w-4"})})}));Ir.displayName=ug.displayName;function Wt({data:e,columns:t,searchPlaceholder:s="Search...",searchKey:r,onRowClick:a,selectable:i=!1,selectedIds:o=[],onSelectionChange:l,pageSize:c=10,className:d}){const[f,m]=u.useState(""),[y,v]=u.useState(null),[j,x]=u.useState(null),[w,g]=u.useState(1),[h,p]=u.useState(c),b=r?e.filter(B=>{const E=B[r];return typeof E=="string"?E.toLowerCase().includes(f.toLowerCase()):!0}):e,S=y&&j?[...b].sort((B,E)=>{const P=B[y],L=E[y];if(P===L)return 0;if(P==null)return 1;if(L==null)return-1;const ie=P<L?-1:1;return j==="asc"?ie:-ie}):b,N=Math.ceil(S.length/h),T=S.slice((w-1)*h,w*h),k=B=>{y===B?j==="asc"?x("desc"):j==="desc"&&(v(null),x(null)):(v(B),x("asc"))},A=B=>{l&&l(B?T.map(E=>E.id):[])},C=(B,E)=>{l&&l(E?[...o,B]:o.filter(P=>P!==B))},I=T.length>0&&T.every(B=>o.includes(B.id)),$=T.some(B=>o.includes(B.id))&&!I;return n.jsxs("div",{className:z("space-y-4",d),children:[r&&n.jsxs("div",{className:"relative max-w-sm",children:[n.jsx(Jd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(re,{placeholder:s,value:f,onChange:B=>{m(B.target.value),g(1)},className:"pl-9","data-testid":"input-search"})]}),n.jsx("div",{className:"border rounded-md",children:n.jsxs(bt,{children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[i&&n.jsx(M,{className:"w-12",children:n.jsx(Ir,{checked:I,ref:B=>{B&&(B.indeterminate=$)},onCheckedChange:A,"data-testid":"checkbox-select-all"})}),t.map(B=>n.jsx(M,{className:z(B.sortable&&"cursor-pointer select-none",B.className),onClick:()=>B.sortable&&k(String(B.key)),children:n.jsxs("div",{className:"flex items-center gap-1",children:[B.header,B.sortable&&n.jsx("span",{className:"ml-1",children:y===String(B.key)?j==="asc"?n.jsx(aN,{className:"h-3 w-3"}):n.jsx(nN,{className:"h-3 w-3"}):n.jsx(rN,{className:"h-3 w-3 text-muted-foreground"})})]})},String(B.key)))]})}),n.jsx(Nt,{children:T.length===0?n.jsx(Ne,{children:n.jsx(O,{colSpan:t.length+(i?1:0),className:"h-24 text-center text-muted-foreground",children:"No results found."})}):T.map(B=>n.jsxs(Ne,{className:z(a&&"cursor-pointer",o.includes(B.id)&&"bg-muted/50"),onClick:()=>a==null?void 0:a(B),"data-testid":`row-${B.id}`,children:[i&&n.jsx(O,{onClick:E=>E.stopPropagation(),children:n.jsx(Ir,{checked:o.includes(B.id),onCheckedChange:E=>C(B.id,!!E),"data-testid":`checkbox-${B.id}`})}),t.map(E=>n.jsx(O,{className:E.className,children:E.render?E.render(B):String(B[String(E.key)]??"")},String(E.key)))]},B.id))})]})}),n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx("span",{children:"Showing"}),n.jsxs(Pe,{value:String(h),onValueChange:B=>{p(Number(B)),g(1)},children:[n.jsx(Se,{className:"w-16","data-testid":"select-page-size",children:n.jsx(Ee,{})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"5",children:"5"}),n.jsx(Z,{value:"10",children:"10"}),n.jsx(Z,{value:"25",children:"25"}),n.jsx(Z,{value:"50",children:"50"})]})]}),n.jsxs("span",{children:["of ",S.length," entries"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(D,{variant:"outline",size:"icon",onClick:()=>g(B=>Math.max(1,B-1)),disabled:w===1,"data-testid":"button-prev-page",children:n.jsx(QP,{className:"h-4 w-4"})}),n.jsx("div",{className:"flex items-center gap-1 px-2",children:Array.from({length:Math.min(5,N)},(B,E)=>{let P;return N<=5||w<=3?P=E+1:w>=N-2?P=N-4+E:P=w-2+E,n.jsx(D,{variant:w===P?"default":"ghost",size:"sm",onClick:()=>g(P),"data-testid":`button-page-${P}`,children:P},P)})}),n.jsx(D,{variant:"outline",size:"icon",onClick:()=>g(B=>Math.min(N,B+1)),disabled:w===N||N===0,"data-testid":"button-next-page",children:n.jsx(xi,{className:"h-4 w-4"})})]})]})]})}const Ye=k1,KM=I1,yC=u.forwardRef(({className:e,...t},s)=>n.jsx(am,{ref:s,className:z("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));yC.displayName=am.displayName;const He=u.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(KM,{children:[n.jsx(yC,{}),n.jsxs(im,{ref:r,className:z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,n.jsxs(T1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(bx,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));He.displayName=im.displayName;const Ke=({className:e,...t})=>n.jsx("div",{className:z("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ke.displayName="DialogHeader";const ua=({className:e,...t})=>n.jsx("div",{className:z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ua.displayName="DialogFooter";const Qe=u.forwardRef(({className:e,...t},s)=>n.jsx(om,{ref:s,className:z("text-lg font-semibold leading-none tracking-tight",e),...t}));Qe.displayName=om.displayName;const rn=u.forwardRef(({className:e,...t},s)=>n.jsx(lm,{ref:s,className:z("text-sm text-muted-foreground",e),...t}));rn.displayName=lm.displayName;function mg({steps:e,currentStep:t,className:s}){const r=e.findIndex(a=>a.id===t);return n.jsx("div",{className:z("flex items-center",s),children:e.map((a,i)=>{const o=i<r,l=i===r,c=i>r;return n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:z("flex items-center justify-center w-8 h-8 rounded-full border-2 text-sm font-medium transition-colors",o&&"bg-primary border-primary text-primary-foreground",l&&"border-primary text-primary bg-primary/10",c&&"border-muted-foreground/30 text-muted-foreground/50"),children:o?n.jsx(Ao,{className:"h-4 w-4"}):n.jsx("span",{children:i+1})}),n.jsx("span",{className:z("mt-2 text-xs font-medium whitespace-nowrap",o&&"text-primary",l&&"text-foreground",c&&"text-muted-foreground/50"),children:a.label})]}),i<e.length-1&&n.jsx("div",{className:z("w-12 sm:w-16 h-0.5 mx-2 mt-[-1rem]",i<r?"bg-primary":"bg-muted")})]},a.id)})})}function QM(){const{activeCompany:e}=xs(),{toast:t}=Vt(),{salesOrders:s,salesOrderLines:r,customers:a,products:i,warehouses:o,locations:l,addSalesOrder:c,updateSalesOrder:d,deleteSalesOrder:f,addSalesOrderLines:m,adjustStock:y,addInvoice:v,addJournalEntry:j}=ts(),[x,w]=u.useState(null),[g,h]=u.useState(!1),[p,b]=u.useState(!1),[S,N]=u.useState(null),[T,k]=u.useState(!1),[A]=u.useState(!1),C=s.map(H=>{var q;return{id:H.id,companyId:H.companyId,orderNumber:H.orderNumber,customerId:H.customerId,orderDate:H.orderDate,status:H.status,subtotal:H.subtotal.toString(),taxAmount:H.taxAmount.toString(),total:H.total.toString(),customerName:((q=a.find(ne=>ne.id===H.customerId))==null?void 0:q.name)||"Unknown Customer",itemCount:r.filter(ne=>ne.salesOrderId===H.id).length}}),I=r.map((H,q)=>({id:H.id,salesOrderId:H.salesOrderId,productId:H.productId,lineNumber:H.lineNumber,quantity:H.quantity,unitPrice:H.unitPrice.toString(),lineTotal:H.lineTotal.toString()}));i.map(H=>({id:H.id,name:H.name,price:H.sellingPrice.toString()}));const $=H=>{k(!0),setTimeout(()=>{const q=c({companyId:(e==null?void 0:e.id)||"comp-002",orderNumber:`SO-${String(Date.now()).slice(-6)}`,customerId:H.customerId||"",orderDate:new Date().toISOString().split("T")[0],status:"draft",subtotal:parseFloat(H.subtotal||"0"),taxAmount:parseFloat(H.taxAmount||"0"),total:parseFloat(H.total||"0")});H.lines&&H.lines.length>0&&m(H.lines.map((ne,me)=>({salesOrderId:q.id,productId:ne.productId,lineNumber:me+1,quantity:ne.quantity,unitPrice:ne.unitPrice,lineTotal:ne.lineTotal}))),t({title:"Sales order created successfully"}),k(!1),h(!1)},500)},B=H=>{w(H),b(!0)},E=H=>{N(H),h(!0)},P=H=>{confirm("Are you sure you want to delete this order?")&&(f(H),t({title:"Sales order deleted successfully"}))},L=(H,q)=>{k(!0),setTimeout(()=>{const ne=s.find(fe=>fe.id===H);if(q==="invoiced"&&ne){const fe=new Date;fe.setDate(fe.getDate()+30),v({companyId:ne.companyId,invoiceNumber:`INV-${Date.now().toString().slice(-6)}`,invoiceType:"customer",customerId:ne.customerId,salesOrderId:H,invoiceDate:new Date().toISOString().split("T")[0],dueDate:fe.toISOString().split("T")[0],status:"unpaid",subtotal:ne.subtotal,taxAmount:ne.taxAmount,total:ne.total,amountPaid:0,amountDue:ne.total})}d(H,{status:q}),t({title:{confirmed:"Order Confirmed - Stock reserved",delivered:"Delivery Created - Inventory and COGS recorded",invoiced:"Invoice Created - AR recorded"}[q]||"Status updated",description:`Order status changed to ${q}`}),k(!1),b(!1)},500)},ie=T,W=()=>{const H=[["Order Number","Customer","Date","Status","Total"].join(","),...C.map(fe=>[fe.orderNumber,fe.customerName,new Date(fe.orderDate).toLocaleDateString(),fe.status,fe.total].join(","))].join(`
`),q=new Blob([H],{type:"text/csv"}),ne=URL.createObjectURL(q),me=document.createElement("a");me.href=ne,me.download="sales_orders.csv",me.click()},U=[{key:"orderNumber",header:"Order #",sortable:!0},{key:"customerName",header:"Customer",sortable:!0},{key:"orderDate",header:"Date",sortable:!0,render:H=>new Date(H.orderDate).toLocaleDateString()},{key:"status",header:"Status",render:H=>n.jsx(Je,{status:H.status})},{key:"total",header:"Total",sortable:!0,className:"text-right",render:H=>`$${parseFloat(H.total||"0").toLocaleString()}`},{key:"actions",header:"",className:"text-right",render:H=>n.jsxs("div",{className:"flex justify-end gap-1",onClick:q=>q.stopPropagation(),children:[n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>B(H),"data-testid":`button-view-${H.id}`,children:n.jsx(Gn,{className:"h-4 w-4"})}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>E(H),"data-testid":`button-edit-${H.id}`,children:n.jsx(ps,{className:"h-4 w-4"})}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>P(H.id),disabled:T,"data-testid":`button-delete-${H.id}`,children:n.jsx(gn,{className:"h-4 w-4"})})]})}];return A?n.jsxs("div",{className:"space-y-4",children:[n.jsx(St,{title:"Sales Orders",description:"Manage and track all sales orders"}),n.jsx("div",{className:"space-y-2",children:[1,2,3].map(H=>n.jsx(Ux,{className:"h-12 w-full"},H))})]}):n.jsxs("div",{children:[n.jsx(St,{title:"Sales Orders",description:"Manage and track all sales orders",actions:n.jsxs(n.Fragment,{children:[n.jsxs(D,{variant:"outline",onClick:W,"data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(D,{onClick:()=>{N(null),h(!0)},"data-testid":"button-new-order",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"New Order"]})]})}),n.jsx(Wt,{data:C,columns:U,searchKey:"customerName",searchPlaceholder:"Search by customer...",onRowClick:B}),n.jsx(Ye,{open:g,onOpenChange:h,children:n.jsxs(He,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Ke,{children:[n.jsx(Qe,{children:S?"Edit Sales Order":"New Sales Order"}),n.jsx(rn,{children:S?"Update the sales order details below.":"Create a new sales order by filling out the form below."})]}),n.jsx(GM,{order:S,customers:a,products:i,onSubmit:$,onCancel:()=>h(!1),isPending:T})]})}),n.jsx(Ye,{open:p,onOpenChange:b,children:n.jsxs(He,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Ke,{children:[n.jsx(Qe,{children:"Sales Order Details"}),n.jsxs(rn,{children:["View and manage order ",x==null?void 0:x.orderNumber]})]}),x&&e&&n.jsx(ZM,{order:x,companyId:e.id,products:i,salesOrderLines:I,onStatusChange:L,onClose:()=>b(!1),isPending:ie})]})})]})}function GM({order:e,customers:t,products:s,onSubmit:r,onCancel:a,isPending:i}){const[o,l]=u.useState((e==null?void 0:e.customerId)||""),[c,d]=u.useState([{id:"1",productId:"",productName:"",quantity:1,price:0,tax:0,total:0}]),f=()=>{const g={id:String(Date.now()),productId:"",productName:"",quantity:1,price:0,tax:0,total:0};d([...c,g])},m=g=>{c.length>1&&d(c.filter(h=>h.id!==g))},y=(g,h,p)=>{d(c.map(b=>{if(b.id!==g)return b;const S={...b,[h]:p};if(h==="productId"){const N=s.find(T=>T.id===p);N&&(S.productName=N.name,S.price=parseFloat(N.price||"0"))}if(h==="quantity"||h==="price"||h==="tax"||h==="productId"){const N=S.quantity*S.price;S.total=N+N*S.tax/100}return S}))},v=c.reduce((g,h)=>g+h.quantity*h.price,0),j=c.reduce((g,h)=>g+h.quantity*h.price*h.tax/100,0),x=v+j,w=g=>{if(g.preventDefault(),!o)return;const h=c.filter(p=>p.productId).map(p=>({productId:p.productId,quantity:p.quantity,unitPrice:p.price,lineTotal:p.total}));r({customerId:o,subtotal:String(v),taxAmount:String(j),total:String(x),lines:h})};return n.jsxs("form",{onSubmit:w,className:"space-y-6",children:[n.jsx("div",{className:"grid gap-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"customer",children:"Customer *"}),n.jsxs(Pe,{value:o,onValueChange:l,required:!0,children:[n.jsx(Se,{"data-testid":"select-customer",children:n.jsx(Ee,{placeholder:"Select customer"})}),n.jsx(Ce,{children:t.map(g=>n.jsx(Z,{value:g.id,children:g.name},g.id))})]})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsx(K,{children:"Order Lines"}),n.jsxs(D,{type:"button",variant:"outline",size:"sm",onClick:f,"data-testid":"button-add-line",children:[n.jsx(Pt,{className:"h-4 w-4 mr-1"}),"Add Line"]})]}),n.jsxs("div",{className:"border rounded-md divide-y",children:[n.jsxs("div",{className:"grid grid-cols-12 gap-2 p-3 bg-muted/50 text-sm font-medium",children:[n.jsx("div",{className:"col-span-4",children:"Product"}),n.jsx("div",{className:"col-span-2 text-center",children:"Qty"}),n.jsx("div",{className:"col-span-2 text-right",children:"Price"}),n.jsx("div",{className:"col-span-1 text-center",children:"Tax %"}),n.jsx("div",{className:"col-span-2 text-right",children:"Total"}),n.jsx("div",{className:"col-span-1"})]}),c.map((g,h)=>n.jsxs("div",{className:"grid grid-cols-12 gap-2 p-3 items-center",children:[n.jsx("div",{className:"col-span-4",children:n.jsxs(Pe,{value:g.productId,onValueChange:p=>y(g.id,"productId",p),children:[n.jsx(Se,{"data-testid":`select-product-${h}`,children:n.jsx(Ee,{placeholder:"Select product"})}),n.jsx(Ce,{children:s.map(p=>n.jsxs(Z,{value:p.id,children:[p.name," ($",parseFloat(p.price||"0").toFixed(2),")"]},p.id))})]})}),n.jsx("div",{className:"col-span-2",children:n.jsx(re,{type:"number",min:"1",value:g.quantity,onChange:p=>y(g.id,"quantity",parseInt(p.target.value)||1),className:"text-center","data-testid":`input-quantity-${h}`})}),n.jsx("div",{className:"col-span-2",children:n.jsx(re,{type:"number",step:"0.01",min:"0",value:g.price,onChange:p=>y(g.id,"price",parseFloat(p.target.value)||0),className:"text-right","data-testid":`input-price-${h}`})}),n.jsx("div",{className:"col-span-1",children:n.jsx(re,{type:"number",step:"0.1",min:"0",max:"100",value:g.tax,onChange:p=>y(g.id,"tax",parseFloat(p.target.value)||0),className:"text-center","data-testid":`input-tax-${h}`})}),n.jsxs("div",{className:"col-span-2 text-right font-medium",children:["$",g.total.toFixed(2)]}),n.jsx("div",{className:"col-span-1 text-right",children:n.jsx(D,{type:"button",variant:"ghost",size:"icon",onClick:()=>m(g.id),disabled:c.length<=1,"data-testid":`button-remove-line-${h}`,children:n.jsx(gn,{className:"h-4 w-4"})})})]},g.id))]})]}),n.jsx("div",{className:"border rounded-md p-4 bg-muted/30",children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),n.jsxs("span",{children:["$",v.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tax"}),n.jsxs("span",{children:["$",j.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between font-semibold text-base pt-2 border-t",children:[n.jsx("span",{children:"Grand Total"}),n.jsxs("span",{"data-testid":"text-grand-total",children:["$",x.toFixed(2)]})]})]})}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(D,{type:"button",variant:"outline",onClick:a,"data-testid":"button-cancel",children:"Cancel"}),n.jsx(D,{type:"submit",disabled:!o||i,"data-testid":"button-save-order",children:i?"Saving...":e?"Update Order":"Create Order"})]})]})}const YM=[{id:"draft",label:"Draft"},{id:"confirmed",label:"Confirmed"},{id:"delivered",label:"Delivered"},{id:"invoiced",label:"Invoiced"}];function ZM({order:e,companyId:t,products:s,salesOrderLines:r,onStatusChange:a,onClose:i,isPending:o}){const l=r.filter(w=>w.salesOrderId===e.id),c=w=>{var g;return((g=s.find(h=>h.id===w))==null?void 0:g.name)||"Unknown Product"},d=()=>{switch(e.status){case"draft":return n.jsxs(D,{onClick:()=>a(e.id,"confirmed"),disabled:o,"data-testid":"button-confirm-order",children:[n.jsx(yr,{className:"h-4 w-4 mr-2"}),o?"Updating...":"Confirm Order"]});case"confirmed":return n.jsxs(D,{onClick:()=>a(e.id,"delivered"),disabled:o,"data-testid":"button-create-delivery",children:[n.jsx(Kl,{className:"h-4 w-4 mr-2"}),o?"Updating...":"Create Delivery"]});case"delivered":return n.jsxs(D,{onClick:()=>a(e.id,"invoiced"),disabled:o,"data-testid":"button-create-invoice",children:[n.jsx(Ro,{className:"h-4 w-4 mr-2"}),o?"Updating...":"Create Invoice"]});default:return null}},f=l.reduce((w,g)=>{const h=g.quantity||0,p=parseFloat(g.unitPrice||"0");return w+h*p},0),m=l.reduce((w,g)=>w+parseFloat(g.lineTotal||"0"),0),y=m-f,v=l.length>0?f:parseFloat(e.subtotal||"0"),j=l.length>0?m:parseFloat(e.total||"0"),x=l.length>0?y:parseFloat(e.taxAmount||"0");return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h2",{className:"text-xl font-semibold","data-testid":"text-order-number",children:e.orderNumber}),n.jsx(Je,{status:e.status})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1","data-testid":"text-order-customer",children:e.customerName})]}),d()]}),n.jsx(mg,{steps:YM,currentStep:e.status||"draft"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs(G,{children:[n.jsx(J,{className:"pb-3",children:n.jsx(ee,{className:"text-base",children:"Order Information"})}),n.jsxs(Y,{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order Date"}),n.jsx("span",{"data-testid":"text-order-date",children:new Date(e.orderDate).toLocaleDateString()})]}),n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Customer ID"}),n.jsx("span",{children:e.customerId})]}),e.requiredDate&&n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Required Date"}),n.jsx("span",{children:new Date(e.requiredDate).toLocaleDateString()})]})]})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-3",children:n.jsx(ee,{className:"text-base",children:"Order Summary"})}),n.jsxs(Y,{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),n.jsxs("span",{children:["$",v.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tax"}),n.jsxs("span",{children:["$",x.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between gap-2 font-semibold pt-2 border-t",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{"data-testid":"text-order-total",children:["$",j.toLocaleString()]})]})]})]})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-3",children:n.jsx(ee,{className:"text-base",children:"Order Lines"})}),n.jsx(Y,{children:l.length===0?n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No order lines found"}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-2 font-medium",children:"#"}),n.jsx("th",{className:"text-left py-2 font-medium",children:"Product"}),n.jsx("th",{className:"text-right py-2 font-medium",children:"Qty"}),n.jsx("th",{className:"text-right py-2 font-medium",children:"Unit Price"}),n.jsx("th",{className:"text-right py-2 font-medium",children:"Line Total"})]})}),n.jsx("tbody",{children:l.map(w=>n.jsxs("tr",{className:"border-b last:border-b-0","data-testid":`row-order-line-${w.id}`,children:[n.jsx("td",{className:"py-2",children:w.lineNumber}),n.jsx("td",{className:"py-2",children:c(w.productId)}),n.jsx("td",{className:"text-right py-2",children:w.quantity}),n.jsxs("td",{className:"text-right py-2",children:["IDR ",parseFloat(w.unitPrice||"0").toLocaleString()]}),n.jsxs("td",{className:"text-right py-2",children:["IDR ",parseFloat(w.lineTotal||"0").toLocaleString()]})]},w.id))})]})})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(D,{variant:"outline",onClick:i,"data-testid":"button-close-detail",children:"Close"})})]})}const ga=u.forwardRef(({className:e,...t},s)=>n.jsx("textarea",{className:z("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));ga.displayName="Textarea";function ka(e,t,s){if(e.length===0)return;const r=t.map(d=>d.label).join(","),a=e.map(d=>t.map(f=>{const m=d[f.key];if(m==null)return"";const y=String(m);return y.includes(",")||y.includes('"')||y.includes(`
`)?`"${y.replace(/"/g,'""')}"`:y}).join(",")),i=[r,...a].join(`
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=`${s}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l)}function XM(){const{activeCompany:e}=xs(),{toast:t}=Vt(),{customers:s,addCustomer:r,updateCustomer:a,deleteCustomer:i}=ts(),o=e==null?void 0:e.id,[l,c]=u.useState(!1),[d,f]=u.useState(!1),[m,y]=u.useState(null),[v,j]=u.useState(null),[x,w]=u.useState(!1),[g,h]=u.useState({code:"",name:"",legalName:"",email:"",phone:"",taxId:"",address:"",city:"",state:"",country:"",postalCode:"",paymentTerms:30,creditLimit:"0",customerType:"regular"}),p=s.map(C=>({id:C.id,companyId:C.companyId,code:C.code,name:C.name,email:C.email,phone:C.phone,address:C.address,city:C.city,state:C.state,country:C.country,postalCode:C.postalCode,paymentTerms:C.paymentTerms,creditLimit:String(C.creditLimit),customerType:"regular",isActive:C.isActive})),b=C=>{C.preventDefault(),w(!0),setTimeout(()=>{m?(a(m.id,{code:g.code,name:g.name,email:g.email,phone:g.phone,address:g.address,city:g.city,state:g.state,country:g.country,postalCode:g.postalCode,paymentTerms:g.paymentTerms,creditLimit:parseFloat(g.creditLimit)||0}),t({title:"Customer updated successfully"})):(r({companyId:o||"comp-002",code:g.code,name:g.name,email:g.email,phone:g.phone,address:g.address,city:g.city,state:g.state,country:g.country,postalCode:g.postalCode,paymentTerms:g.paymentTerms,creditLimit:parseFloat(g.creditLimit)||0,isActive:!0}),t({title:"Customer created successfully"})),w(!1),c(!1)},500)},S=C=>{confirm("Are you sure you want to delete this customer?")&&(i(C),t({title:"Customer deleted successfully"}))},N=C=>{C?(y(C),h({code:C.code,name:C.name,legalName:C.legalName||"",email:C.email||"",phone:C.phone||"",taxId:C.taxId||"",address:C.address||"",city:C.city||"",state:C.state||"",country:C.country||"",postalCode:C.postalCode||"",paymentTerms:C.paymentTerms||30,creditLimit:C.creditLimit||"0",customerType:C.customerType||"regular"})):(y(null),h({code:"",name:"",legalName:"",email:"",phone:"",taxId:"",address:"",city:"",state:"",country:"",postalCode:"",paymentTerms:30,creditLimit:"0",customerType:"regular"})),c(!0)},T=C=>{j(C),f(!0)},k=[{key:"code",header:"Code",sortable:!0},{key:"name",header:"Name",sortable:!0},{key:"email",header:"Email",sortable:!0},{key:"phone",header:"Phone"},{key:"city",header:"City"},{key:"country",header:"Country"},{key:"customerType",header:"Type",render:C=>n.jsx("span",{className:"capitalize",children:C.customerType||"regular"})},{key:"isActive",header:"Status",render:C=>n.jsx(Je,{status:C.isActive?"active":"inactive"})},{key:"actions",header:"",className:"text-right",render:C=>n.jsxs("div",{className:"flex justify-end gap-1",onClick:I=>I.stopPropagation(),children:[n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>T(C),"data-testid":`button-view-${C.id}`,children:n.jsx(Gn,{className:"h-4 w-4"})}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>N(C),"data-testid":`button-edit-${C.id}`,children:n.jsx(ps,{className:"h-4 w-4"})}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>S(C.id),"data-testid":`button-delete-${C.id}`,children:n.jsx(gn,{className:"h-4 w-4"})})]})}],A=()=>{if(p.length===0){t({title:"No data to export",variant:"destructive"});return}ka(p.map(C=>({code:C.code,name:C.name,email:C.email||"",phone:C.phone||"",city:C.city||"",country:C.country||"",type:C.customerType,paymentTerms:C.paymentTerms,creditLimit:C.creditLimit,status:C.isActive?"Active":"Inactive"})),[{key:"code",label:"Code"},{key:"name",label:"Name"},{key:"email",label:"Email"},{key:"phone",label:"Phone"},{key:"city",label:"City"},{key:"country",label:"Country"},{key:"type",label:"Type"},{key:"paymentTerms",label:"Payment Terms"},{key:"creditLimit",label:"Credit Limit (IDR)"},{key:"status",label:"Status"}],"customers"),t({title:"Customers exported successfully"})};return n.jsxs("div",{children:[n.jsx(St,{title:"Customers",description:`${p.length} customer${p.length!==1?"s":""}`,actions:n.jsxs(n.Fragment,{children:[n.jsxs(D,{variant:"outline",onClick:A,"data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(D,{onClick:()=>N(),"data-testid":"button-new-customer",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"New Customer"]})]})}),p.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[n.jsx(nr,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No customers yet"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first customer to start tracking sales."}),n.jsxs(D,{onClick:()=>N(),"data-testid":"button-create-first-customer",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Create Customer"]})]}):n.jsx(Wt,{data:p,columns:k,searchKey:"name",searchPlaceholder:"Search customers...",onRowClick:T}),n.jsx(Ye,{open:l,onOpenChange:c,children:n.jsxs(He,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:m?"Edit Customer":"New Customer"})}),n.jsxs("form",{onSubmit:b,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"code",children:"Customer Code"}),n.jsx(re,{id:"code",value:g.code,onChange:C=>h({...g,code:C.target.value}),placeholder:"CUST-001",required:!0,"data-testid":"input-customer-code"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"customerType",children:"Type"}),n.jsxs(Pe,{value:g.customerType,onValueChange:C=>h({...g,customerType:C}),children:[n.jsx(Se,{"data-testid":"select-customer-type",children:n.jsx(Ee,{})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"regular",children:"Regular"}),n.jsx(Z,{value:"wholesale",children:"Wholesale"}),n.jsx(Z,{value:"retail",children:"Retail"}),n.jsx(Z,{value:"corporate",children:"Corporate"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"name",children:"Customer Name"}),n.jsx(re,{id:"name",value:g.name,onChange:C=>h({...g,name:C.target.value}),placeholder:"Customer name",required:!0,"data-testid":"input-customer-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"legalName",children:"Legal Name"}),n.jsx(re,{id:"legalName",value:g.legalName,onChange:C=>h({...g,legalName:C.target.value}),placeholder:"Legal entity name (optional)","data-testid":"input-customer-legal-name"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"email",children:"Email"}),n.jsx(re,{id:"email",type:"email",value:g.email,onChange:C=>h({...g,email:C.target.value}),placeholder:"email@example.com","data-testid":"input-customer-email"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"phone",children:"Phone"}),n.jsx(re,{id:"phone",value:g.phone,onChange:C=>h({...g,phone:C.target.value}),placeholder:"+1 (555) 000-0000","data-testid":"input-customer-phone"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"taxId",children:"Tax ID"}),n.jsx(re,{id:"taxId",value:g.taxId,onChange:C=>h({...g,taxId:C.target.value}),placeholder:"Tax identification number","data-testid":"input-customer-tax-id"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"address",children:"Address"}),n.jsx(ga,{id:"address",value:g.address,onChange:C=>h({...g,address:C.target.value}),placeholder:"Street address",rows:2,"data-testid":"input-customer-address"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"city",children:"City"}),n.jsx(re,{id:"city",value:g.city,onChange:C=>h({...g,city:C.target.value}),placeholder:"City","data-testid":"input-customer-city"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"state",children:"State/Province"}),n.jsx(re,{id:"state",value:g.state,onChange:C=>h({...g,state:C.target.value}),placeholder:"State","data-testid":"input-customer-state"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"country",children:"Country"}),n.jsx(re,{id:"country",value:g.country,onChange:C=>h({...g,country:C.target.value}),placeholder:"US",maxLength:2,"data-testid":"input-customer-country"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"postalCode",children:"Postal Code"}),n.jsx(re,{id:"postalCode",value:g.postalCode,onChange:C=>h({...g,postalCode:C.target.value}),placeholder:"12345","data-testid":"input-customer-postal-code"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"paymentTerms",children:"Payment Terms (days)"}),n.jsx(re,{id:"paymentTerms",type:"number",min:"0",value:g.paymentTerms,onChange:C=>h({...g,paymentTerms:parseInt(C.target.value)||0}),"data-testid":"input-customer-payment-terms"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"creditLimit",children:"Credit Limit"}),n.jsx(re,{id:"creditLimit",type:"number",step:"0.01",min:"0",value:g.creditLimit,onChange:C=>h({...g,creditLimit:C.target.value}),"data-testid":"input-customer-credit-limit"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel",children:"Cancel"}),n.jsxs(D,{type:"submit",disabled:x,"data-testid":"button-save-customer",children:[x&&n.jsx(an,{className:"h-4 w-4 mr-2 animate-spin"}),m?"Update":"Create"]})]})]})]})}),n.jsx(Ye,{open:d,onOpenChange:f,children:n.jsxs(He,{className:"max-w-md",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:"Customer Details"})}),v&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-lg",children:v.name})}),n.jsxs(Y,{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Code"}),n.jsx("span",{className:"font-medium",children:v.code})]}),v.legalName&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Legal Name"}),n.jsx("span",{className:"font-medium",children:v.legalName})]}),v.email&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Email"}),n.jsx("span",{className:"font-medium",children:v.email})]}),v.phone&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Phone"}),n.jsx("span",{className:"font-medium",children:v.phone})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Type"}),n.jsx("span",{className:"font-medium capitalize",children:v.customerType||"regular"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Payment Terms"}),n.jsxs("span",{className:"font-medium",children:[v.paymentTerms||30," days"]})]}),v.creditLimit&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Credit Limit"}),n.jsxs("span",{className:"font-medium",children:["$",parseFloat(v.creditLimit).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status"}),n.jsx(Je,{status:v.isActive?"active":"inactive"})]})]})]}),(v.address||v.city)&&n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm",children:"Address"})}),n.jsxs(Y,{className:"text-sm text-muted-foreground",children:[v.address&&n.jsx("div",{children:v.address}),n.jsx("div",{children:[v.city,v.state,v.postalCode].filter(Boolean).join(", ")}),v.country&&n.jsx("div",{children:v.country})]})]})]})]})})]})}const JM=[{id:"confirmed",label:"Picking"},{id:"packing",label:"Packing"},{id:"shipped",label:"Shipped"},{id:"delivered",label:"Delivered"}],e3=["confirmed","packing","shipped","delivered","invoiced"];function t3(){const{toast:e}=Vt(),{salesOrders:t,salesOrderLines:s,customers:r,products:a,updateSalesOrder:i,adjustStock:o,warehouses:l,locations:c,stockLevels:d,addJournalEntry:f}=ts(),[m,y]=u.useState(null),[v,j]=u.useState(!1),[x,w]=u.useState(!1),g=t.filter(k=>e3.includes(k.status)).map(k=>{const A=r.find(I=>I.id===k.customerId),C=s.filter(I=>I.salesOrderId===k.id).length;return{id:`DEL-${k.orderNumber}`,orderId:k.orderNumber,customerName:(A==null?void 0:A.name)||"Unknown Customer",date:k.orderDate,status:k.status,items:C,salesOrderId:k.id}}),h=k=>{y(k),j(!0)},p=(k,A)=>{if(x)return;w(!0);const C=g.find($=>$.id===k);if(!C){w(!1);return}const I=t.find($=>$.id===C.salesOrderId);if(!I){w(!1);return}if(A==="delivered"){const $=s.filter(E=>E.salesOrderId===I.id);console.log("DeliveryList - delivering SO:",I.id,"lines found:",$.length,$),$.forEach(E=>{var ie,W;let P=E.warehouseId,L=E.locationId;if(!P||!L){const U=d.find(H=>H.productId===E.productId&&H.quantity>0);U?(P=U.warehouseId,L=U.locationId,console.log("DeliveryList - found stock at:",{warehouseId:P,locationId:L,availableQty:U.quantity})):(P=(ie=l[0])==null?void 0:ie.id,L=(W=c.find(H=>H.warehouseId===P))==null?void 0:W.id,console.log("DeliveryList - no stock found, using default:",{warehouseId:P,locationId:L}))}console.log("DeliveryList - adjustStock:",{warehouseId:P,locationId:L,productId:E.productId,quantity:-E.quantity}),P&&L?o(P,L,E.productId,-E.quantity,"SO",I.id):console.log("DeliveryList - SKIPPED adjustStock: missing warehouse or location")});const B=$.reduce((E,P)=>{const L=a.find(ie=>ie.id===P.productId);return E+((L==null?void 0:L.costPrice)||0)*P.quantity},0);B>0&&f({companyId:I.companyId,date:new Date().toISOString().split("T")[0],description:`Goods delivered - SO ${I.orderNumber}`,referenceType:"SO",referenceId:I.id,status:"posted",lines:[{accountId:"acc-5000",accountCode:"5000",accountName:"Cost of Goods Sold",debit:B,credit:0},{accountId:"acc-1200",accountCode:"1200",accountName:"Inventory",debit:0,credit:B}]})}i(I.id,{status:A}),e({title:`Delivery ${A==="delivered"?"completed":"updated"}`,description:A==="delivered"?"Stock levels updated":`Status changed to ${A}`}),j(!1),y(null),w(!1)},b=k=>{switch(k.status){case"confirmed":return n.jsxs(D,{size:"sm",disabled:x,onClick:A=>{A.stopPropagation(),p(k.id,"packing")},"data-testid":`button-pack-${k.id}`,children:[n.jsx(cs,{className:"h-3 w-3 mr-1"}),x?"...":"Pack"]});case"packing":return n.jsxs(D,{size:"sm",disabled:x,onClick:A=>{A.stopPropagation(),p(k.id,"shipped")},"data-testid":`button-ship-${k.id}`,children:[n.jsx(Kl,{className:"h-3 w-3 mr-1"}),x?"...":"Ship"]});case"shipped":return n.jsxs(D,{size:"sm",disabled:x,onClick:A=>{A.stopPropagation(),p(k.id,"delivered")},"data-testid":`button-deliver-${k.id}`,children:[n.jsx(yr,{className:"h-3 w-3 mr-1"}),x?"...":"Delivered"]});default:return null}},S=()=>m?s.filter(A=>A.salesOrderId===m.salesOrderId).map(A=>{const C=a.find(B=>B.id===A.productId),I=m.status==="shipped"||m.status==="delivered"||m.status==="invoiced",$=I||m.status==="packing";return{productName:(C==null?void 0:C.name)||"Unknown Product",ordered:A.quantity,picked:$?A.quantity:0,shipped:I?A.quantity:0}}):[],N=k=>{switch(k){case"confirmed":return"picking";case"packing":return"packing";case"shipped":return"shipped";case"delivered":case"invoiced":return"delivered";default:return k}},T=[{key:"id",header:"Delivery ID",sortable:!0},{key:"orderId",header:"Order",sortable:!0},{key:"customerName",header:"Customer",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"status",header:"Status",render:k=>n.jsx(Je,{status:N(k.status)})},{key:"items",header:"Items",className:"text-center"},{key:"actions",header:"",className:"text-right",render:k=>n.jsxs("div",{className:"flex justify-end gap-2",onClick:A=>A.stopPropagation(),children:[b(k),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>h(k),"data-testid":`button-view-${k.id}`,children:n.jsx(Gn,{className:"h-4 w-4"})})]})}];return n.jsxs("div",{children:[n.jsx(St,{title:"Deliveries",description:"Track and manage order deliveries",actions:n.jsxs(D,{variant:"outline","data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]})}),n.jsx(Wt,{data:g,columns:T,searchKey:"customerName",searchPlaceholder:"Search deliveries...",onRowClick:h}),n.jsx(Ye,{open:v,onOpenChange:j,children:n.jsxs(He,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:"Delivery Details"})}),m&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h2",{className:"text-xl font-semibold","data-testid":"text-delivery-id",children:m.id}),n.jsx(Je,{status:N(m.status)})]}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Order: ",m.orderId," - ",m.customerName]})]}),b(m)]}),n.jsx(mg,{steps:JM,currentStep:m.status}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-3",children:n.jsx(ee,{className:"text-base",children:"Delivery Lines"})}),n.jsx(Y,{children:n.jsxs("div",{className:"border rounded-md divide-y",children:[n.jsxs("div",{className:"grid grid-cols-5 gap-2 p-3 bg-muted/50 text-sm font-medium",children:[n.jsx("div",{className:"col-span-2",children:"Product"}),n.jsx("div",{className:"text-center",children:"Ordered"}),n.jsx("div",{className:"text-center",children:"Picked"}),n.jsx("div",{className:"text-center",children:"Shipped"})]}),S().map((k,A)=>n.jsxs("div",{className:"grid grid-cols-5 gap-2 p-3 text-sm",children:[n.jsx("div",{className:"col-span-2",children:k.productName}),n.jsx("div",{className:"text-center",children:k.ordered}),n.jsx("div",{className:"text-center",children:k.picked}),n.jsx("div",{className:"text-center",children:k.shipped})]},A))]})})]})]})]})})]})}function n3(){const{activeCompany:e}=xs(),{toast:t}=Vt(),{invoices:s,customers:r,updateInvoice:a,addJournalEntry:i}=ts(),[o,l]=u.useState(null),[c,d]=u.useState(!1),[f,m]=u.useState(!1),[y,v]=u.useState(""),[j]=u.useState(!1),[x,w]=u.useState(!1),g=s.filter(k=>k.invoiceType==="customer").map(k=>{var A;return{id:k.id,companyId:k.companyId,invoiceNumber:k.invoiceNumber,invoiceType:k.invoiceType,customerId:k.customerId||"",invoiceDate:k.invoiceDate,dueDate:k.dueDate,status:k.status,subtotal:k.subtotal.toString(),taxAmount:k.taxAmount.toString(),total:k.total.toString(),amountPaid:k.amountPaid.toString(),amountDue:k.amountDue.toString(),customerName:((A=r.find(C=>C.id===k.customerId))==null?void 0:A.name)||"Unknown Customer"}}),h=k=>{l(k),d(!0)},p=k=>{l(k);const A=k.amountDue??k.total??"0";v(String(A)),m(!0)},b=()=>{if(!o||!y)return;if(!o.customerId){t({title:"Cannot record payment",description:"Invoice is missing customer information",variant:"destructive"});return}const k=parseFloat(y);if(isNaN(k)||k<=0){t({title:"Invalid amount",description:"Please enter a valid payment amount greater than zero",variant:"destructive"});return}const A=Number(o.amountDue??o.total??0);if(k>A){t({title:"Invalid amount",description:`Payment cannot exceed balance due (Rp ${A.toLocaleString()})`,variant:"destructive"});return}w(!0),setTimeout(()=>{const C=parseFloat(o.amountPaid)+k,I=parseFloat(o.total)-C,$=I<=0?"paid":I<parseFloat(o.total)?"partial":"unpaid";a(o.id,{amountPaid:C,amountDue:I,status:$}),i({companyId:o.companyId,date:new Date().toISOString().split("T")[0],description:`Payment received - Invoice ${o.invoiceNumber}`,referenceType:"PMT",referenceId:o.id,status:"posted",lines:[{accountId:"acc-1000",accountCode:"1000",accountName:"Cash/Bank",debit:k,credit:0},{accountId:"acc-1100",accountCode:"1100",accountName:"Accounts Receivable",debit:0,credit:k}]}),t({title:"Payment Received",description:`Payment of Rp ${k.toLocaleString()} recorded and AR updated`}),w(!1),m(!1),l(null),v("")},500)},S=()=>{window.print()},N=[{key:"invoiceNumber",header:"Invoice #",sortable:!0},{key:"customerName",header:"Customer",sortable:!0},{key:"invoiceDate",header:"Date",sortable:!0,render:k=>k.invoiceDate?new Date(k.invoiceDate).toLocaleDateString():"-"},{key:"dueDate",header:"Due Date",sortable:!0,render:k=>k.dueDate?new Date(k.dueDate).toLocaleDateString():"-"},{key:"status",header:"Status",render:k=>n.jsx(Je,{status:k.status})},{key:"total",header:"Total",sortable:!0,className:"text-right",render:k=>`Rp ${Number(k.total??0).toLocaleString()}`},{key:"amountDue",header:"Balance",sortable:!0,className:"text-right",render:k=>`Rp ${Number(k.amountDue??0).toLocaleString()}`},{key:"actions",header:"",className:"text-right",render:k=>n.jsxs("div",{className:"flex justify-end gap-1",onClick:A=>A.stopPropagation(),children:[k.status!=="paid"&&n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>p(k),disabled:x,"data-testid":`button-pay-${k.id}`,children:n.jsx(Cn,{className:"h-4 w-4"})}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>h(k),"data-testid":`button-view-${k.id}`,children:n.jsx(Gn,{className:"h-4 w-4"})})]})}],T=()=>{if(g.length===0){t({title:"No data to export",variant:"destructive"});return}ka(g.map(k=>({invoiceNumber:k.invoiceNumber,customer:k.customerName,invoiceDate:new Date(k.invoiceDate).toLocaleDateString("id-ID"),dueDate:k.dueDate?new Date(k.dueDate).toLocaleDateString("id-ID"):"",subtotal:k.subtotal,tax:k.taxAmount,total:k.total,paid:k.amountPaid,status:k.status})),[{key:"invoiceNumber",label:"Invoice Number"},{key:"customer",label:"Customer"},{key:"invoiceDate",label:"Invoice Date"},{key:"dueDate",label:"Due Date"},{key:"subtotal",label:"Subtotal (IDR)"},{key:"tax",label:"Tax (IDR)"},{key:"total",label:"Total (IDR)"},{key:"paid",label:"Amount Paid (IDR)"},{key:"status",label:"Status"}],"invoices"),t({title:"Invoices exported successfully"})};return j?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(an,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs("div",{children:[n.jsx(St,{title:"Sales Invoices",description:"Manage customer invoices and payments",actions:n.jsxs(D,{variant:"outline",onClick:T,"data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]})}),n.jsx(Wt,{data:g,columns:N,searchKey:"customerName",searchPlaceholder:"Search invoices...",onRowClick:h}),n.jsx(Ye,{open:f,onOpenChange:m,children:n.jsxs(He,{children:[n.jsxs(Ke,{children:[n.jsx(Qe,{children:"Record Payment"}),n.jsxs(rn,{children:["Record payment for invoice ",o==null?void 0:o.invoiceNumber]})]}),o&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Customer:"}),n.jsx("span",{children:o.customerName})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Invoice Total:"}),n.jsxs("span",{children:["Rp ",Number(o.total??0).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Balance Due:"}),n.jsxs("span",{className:"font-semibold",children:["Rp ",Number(o.amountDue??0).toLocaleString()]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"amount",children:"Payment Amount"}),n.jsx(re,{id:"amount",type:"number",value:y,onChange:k=>v(k.target.value),placeholder:"Enter payment amount","data-testid":"input-payment-amount"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(D,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),n.jsx(D,{onClick:b,disabled:x||!y,"data-testid":"button-confirm-payment",children:x?n.jsxs(n.Fragment,{children:[n.jsx(an,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Record Payment"]})})]})]})]})}),n.jsx(Ye,{open:c,onOpenChange:d,children:n.jsxs(He,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:"Invoice Preview"})}),o&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(G,{className:"print:shadow-none",children:n.jsxs(Y,{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-start mb-8",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-md bg-primary text-primary-foreground font-bold text-xl",children:"U"}),n.jsx("span",{className:"font-bold text-xl",children:"Unanza"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Enterprise Resource Planning"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-invoice-number",children:o.invoiceNumber}),n.jsx(Je,{status:o.status,className:"mt-2"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Bill To"}),n.jsx("p",{className:"font-medium",children:o.customerName})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("div",{className:"flex justify-between gap-4",children:[n.jsx("span",{className:"text-muted-foreground",children:"Invoice Date:"}),n.jsx("span",{children:o.invoiceDate?new Date(o.invoiceDate).toLocaleDateString():"-"})]}),n.jsxs("div",{className:"flex justify-between gap-4",children:[n.jsx("span",{className:"text-muted-foreground",children:"Due Date:"}),n.jsx("span",{children:o.dueDate?new Date(o.dueDate).toLocaleDateString():"-"})]})]})})]}),n.jsxs("div",{className:"border-t pt-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),n.jsxs("span",{children:["Rp ",Number(o.subtotal??0).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tax"}),n.jsxs("span",{children:["Rp ",Number(o.taxAmount??0).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-2 border-t",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{"data-testid":"text-invoice-total",children:["Rp ",Number(o.total??0).toLocaleString()]})]}),o.status!=="paid"&&n.jsxs("div",{className:"flex justify-between font-semibold text-destructive",children:[n.jsx("span",{children:"Balance Due"}),n.jsxs("span",{children:["Rp ",Number(o.amountDue??0).toLocaleString()]})]})]})]})}),n.jsxs("div",{className:"flex justify-between print:hidden",children:[o.status!=="paid"&&n.jsxs(D,{onClick:()=>{d(!1),p(o)},children:[n.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Record Payment"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(D,{variant:"outline",onClick:S,children:[n.jsx(qu,{className:"h-4 w-4 mr-2"}),"Print"]}),n.jsx(D,{variant:"outline",onClick:()=>d(!1),children:"Close"})]})]})]})]})})]})}function s3(){const{activeCompany:e}=xs(),{toast:t}=Vt(),{products:s,addProduct:r,updateProduct:a,deleteProduct:i}=ts(),o=e==null?void 0:e.id,[l,c]=u.useState(!1),[d,f]=u.useState(!1),[m,y]=u.useState(null),[v,j]=u.useState(null),[x]=u.useState(!1),[w,g]=u.useState(!1),h=s.map(I=>({id:I.id,companyId:I.companyId,sku:I.sku,name:I.name,description:I.description,category:I.category,uom:I.uom,price:I.sellingPrice.toString(),cost:I.costPrice.toString(),minStockLevel:I.reorderPoint,maxStockLevel:I.reorderPoint*5,reorderPoint:I.reorderPoint,isSellable:!0,isPurchasable:!0,isActive:I.isActive})),[p,b]=u.useState({sku:"",name:"",description:"",category:"",uom:"EA",price:"0",cost:"0",minStockLevel:0,maxStockLevel:0,reorderPoint:0,isSellable:!0,isPurchasable:!0}),S=I=>{I?(y(I),b({sku:I.sku,name:I.name,description:I.description||"",category:I.category||"",uom:I.uom||"EA",price:I.price||"0",cost:I.cost||"0",minStockLevel:I.minStockLevel||0,maxStockLevel:I.maxStockLevel||0,reorderPoint:I.reorderPoint||0,isSellable:I.isSellable??!0,isPurchasable:I.isPurchasable??!0})):(y(null),b({sku:"",name:"",description:"",category:"",uom:"EA",price:"0",cost:"0",minStockLevel:0,maxStockLevel:0,reorderPoint:0,isSellable:!0,isPurchasable:!0})),c(!0)},N=I=>{I.preventDefault(),g(!0),setTimeout(()=>{m?(a(m.id,{sku:p.sku,name:p.name,description:p.description,category:p.category,uom:p.uom,costPrice:parseFloat(p.cost)||0,sellingPrice:parseFloat(p.price)||0,reorderPoint:p.reorderPoint}),t({title:"Product updated successfully"})):(r({companyId:o||"comp-002",sku:p.sku,name:p.name,description:p.description,category:p.category,uom:p.uom,costPrice:parseFloat(p.cost)||0,sellingPrice:parseFloat(p.price)||0,reorderPoint:p.reorderPoint,isActive:!0}),t({title:"Product created successfully"})),g(!1),c(!1)},500)},T=I=>{j(I),f(!0)},k=I=>{confirm("Are you sure you want to delete this product?")&&(i(I),t({title:"Product deleted successfully"}))},A=[{key:"sku",header:"SKU",sortable:!0},{key:"name",header:"Name",sortable:!0},{key:"category",header:"Category",sortable:!0},{key:"uom",header:"UOM"},{key:"price",header:"Price",sortable:!0,className:"text-right",render:I=>`$${parseFloat(I.price||"0").toFixed(2)}`},{key:"cost",header:"Cost",sortable:!0,className:"text-right",render:I=>`$${parseFloat(I.cost||"0").toFixed(2)}`},{key:"isActive",header:"Status",render:I=>n.jsx(Je,{status:I.isActive?"active":"inactive"})},{key:"actions",header:"",className:"text-right",render:I=>n.jsxs("div",{className:"flex justify-end gap-1",onClick:$=>$.stopPropagation(),children:[n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>T(I),"data-testid":`button-view-${I.id}`,children:n.jsx(Gn,{className:"h-4 w-4"})}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>S(I),"data-testid":`button-edit-${I.id}`,children:n.jsx(ps,{className:"h-4 w-4"})}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>k(I.id),"data-testid":`button-delete-${I.id}`,children:n.jsx(gn,{className:"h-4 w-4"})})]})}],C=()=>{if(h.length===0){t({title:"No data to export",variant:"destructive"});return}ka(h.map(I=>({sku:I.sku,name:I.name,category:I.category||"",uom:I.uom,price:I.price,cost:I.cost,minStock:I.minStockLevel,reorderPoint:I.reorderPoint,status:I.isActive?"Active":"Inactive"})),[{key:"sku",label:"SKU"},{key:"name",label:"Name"},{key:"category",label:"Category"},{key:"uom",label:"UOM"},{key:"price",label:"Price (IDR)"},{key:"cost",label:"Cost (IDR)"},{key:"minStock",label:"Min Stock"},{key:"reorderPoint",label:"Reorder Point"},{key:"status",label:"Status"}],"products"),t({title:"Products exported successfully"})};return x?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(an,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs("div",{children:[n.jsx(St,{title:"Products",description:`${h.length} product${h.length!==1?"s":""}`,actions:n.jsxs(n.Fragment,{children:[n.jsxs(D,{variant:"outline",onClick:C,"data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(D,{onClick:()=>S(),"data-testid":"button-new-product",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"New Product"]})]})}),h.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[n.jsx(cs,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No products yet"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first product to start managing inventory."}),n.jsxs(D,{onClick:()=>S(),"data-testid":"button-create-first-product",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Create Product"]})]}):n.jsx(Wt,{data:h,columns:A,searchKey:"name",searchPlaceholder:"Search products...",onRowClick:T}),n.jsx(Ye,{open:l,onOpenChange:c,children:n.jsxs(He,{className:"max-w-lg",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:m?"Edit Product":"New Product"})}),n.jsxs("form",{onSubmit:N,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"sku",children:"SKU"}),n.jsx(re,{id:"sku",value:p.sku,onChange:I=>b({...p,sku:I.target.value}),placeholder:"PROD-001",required:!0,"data-testid":"input-product-sku"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"category",children:"Category"}),n.jsxs(Pe,{value:p.category||"__none__",onValueChange:I=>b({...p,category:I==="__none__"?"":I}),children:[n.jsx(Se,{"data-testid":"select-product-category",children:n.jsx(Ee,{placeholder:"Select category"})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"__none__",children:"No Category"}),n.jsx(Z,{value:"Widgets",children:"Widgets"}),n.jsx(Z,{value:"Components",children:"Components"}),n.jsx(Z,{value:"Materials",children:"Materials"}),n.jsx(Z,{value:"Assemblies",children:"Assemblies"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"name",children:"Product Name"}),n.jsx(re,{id:"name",value:p.name,onChange:I=>b({...p,name:I.target.value}),placeholder:"Product name",required:!0,"data-testid":"input-product-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"description",children:"Description"}),n.jsx(re,{id:"description",value:p.description,onChange:I=>b({...p,description:I.target.value}),placeholder:"Optional description","data-testid":"input-product-description"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"uom",children:"Unit of Measure"}),n.jsxs(Pe,{value:p.uom,onValueChange:I=>b({...p,uom:I}),children:[n.jsx(Se,{"data-testid":"select-product-uom",children:n.jsx(Ee,{})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"EA",children:"Each (EA)"}),n.jsx(Z,{value:"BOX",children:"Box (BOX)"}),n.jsx(Z,{value:"KG",children:"Kilogram (KG)"}),n.jsx(Z,{value:"LB",children:"Pound (LB)"}),n.jsx(Z,{value:"KIT",children:"Kit (KIT)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"price",children:"Price"}),n.jsx(re,{id:"price",type:"number",step:"0.01",min:"0",value:p.price,onChange:I=>b({...p,price:I.target.value}),"data-testid":"input-product-price"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"cost",children:"Cost"}),n.jsx(re,{id:"cost",type:"number",step:"0.01",min:"0",value:p.cost,onChange:I=>b({...p,cost:I.target.value}),"data-testid":"input-product-cost"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"minStockLevel",children:"Min Stock"}),n.jsx(re,{id:"minStockLevel",type:"number",min:"0",value:p.minStockLevel,onChange:I=>b({...p,minStockLevel:parseInt(I.target.value)||0}),"data-testid":"input-product-min-stock"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"maxStockLevel",children:"Max Stock"}),n.jsx(re,{id:"maxStockLevel",type:"number",min:"0",value:p.maxStockLevel,onChange:I=>b({...p,maxStockLevel:parseInt(I.target.value)||0}),"data-testid":"input-product-max-stock"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"reorderPoint",children:"Reorder Point"}),n.jsx(re,{id:"reorderPoint",type:"number",min:"0",value:p.reorderPoint,onChange:I=>b({...p,reorderPoint:parseInt(I.target.value)||0}),"data-testid":"input-product-reorder-point"})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ir,{id:"isSellable",checked:p.isSellable,onCheckedChange:I=>b({...p,isSellable:I}),"data-testid":"checkbox-is-sellable"}),n.jsx(K,{htmlFor:"isSellable",className:"cursor-pointer",children:"Sellable"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ir,{id:"isPurchasable",checked:p.isPurchasable,onCheckedChange:I=>b({...p,isPurchasable:I}),"data-testid":"checkbox-is-purchasable"}),n.jsx(K,{htmlFor:"isPurchasable",className:"cursor-pointer",children:"Purchasable"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel",children:"Cancel"}),n.jsxs(D,{type:"submit",disabled:w,"data-testid":"button-save-product",children:[w&&n.jsx(an,{className:"h-4 w-4 mr-2 animate-spin"}),m?"Update":"Create"]})]})]})]})}),n.jsx(Ye,{open:d,onOpenChange:f,children:n.jsxs(He,{className:"max-w-md",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:"Product Details"})}),v&&n.jsx("div",{className:"space-y-4",children:n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-lg",children:v.name})}),n.jsxs(Y,{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"SKU"}),n.jsx("span",{className:"font-medium",children:v.sku})]}),v.category&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Category"}),n.jsx("span",{className:"font-medium",children:v.category})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Unit"}),n.jsx("span",{className:"font-medium",children:v.uom})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Price"}),n.jsxs("span",{className:"font-medium",children:["$",parseFloat(v.price||"0").toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Cost"}),n.jsxs("span",{className:"font-medium",children:["$",parseFloat(v.cost||"0").toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status"}),n.jsx(Je,{status:v.isActive?"active":"inactive"})]})]})]})})]})})]})}function r3(){const{toast:e}=Vt(),{locations:t,warehouses:s,zones:r,products:a,stockLevels:i,addLocation:o,updateLocation:l,deleteLocation:c}=ts(),[d,f]=u.useState(!1),[m,y]=u.useState(!1),[v,j]=u.useState(null),[x,w]=u.useState({warehouseId:"",zoneId:"",code:"",name:"",type:"bin",capacity:100}),g=t.map(C=>{const I=s.find(P=>P.id===C.warehouseId),$=r.find(P=>P.id===C.zoneId),E=i.filter(P=>P.locationId===C.id).reduce((P,L)=>P+L.quantity,0);return{...C,warehouseName:(I==null?void 0:I.name)||"Unknown",zoneName:($==null?void 0:$.name)||"Unknown",used:Math.min(E,C.capacity)}}),[h,p]=u.useState({productId:"",fromLocation:"",toLocation:"",quantity:1}),b=C=>{var I;C?(j(C),w({warehouseId:C.warehouseId,zoneId:C.zoneId,code:C.code,name:C.name,type:C.type,capacity:C.capacity})):(j(null),w({warehouseId:((I=s[0])==null?void 0:I.id)||"",zoneId:"",code:"",name:"",type:"bin",capacity:100})),f(!0)},S=C=>{C.preventDefault(),v?(l(v.id,{warehouseId:x.warehouseId,zoneId:x.zoneId,code:x.code,name:x.name,type:x.type,capacity:x.capacity}),e({title:"Location updated successfully"})):(o({companyId:"comp-002",warehouseId:x.warehouseId,zoneId:x.zoneId,code:x.code,name:x.name,type:x.type,capacity:x.capacity,isActive:!0}),e({title:"Location created successfully"})),f(!1)},N=C=>{C.preventDefault(),e({title:"Stock transferred successfully"}),y(!1),p({productId:"",fromLocation:"",toLocation:"",quantity:1})},T=C=>{confirm("Are you sure you want to delete this location?")&&(c(C),e({title:"Location deleted successfully"}))},k=r.filter(C=>C.warehouseId===x.warehouseId),A=[{key:"code",header:"Code",sortable:!0},{key:"warehouseName",header:"Warehouse",sortable:!0},{key:"zoneName",header:"Zone",sortable:!0},{key:"name",header:"Name",sortable:!0},{key:"type",header:"Type",sortable:!0},{key:"capacity",header:"Capacity",sortable:!0,className:"text-right"},{key:"used",header:"Utilization",render:C=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(As,{value:C.used/C.capacity*100,className:"w-20 h-2"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(C.used/C.capacity*100),"%"]})]})},{key:"actions",header:"",className:"text-right",render:C=>n.jsxs("div",{className:"flex justify-end gap-1",onClick:I=>I.stopPropagation(),children:[n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>b(C),"data-testid":`button-edit-${C.id}`,children:n.jsx(ps,{className:"h-4 w-4"})}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>T(C.id),"data-testid":`button-delete-${C.id}`,children:n.jsx(gn,{className:"h-4 w-4"})})]})}];return n.jsxs("div",{children:[n.jsx(St,{title:"Warehouse Locations",description:"Manage bins, racks, and storage areas",actions:n.jsxs(n.Fragment,{children:[n.jsxs(D,{variant:"outline",onClick:()=>y(!0),"data-testid":"button-transfer",children:[n.jsx(sN,{className:"h-4 w-4 mr-2"}),"Transfer Stock"]}),n.jsxs(D,{variant:"outline","data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(D,{onClick:()=>b(),"data-testid":"button-new-location",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"New Location"]})]})}),n.jsx(Wt,{data:g,columns:A,searchKey:"name",searchPlaceholder:"Search locations..."}),n.jsx(Ye,{open:d,onOpenChange:f,children:n.jsxs(He,{className:"max-w-lg",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:v?"Edit Location":"New Location"})}),n.jsxs("form",{onSubmit:S,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"warehouse",children:"Warehouse *"}),n.jsxs(Pe,{value:x.warehouseId,onValueChange:C=>w({...x,warehouseId:C,zoneId:""}),children:[n.jsx(Se,{"data-testid":"select-warehouse",children:n.jsx(Ee,{placeholder:"Select warehouse"})}),n.jsx(Ce,{children:s.map(C=>n.jsx(Z,{value:C.id,children:C.name},C.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"zone",children:"Zone *"}),n.jsxs(Pe,{value:x.zoneId,onValueChange:C=>w({...x,zoneId:C}),disabled:!x.warehouseId,children:[n.jsx(Se,{"data-testid":"select-zone",children:n.jsx(Ee,{placeholder:"Select zone"})}),n.jsx(Ce,{children:k.map(C=>n.jsx(Z,{value:C.id,children:C.name},C.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"code",children:"Location Code *"}),n.jsx(re,{id:"code",value:x.code,onChange:C=>w({...x,code:C.target.value}),placeholder:"e.g., A-01-01",required:!0,"data-testid":"input-code"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"name",children:"Name *"}),n.jsx(re,{id:"name",value:x.name,onChange:C=>w({...x,name:C.target.value}),required:!0,"data-testid":"input-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"type",children:"Type"}),n.jsxs(Pe,{value:x.type,onValueChange:C=>w({...x,type:C}),children:[n.jsx(Se,{"data-testid":"select-type",children:n.jsx(Ee,{})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"bin",children:"Bin"}),n.jsx(Z,{value:"rack",children:"Rack"}),n.jsx(Z,{value:"shelf",children:"Shelf"}),n.jsx(Z,{value:"bulk",children:"Bulk Storage"}),n.jsx(Z,{value:"floor",children:"Floor"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"capacity",children:"Capacity"}),n.jsx(re,{id:"capacity",type:"number",min:"1",value:x.capacity,onChange:C=>w({...x,capacity:parseInt(C.target.value)||1}),"data-testid":"input-capacity"})]})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>f(!1),"data-testid":"button-cancel",children:"Cancel"}),n.jsx(D,{type:"submit","data-testid":"button-save",children:v?"Update":"Create"})]})]})]})}),n.jsx(Ye,{open:m,onOpenChange:y,children:n.jsxs(He,{className:"max-w-lg",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:"Transfer Stock"})}),n.jsxs("form",{onSubmit:N,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"product",children:"Product *"}),n.jsxs(Pe,{value:h.productId,onValueChange:C=>p({...h,productId:C}),children:[n.jsx(Se,{"data-testid":"select-transfer-product",children:n.jsx(Ee,{placeholder:"Select product"})}),n.jsx(Ce,{children:a.map(C=>n.jsxs(Z,{value:C.id,children:[C.name," (",C.stockQuantity," available)"]},C.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"from",children:"From Location *"}),n.jsxs(Pe,{value:h.fromLocation,onValueChange:C=>p({...h,fromLocation:C}),children:[n.jsx(Se,{"data-testid":"select-from-location",children:n.jsx(Ee,{placeholder:"Select"})}),n.jsx(Ce,{children:t.map(C=>n.jsx(Z,{value:C.code,children:C.code},C.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"to",children:"To Location *"}),n.jsxs(Pe,{value:h.toLocation,onValueChange:C=>p({...h,toLocation:C}),children:[n.jsx(Se,{"data-testid":"select-to-location",children:n.jsx(Ee,{placeholder:"Select"})}),n.jsx(Ce,{children:t.map(C=>n.jsx(Z,{value:C.code,children:C.code},C.id))})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"quantity",children:"Quantity *"}),n.jsx(re,{id:"quantity",type:"number",min:"1",value:h.quantity,onChange:C=>p({...h,quantity:parseInt(C.target.value)||1}),required:!0,"data-testid":"input-transfer-quantity"})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>y(!1),"data-testid":"button-cancel-transfer",children:"Cancel"}),n.jsx(D,{type:"submit",disabled:!h.productId||!h.fromLocation||!h.toLocation,"data-testid":"button-confirm-transfer",children:"Transfer"})]})]})]})})]})}function a3(){const{activeCompany:e}=xs(),{toast:t}=Vt(),{warehouses:s,addWarehouse:r,updateWarehouse:a,deleteWarehouse:i}=ts(),o=e==null?void 0:e.id,[l,c]=u.useState(!1),[d,f]=u.useState(null),[m]=u.useState(!1),[y,v]=u.useState(!1),j=s.map(N=>({...N,warehouseType:"standard",state:null,country:null,postalCode:null,allowNegativeStock:!1})),[x,w]=u.useState({code:"",name:"",warehouseType:"standard",address:"",city:"",state:"",country:"",allowNegativeStock:!1}),g=N=>{N?(f(N),w({code:N.code,name:N.name,warehouseType:N.warehouseType||"standard",address:N.address||"",city:N.city||"",state:N.state||"",country:N.country||"",allowNegativeStock:N.allowNegativeStock||!1})):(f(null),w({code:"",name:"",warehouseType:"standard",address:"",city:"",state:"",country:"",allowNegativeStock:!1})),c(!0)},h=N=>{N.preventDefault(),v(!0),setTimeout(()=>{d?(a(d.id,{code:x.code,name:x.name,address:x.address,city:x.city}),t({title:"Warehouse updated successfully"})):(r({companyId:o||"comp-002",code:x.code,name:x.name,address:x.address,city:x.city,isActive:!0}),t({title:"Warehouse created successfully"})),v(!1),c(!1)},500)},p=N=>{confirm("Are you sure you want to delete this warehouse?")&&(i(N),t({title:"Warehouse deleted successfully"}))},b=[{key:"code",header:"Code",sortable:!0},{key:"name",header:"Name",sortable:!0},{key:"warehouseType",header:"Type",sortable:!0,render:N=>n.jsx(Je,{status:N.warehouseType||"standard"})},{key:"city",header:"City",sortable:!0},{key:"state",header:"State"},{key:"country",header:"Country"},{key:"isActive",header:"Status",render:N=>n.jsx(Je,{status:N.isActive?"active":"inactive"})},{key:"actions",header:"",className:"text-right",render:N=>n.jsxs("div",{className:"flex justify-end gap-1",onClick:T=>T.stopPropagation(),children:[n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>g(N),"data-testid":`button-edit-${N.id}`,children:n.jsx(ps,{className:"h-4 w-4"})}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>p(N.id),"data-testid":`button-delete-${N.id}`,children:n.jsx(gn,{className:"h-4 w-4"})})]})}],S=()=>{if(j.length===0){t({title:"No data to export",variant:"destructive"});return}ka(j.map(N=>({code:N.code,name:N.name,type:N.warehouseType||"standard",city:N.city||"",state:N.state||"",country:N.country||"",status:N.isActive?"Active":"Inactive"})),[{key:"code",label:"Code"},{key:"name",label:"Name"},{key:"type",label:"Type"},{key:"city",label:"City"},{key:"state",label:"State"},{key:"country",label:"Country"},{key:"status",label:"Status"}],"warehouses"),t({title:"Warehouses exported successfully"})};return m?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(an,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs("div",{children:[n.jsx(St,{title:"Warehouses",description:`${j.length} warehouse${j.length!==1?"s":""}`,actions:n.jsxs(n.Fragment,{children:[n.jsxs(D,{variant:"outline",onClick:S,"data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(D,{onClick:()=>g(),"data-testid":"button-new-warehouse",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"New Warehouse"]})]})}),j.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[n.jsx(Hu,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No warehouses yet"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first warehouse to start managing inventory."}),n.jsxs(D,{onClick:()=>g(),"data-testid":"button-create-first-warehouse",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Create Warehouse"]})]}):n.jsx(Wt,{data:j,columns:b,searchKey:"name",searchPlaceholder:"Search warehouses..."}),n.jsx(Ye,{open:l,onOpenChange:c,children:n.jsxs(He,{className:"max-w-md",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:d?"Edit Warehouse":"New Warehouse"})}),n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"code",children:"Code"}),n.jsx(re,{id:"code",value:x.code,onChange:N=>w({...x,code:N.target.value}),placeholder:"WH-001",required:!0,"data-testid":"input-warehouse-code"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"warehouseType",children:"Type"}),n.jsxs(Pe,{value:x.warehouseType,onValueChange:N=>w({...x,warehouseType:N}),children:[n.jsx(Se,{"data-testid":"select-warehouse-type",children:n.jsx(Ee,{})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"standard",children:"Standard"}),n.jsx(Z,{value:"transit",children:"Transit"}),n.jsx(Z,{value:"virtual",children:"Virtual"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"name",children:"Name"}),n.jsx(re,{id:"name",value:x.name,onChange:N=>w({...x,name:N.target.value}),placeholder:"Main Warehouse",required:!0,"data-testid":"input-warehouse-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"address",children:"Address"}),n.jsx(re,{id:"address",value:x.address,onChange:N=>w({...x,address:N.target.value}),placeholder:"123 Main Street","data-testid":"input-warehouse-address"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"city",children:"City"}),n.jsx(re,{id:"city",value:x.city,onChange:N=>w({...x,city:N.target.value}),placeholder:"New York","data-testid":"input-warehouse-city"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"state",children:"State"}),n.jsx(re,{id:"state",value:x.state,onChange:N=>w({...x,state:N.target.value}),placeholder:"NY","data-testid":"input-warehouse-state"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"country",children:"Country"}),n.jsx(re,{id:"country",value:x.country,onChange:N=>w({...x,country:N.target.value}),placeholder:"US",maxLength:2,"data-testid":"input-warehouse-country"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ir,{id:"allowNegativeStock",checked:x.allowNegativeStock,onCheckedChange:N=>w({...x,allowNegativeStock:N}),"data-testid":"checkbox-allow-negative-stock"}),n.jsx(K,{htmlFor:"allowNegativeStock",className:"cursor-pointer",children:"Allow negative stock"})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel",children:"Cancel"}),n.jsxs(D,{type:"submit",disabled:y,"data-testid":"button-save-warehouse",children:[y&&n.jsx(an,{className:"h-4 w-4 mr-2 animate-spin"}),d?"Update":"Create"]})]})]})]})})]})}function i3(){const{stockLevels:e,products:t,warehouses:s,locations:r}=ts(),[a,i]=u.useState("all"),[o,l]=u.useState("all");console.log("StockLevels render - stockLevels:",e.length,"items",e.map(x=>`${x.productId}:${x.quantity}`));const c=e.map(x=>{const w=t.find(p=>p.id===x.productId),g=s.find(p=>p.id===x.warehouseId),h=r.find(p=>p.id===x.locationId);return{...x,productName:(w==null?void 0:w.name)||"Unknown Product",productSku:(w==null?void 0:w.sku)||"",warehouseName:(g==null?void 0:g.name)||"Unknown",locationCode:(h==null?void 0:h.code)||"Unknown",costPrice:(w==null?void 0:w.costPrice)||0,uom:(w==null?void 0:w.uom)||"EA"}}),d=o==="all"?c:c.filter(x=>x.warehouseId===o),f=d.filter(x=>x.quantity<x.minLevel),m=d.reduce((x,w)=>x+w.quantity*w.costPrice,0),y=d.reduce((x,w)=>x+w.quantity,0),v=()=>{switch(a){case"low":return f;case"optimal":return d.filter(x=>x.quantity>=x.minLevel&&x.quantity<=x.maxLevel);case"overstock":return d.filter(x=>x.quantity>x.maxLevel);default:return d}},j=[{key:"productSku",header:"SKU",sortable:!0},{key:"productName",header:"Product",sortable:!0},{key:"warehouseName",header:"Warehouse",sortable:!0},{key:"locationCode",header:"Location",sortable:!0},{key:"quantity",header:"Current Stock",sortable:!0,className:"text-right",render:x=>n.jsxs("span",{className:z(x.quantity<x.minLevel&&"text-red-600 dark:text-red-400 font-medium"),children:[x.quantity," ",x.uom]})},{key:"minLevel",header:"Min",sortable:!0,className:"text-right"},{key:"maxLevel",header:"Max",sortable:!0,className:"text-right"},{key:"value",header:"Value",sortable:!0,className:"text-right",render:x=>`$${(x.quantity*x.costPrice).toLocaleString(void 0,{minimumFractionDigits:2})}`},{key:"status",header:"Status",render:x=>x.quantity<x.minLevel?n.jsxs("div",{className:"flex items-center gap-1 text-red-600 dark:text-red-400",children:[n.jsx(Es,{className:"h-3 w-3"}),n.jsx("span",{className:"text-sm",children:"Low Stock"})]}):x.quantity>x.maxLevel?n.jsx("span",{className:"text-sm text-amber-600 dark:text-amber-400",children:"Overstock"}):n.jsx("span",{className:"text-sm text-green-600 dark:text-green-400",children:"Optimal"})}];return n.jsxs("div",{children:[n.jsx(St,{title:"Stock Levels",description:"Real-time inventory overview by warehouse location",actions:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Pe,{value:o,onValueChange:l,children:[n.jsxs(Se,{className:"w-48","data-testid":"select-warehouse-filter",children:[n.jsx(Hu,{className:"h-4 w-4 mr-2"}),n.jsx(Ee,{placeholder:"All Warehouses"})]}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"all",children:"All Warehouses"}),s.map(x=>n.jsx(Z,{value:x.id,children:x.name},x.id))]})]}),n.jsxs(D,{variant:"outline","data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]})]})}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[n.jsx(Ot,{title:"Stock Entries",value:d.length,icon:cs}),n.jsx(Ot,{title:"Total Items",value:y,icon:rN}),n.jsx(Ot,{title:"Low Stock Alerts",value:f.length,icon:Es}),n.jsx(Ot,{title:"Total Value",value:`$${m.toLocaleString(void 0,{minimumFractionDigits:0})}`,icon:Cn})]}),n.jsxs(gs,{value:a,onValueChange:i,children:[n.jsxs(ns,{className:"mb-4",children:[n.jsxs(Oe,{value:"all","data-testid":"tab-all",children:["All (",d.length,")"]}),n.jsxs(Oe,{value:"low","data-testid":"tab-low",children:["Low Stock (",f.length,")"]}),n.jsxs(Oe,{value:"optimal","data-testid":"tab-optimal",children:["Optimal (",d.filter(x=>x.quantity>=x.minLevel&&x.quantity<=x.maxLevel).length,")"]}),n.jsxs(Oe,{value:"overstock","data-testid":"tab-overstock",children:["Overstock (",d.filter(x=>x.quantity>x.maxLevel).length,")"]})]}),n.jsx(We,{value:a,children:n.jsx(Wt,{data:v(),columns:j,searchKey:"productName",searchPlaceholder:"Search products..."})})]})]})}function o3(){const{toast:e}=Vt(),{movements:t,products:s,warehouses:r,locations:a,addMovement:i,adjustStock:o}=ts(),[l,c]=u.useState(!1),[d,f]=u.useState("all"),[m,y]=u.useState({type:"RECEIVE",warehouseId:"",productId:"",quantity:1,fromLocationId:"",toLocationId:"",reference:"",notes:""}),v=t.map(p=>{const b=s.find(k=>k.id===p.productId),S=r.find(k=>k.id===p.warehouseId),N=a.find(k=>k.id===p.fromLocationId),T=a.find(k=>k.id===p.toLocationId);return{...p,productName:(b==null?void 0:b.name)||"Unknown",warehouseName:(S==null?void 0:S.name)||"Unknown",fromLocationCode:(N==null?void 0:N.code)||"-",toLocationCode:(T==null?void 0:T.code)||"-"}}),x=[...d==="all"?v:v.filter(p=>p.warehouseId===d)].sort((p,b)=>new Date(b.date).getTime()-new Date(p.date).getTime()),w=a.filter(p=>p.warehouseId===m.warehouseId),g=p=>{p.preventDefault(),s.find(b=>b.id===m.productId),i({companyId:"comp-002",warehouseId:m.warehouseId,type:m.type,productId:m.productId,quantity:m.quantity,fromLocationId:m.type==="RECEIVE"?void 0:m.fromLocationId,toLocationId:m.type==="SHIP"?void 0:m.toLocationId,referenceType:"ADJUSTMENT",referenceId:m.reference||`ADJ-${Date.now()}`,date:new Date().toISOString(),notes:m.notes}),m.type==="RECEIVE"&&m.toLocationId?o(m.warehouseId,m.toLocationId,m.productId,m.quantity,"ADJUSTMENT",m.reference):m.type==="SHIP"&&m.fromLocationId?o(m.warehouseId,m.fromLocationId,m.productId,-m.quantity,"ADJUSTMENT",m.reference):m.type==="TRANSFER"&&m.fromLocationId&&m.toLocationId&&(o(m.warehouseId,m.fromLocationId,m.productId,-m.quantity,"TRANSFER",m.reference),o(m.warehouseId,m.toLocationId,m.productId,m.quantity,"TRANSFER",m.reference)),e({title:`${m.type} movement recorded successfully`}),c(!1),y({type:"RECEIVE",warehouseId:"",productId:"",quantity:1,fromLocationId:"",toLocationId:"",reference:"",notes:""})},h=[{key:"id",header:"Movement ID",sortable:!0},{key:"type",header:"Type",render:p=>n.jsx(Je,{status:p.type})},{key:"productName",header:"Product",sortable:!0},{key:"warehouseName",header:"Warehouse",sortable:!0},{key:"quantity",header:"Qty",sortable:!0,className:"text-right"},{key:"fromLocationCode",header:"From",render:p=>p.fromLocationCode},{key:"toLocationCode",header:"To",render:p=>p.toLocationCode},{key:"date",header:"Date",sortable:!0,render:p=>new Date(p.date).toLocaleDateString()},{key:"referenceId",header:"Reference"}];return n.jsxs("div",{children:[n.jsx(St,{title:"Stock Movements",description:"Track all inventory movements and transfers",actions:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Pe,{value:d,onValueChange:f,children:[n.jsxs(Se,{className:"w-48","data-testid":"select-warehouse-filter",children:[n.jsx(Hu,{className:"h-4 w-4 mr-2"}),n.jsx(Ee,{placeholder:"All Warehouses"})]}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"all",children:"All Warehouses"}),r.map(p=>n.jsx(Z,{value:p.id,children:p.name},p.id))]})]}),n.jsxs(D,{variant:"outline","data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(D,{onClick:()=>c(!0),"data-testid":"button-new-movement",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"New Movement"]})]})}),n.jsx(Wt,{data:x,columns:h,searchKey:"productName",searchPlaceholder:"Search movements..."}),n.jsx(Ye,{open:l,onOpenChange:c,children:n.jsxs(He,{className:"max-w-lg",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:"New Stock Movement"})}),n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"type",children:"Movement Type *"}),n.jsxs(Pe,{value:m.type,onValueChange:p=>y({...m,type:p}),children:[n.jsx(Se,{"data-testid":"select-type",children:n.jsx(Ee,{})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"RECEIVE",children:"Receive (IN)"}),n.jsx(Z,{value:"SHIP",children:"Ship (OUT)"}),n.jsx(Z,{value:"TRANSFER",children:"Transfer"}),n.jsx(Z,{value:"ADJUST",children:"Adjustment"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"warehouse",children:"Warehouse *"}),n.jsxs(Pe,{value:m.warehouseId,onValueChange:p=>y({...m,warehouseId:p,fromLocationId:"",toLocationId:""}),children:[n.jsx(Se,{"data-testid":"select-warehouse",children:n.jsx(Ee,{placeholder:"Select warehouse"})}),n.jsx(Ce,{children:r.map(p=>n.jsx(Z,{value:p.id,children:p.name},p.id))})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"product",children:"Product *"}),n.jsxs(Pe,{value:m.productId,onValueChange:p=>y({...m,productId:p}),children:[n.jsx(Se,{"data-testid":"select-product",children:n.jsx(Ee,{placeholder:"Select product"})}),n.jsx(Ce,{children:s.map(p=>n.jsxs(Z,{value:p.id,children:[p.name," (",p.sku,")"]},p.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"quantity",children:"Quantity *"}),n.jsx(re,{id:"quantity",type:"number",min:"1",value:m.quantity,onChange:p=>y({...m,quantity:parseInt(p.target.value)||1}),required:!0,"data-testid":"input-quantity"})]}),(m.type==="SHIP"||m.type==="TRANSFER")&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"fromLocation",children:"From Location *"}),n.jsxs(Pe,{value:m.fromLocationId,onValueChange:p=>y({...m,fromLocationId:p}),disabled:!m.warehouseId,children:[n.jsx(Se,{"data-testid":"select-from",children:n.jsx(Ee,{placeholder:"Select location"})}),n.jsx(Ce,{children:w.map(p=>n.jsxs(Z,{value:p.id,children:[p.code," - ",p.name]},p.id))})]})]}),(m.type==="RECEIVE"||m.type==="TRANSFER"||m.type==="ADJUST")&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"toLocation",children:"To Location *"}),n.jsxs(Pe,{value:m.toLocationId,onValueChange:p=>y({...m,toLocationId:p}),disabled:!m.warehouseId,children:[n.jsx(Se,{"data-testid":"select-to",children:n.jsx(Ee,{placeholder:"Select location"})}),n.jsx(Ce,{children:w.map(p=>n.jsxs(Z,{value:p.id,children:[p.code," - ",p.name]},p.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"reference",children:"Reference"}),n.jsx(re,{id:"reference",value:m.reference,onChange:p=>y({...m,reference:p.target.value}),placeholder:"e.g., PO-001, INV-001","data-testid":"input-reference"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"notes",children:"Notes"}),n.jsx(re,{id:"notes",value:m.notes,onChange:p=>y({...m,notes:p.target.value}),placeholder:"Optional notes","data-testid":"input-notes"})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel",children:"Cancel"}),n.jsx(D,{type:"submit",disabled:!m.productId||!m.warehouseId,"data-testid":"button-save",children:"Create Movement"})]})]})]})})]})}const l3=[{id:"draft",label:"Draft"},{id:"ordered",label:"Ordered"},{id:"received",label:"Received"}];function c3(){const{activeCompany:e}=xs(),{toast:t}=Vt(),{purchaseOrders:s,purchaseOrderLines:r,vendors:a,products:i,warehouses:o,locations:l,addPurchaseOrder:c,addPurchaseOrderLines:d,updatePurchaseOrder:f,deletePurchaseOrder:m,adjustStock:y,addJournalEntry:v}=ts(),[j,x]=u.useState(null),[w,g]=u.useState(!1),[h,p]=u.useState(!1),[b,S]=u.useState({vendorId:""}),[N,T]=u.useState([]),[k]=u.useState(!1),[A,C]=u.useState(!1),I=s.map(q=>{var ne;return{id:q.id,companyId:q.companyId,orderNumber:q.orderNumber,vendorId:q.vendorId,orderDate:q.orderDate,expectedDate:q.expectedDate,status:q.status,subtotal:q.subtotal.toString(),taxAmount:q.taxAmount.toString(),total:q.total.toString(),vendorName:((ne=a.find(me=>me.id===q.vendorId))==null?void 0:ne.name)||"Unknown Vendor"}});console.log("PurchaseOrderList render:",{purchaseOrders:s.length,vendors:a.length,ordersWithVendors:I.length});const $=A,B=q=>{x(q),p(!0)},E=()=>j?r.filter(ne=>ne.purchaseOrderId===j.id).map(ne=>{const me=i.find(F=>F.id===ne.productId),fe=o.find(F=>F.id===ne.warehouseId),$e=l.find(F=>F.id===ne.locationId);return{...ne,productName:(me==null?void 0:me.name)||"Unknown Product",productSku:(me==null?void 0:me.sku)||"",warehouseName:(fe==null?void 0:fe.name)||"",locationCode:($e==null?void 0:$e.code)||""}}):[],P=q=>{if(q.preventDefault(),!b.vendorId||N.length===0){t({title:"Please select a vendor and add at least one product line",variant:"destructive"});return}C(!0),setTimeout(()=>{const ne=N.reduce((F,X)=>F+X.quantity*X.unitPrice,0),me=ne*.1,fe=ne+me,$e=c({companyId:(e==null?void 0:e.id)||"comp-002",orderNumber:`PO-${String(Date.now()).slice(-6)}`,vendorId:b.vendorId,orderDate:new Date().toISOString().split("T")[0],status:"draft",subtotal:ne,taxAmount:me,total:fe});d(N.map((F,X)=>({purchaseOrderId:$e.id,productId:F.productId,warehouseId:F.warehouseId,locationId:F.locationId,lineNumber:X+1,quantity:F.quantity,quantityReceived:0,unitPrice:F.unitPrice,lineTotal:F.quantity*F.unitPrice}))),t({title:"Purchase order created successfully"}),C(!1),g(!1),S({vendorId:""}),T([])},500)},L=(q,ne)=>{C(!0),setTimeout(()=>{if(ne==="received"){const fe=r.filter(X=>X.purchaseOrderId===q);let $e=0;fe.forEach(X=>{var Re,Ve;const ke=X.warehouseId||((Re=o[0])==null?void 0:Re.id),Me=X.locationId||((Ve=l.find(_e=>_e.warehouseId===ke))==null?void 0:Ve.id);ke&&Me&&y(ke,Me,X.productId,X.quantity,"PO",q),$e+=X.lineTotal});const F=s.find(X=>X.id===q);F&&$e>0&&v({companyId:F.companyId,date:new Date().toISOString().split("T")[0],description:`Goods received - PO ${F.orderNumber}`,referenceType:"PO",referenceId:q,status:"posted",lines:[{accountId:"acc-1200",accountCode:"1200",accountName:"Inventory",debit:$e,credit:0},{accountId:"acc-2000",accountCode:"2000",accountName:"Accounts Payable",debit:0,credit:$e}]})}f(q,{status:ne}),t({title:{ordered:"Purchase Order Sent - Order sent to vendor",received:"Goods Received - Inventory updated at receiving location",billed:"Vendor Bill Created - AP recorded"}[ne]||"Status updated",description:`Order status changed to ${ne}`}),C(!1),p(!1),(j==null?void 0:j.id)===q&&x({...j,status:ne})},500)},ie=q=>{confirm("Are you sure you want to delete this purchase order?")&&(m(q),t({title:"Purchase order deleted successfully"}))},W=()=>{const q=[["PO #","Vendor","Date","Status","Total"].join(","),...I.map($e=>[$e.orderNumber,$e.vendorName,new Date($e.orderDate).toLocaleDateString(),$e.status,$e.total].join(","))].join(`
`),ne=new Blob([q],{type:"text/csv"}),me=URL.createObjectURL(ne),fe=document.createElement("a");fe.href=me,fe.download="purchase_orders.csv",fe.click()},U=q=>{switch(q.status){case"draft":return n.jsxs(D,{size:"sm",onClick:ne=>{ne.stopPropagation(),L(q.id,"ordered")},disabled:$,"data-testid":`button-send-${q.id}`,children:[n.jsx(vd,{className:"h-3 w-3 mr-1"}),A?"...":"Send"]});case"ordered":return n.jsxs(D,{size:"sm",onClick:ne=>{ne.stopPropagation(),L(q.id,"received")},disabled:$,"data-testid":`button-receive-${q.id}`,children:[n.jsx(iE,{className:"h-3 w-3 mr-1"}),A?"...":"Receive"]});default:return null}},H=[{key:"orderNumber",header:"PO #",sortable:!0},{key:"vendorName",header:"Vendor",sortable:!0},{key:"orderDate",header:"Date",sortable:!0,render:q=>new Date(q.orderDate).toLocaleDateString()},{key:"status",header:"Status",render:q=>n.jsx(Je,{status:q.status})},{key:"total",header:"Total",sortable:!0,className:"text-right",render:q=>`$${parseFloat(q.total||"0").toLocaleString()}`},{key:"actions",header:"",className:"text-right",render:q=>n.jsxs("div",{className:"flex justify-end gap-2",onClick:ne=>ne.stopPropagation(),children:[U(q),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>B(q),"data-testid":`button-view-${q.id}`,children:n.jsx(Gn,{className:"h-4 w-4"})}),q.status==="draft"&&n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>ie(q.id),disabled:A,"data-testid":`button-delete-${q.id}`,children:n.jsx(gn,{className:"h-4 w-4"})})]})}];return k?n.jsxs("div",{className:"space-y-4",children:[n.jsx(St,{title:"Purchase Orders",description:"Manage supplier purchase orders"}),n.jsx("div",{className:"space-y-2",children:[1,2,3].map(q=>n.jsx(Ux,{className:"h-12 w-full"},q))})]}):n.jsxs("div",{children:[n.jsx(St,{title:"Purchase Orders",description:"Manage supplier purchase orders",actions:n.jsxs(n.Fragment,{children:[n.jsxs(D,{variant:"outline",onClick:W,"data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(D,{onClick:()=>g(!0),"data-testid":"button-new-po",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"New PO"]})]})}),n.jsx(Wt,{data:I,columns:H,searchKey:"vendorName",searchPlaceholder:"Search purchase orders...",onRowClick:B}),n.jsx(Ye,{open:w,onOpenChange:g,children:n.jsxs(He,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Ke,{children:[n.jsx(Qe,{children:"New Purchase Order"}),n.jsx(rn,{children:"Create a new purchase order by selecting a vendor and adding product lines."})]}),n.jsxs("form",{onSubmit:P,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"vendor",children:"Vendor *"}),n.jsxs(Pe,{value:b.vendorId,onValueChange:q=>S({vendorId:q}),children:[n.jsx(Se,{"data-testid":"select-vendor",children:n.jsx(Ee,{placeholder:"Select vendor"})}),n.jsx(Ce,{children:a.map(q=>n.jsx(Z,{value:q.id,children:q.name},q.id))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(K,{children:"Order Lines *"}),n.jsxs(D,{type:"button",size:"sm",variant:"outline",onClick:()=>{var me,fe;const q=((me=o[0])==null?void 0:me.id)||"",ne=((fe=l.find($e=>$e.warehouseId===q))==null?void 0:fe.id)||"";T([...N,{productId:"",warehouseId:q,locationId:ne,quantity:1,unitPrice:0}])},children:[n.jsx(Pt,{className:"h-3 w-3 mr-1"})," Add Line"]})]}),N.length===0?n.jsx("p",{className:"text-sm text-muted-foreground py-4 text-center border rounded",children:'No lines added yet. Click "Add Line" to add products.'}):n.jsx("div",{className:"border rounded-md divide-y",children:N.map((q,ne)=>n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm font-medium",children:["Line ",ne+1]}),n.jsx(D,{type:"button",size:"sm",variant:"ghost",onClick:()=>{T(N.filter((me,fe)=>fe!==ne))},children:n.jsx(gn,{className:"h-3 w-3"})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx(K,{className:"text-xs",children:"Product"}),n.jsxs(Pe,{value:q.productId,onValueChange:me=>{const fe=i.find(F=>F.id===me),$e=[...N];$e[ne].productId=me,$e[ne].unitPrice=(fe==null?void 0:fe.costPrice)||0,T($e)},children:[n.jsx(Se,{children:n.jsx(Ee,{placeholder:"Select product"})}),n.jsx(Ce,{children:i.map(me=>n.jsxs(Z,{value:me.id,children:[me.sku," - ",me.name]},me.id))})]})]}),n.jsxs("div",{children:[n.jsx(K,{className:"text-xs",children:"Warehouse"}),n.jsxs(Pe,{value:q.warehouseId,onValueChange:me=>{var $e;const fe=[...N];fe[ne].warehouseId=me,fe[ne].locationId=(($e=l.find(F=>F.warehouseId===me))==null?void 0:$e.id)||"",T(fe)},children:[n.jsx(Se,{children:n.jsx(Ee,{placeholder:"Warehouse"})}),n.jsx(Ce,{children:o.map(me=>n.jsx(Z,{value:me.id,children:me.name},me.id))})]})]}),n.jsxs("div",{children:[n.jsx(K,{className:"text-xs",children:"Location"}),n.jsxs(Pe,{value:q.locationId,onValueChange:me=>{const fe=[...N];fe[ne].locationId=me,T(fe)},children:[n.jsx(Se,{children:n.jsx(Ee,{placeholder:"Location"})}),n.jsx(Ce,{children:l.filter(me=>me.warehouseId===q.warehouseId).map(me=>n.jsx(Z,{value:me.id,children:me.code},me.id))})]})]}),n.jsxs("div",{children:[n.jsx(K,{className:"text-xs",children:"Quantity"}),n.jsx(re,{type:"number",min:"1",value:q.quantity,onChange:me=>{const fe=[...N];fe[ne].quantity=parseInt(me.target.value)||1,T(fe)}})]}),n.jsxs("div",{children:[n.jsx(K,{className:"text-xs",children:"Unit Price"}),n.jsx(re,{type:"number",step:"0.01",value:q.unitPrice,onChange:me=>{const fe=[...N];fe[ne].unitPrice=parseFloat(me.target.value)||0,T(fe)}})]})]}),n.jsxs("div",{className:"text-right text-sm font-medium",children:["Line Total: $",(q.quantity*q.unitPrice).toFixed(2)]})]},ne))}),N.length>0&&n.jsx("div",{className:"text-right text-sm pt-2 border-t",children:n.jsxs("strong",{children:["Subtotal: $",N.reduce((q,ne)=>q+ne.quantity*ne.unitPrice,0).toFixed(2)]})})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>{g(!1),T([])},"data-testid":"button-cancel",children:"Cancel"}),n.jsx(D,{type:"submit",disabled:!b.vendorId||N.length===0||A,"data-testid":"button-create-po",children:A?"Creating...":"Create PO"})]})]})]})}),n.jsx(Ye,{open:h,onOpenChange:p,children:n.jsxs(He,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Ke,{children:[n.jsx(Qe,{children:"Purchase Order Details"}),n.jsxs(rn,{children:["View and manage order ",j==null?void 0:j.orderNumber]})]}),j&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h2",{className:"text-xl font-semibold","data-testid":"text-po-number",children:j.orderNumber}),n.jsx(Je,{status:j.status})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.vendorName})]}),U(j)]}),n.jsx(mg,{steps:l3,currentStep:j.status||"draft"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs(G,{children:[n.jsx(J,{className:"pb-3",children:n.jsx(ee,{className:"text-base",children:"Order Information"})}),n.jsxs(Y,{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order Date"}),n.jsx("span",{children:new Date(j.orderDate).toLocaleDateString()})]}),n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Vendor ID"}),n.jsx("span",{children:j.vendorId})]}),j.expectedDate&&n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Expected Date"}),n.jsx("span",{children:new Date(j.expectedDate).toLocaleDateString()})]})]})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-3",children:n.jsx(ee,{className:"text-base",children:"Order Summary"})}),n.jsxs(Y,{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),n.jsxs("span",{children:["$",parseFloat(j.subtotal||"0").toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tax"}),n.jsxs("span",{children:["$",parseFloat(j.taxAmount||"0").toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between gap-2 font-semibold pt-2 border-t",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{"data-testid":"text-po-total",children:["$",parseFloat(j.total||"0").toLocaleString()]})]})]})]})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-3",children:n.jsx(ee,{className:"text-base",children:"Order Lines"})}),n.jsx(Y,{children:E().length===0?n.jsx("p",{className:"text-sm text-muted-foreground",children:"No lines for this order"}):n.jsxs("div",{className:"border rounded-md divide-y",children:[n.jsxs("div",{className:"grid grid-cols-5 gap-2 p-3 bg-muted/50 text-sm font-medium",children:[n.jsx("div",{children:"SKU"}),n.jsx("div",{children:"Product"}),n.jsx("div",{className:"text-right",children:"Qty"}),n.jsx("div",{className:"text-right",children:"Unit Price"}),n.jsx("div",{className:"text-right",children:"Total"})]}),E().map((q,ne)=>n.jsxs("div",{className:"grid grid-cols-5 gap-2 p-3 text-sm",children:[n.jsx("div",{className:"text-muted-foreground",children:q.productSku}),n.jsx("div",{children:q.productName}),n.jsx("div",{className:"text-right",children:q.quantity}),n.jsxs("div",{className:"text-right",children:["$",q.unitPrice.toFixed(2)]}),n.jsxs("div",{className:"text-right",children:["$",q.lineTotal.toFixed(2)]})]},ne))]})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(D,{variant:"outline",onClick:()=>p(!1),"data-testid":"button-close-detail",children:"Close"})})]})]})})]})}function d3(){const{activeCompany:e}=xs(),{toast:t}=Vt(),{vendors:s,addVendor:r,updateVendor:a,deleteVendor:i}=ts(),o=e==null?void 0:e.id,[l,c]=u.useState(!1),[d,f]=u.useState(!1),[m,y]=u.useState(null),[v,j]=u.useState(null),[x]=u.useState(!1),[w,g]=u.useState(!1),h=s.map(I=>({id:I.id,companyId:I.companyId,code:I.code,name:I.name,legalName:I.legalName,email:I.email,phone:I.phone,taxId:I.taxId,address:I.address,city:I.city,state:I.state,country:I.country,postalCode:I.postalCode,paymentTerms:I.paymentTerms,vendorType:I.vendorType,isActive:I.isActive})),[p,b]=u.useState({code:"",name:"",legalName:"",email:"",phone:"",taxId:"",address:"",city:"",state:"",country:"",postalCode:"",paymentTerms:30,vendorType:"regular"}),S=I=>{I?(y(I),b({code:I.code,name:I.name,legalName:I.legalName||"",email:I.email||"",phone:I.phone||"",taxId:I.taxId||"",address:I.address||"",city:I.city||"",state:I.state||"",country:I.country||"",postalCode:I.postalCode||"",paymentTerms:I.paymentTerms||30,vendorType:I.vendorType||"regular"})):(y(null),b({code:"",name:"",legalName:"",email:"",phone:"",taxId:"",address:"",city:"",state:"",country:"",postalCode:"",paymentTerms:30,vendorType:"regular"})),c(!0)},N=I=>{I.preventDefault(),g(!0),setTimeout(()=>{m?(a(m.id,{code:p.code,name:p.name,legalName:p.legalName,email:p.email,phone:p.phone,taxId:p.taxId,address:p.address,city:p.city,state:p.state,country:p.country,postalCode:p.postalCode,paymentTerms:p.paymentTerms,vendorType:p.vendorType}),t({title:"Vendor updated successfully"})):(r({companyId:o||"comp-002",code:p.code,name:p.name,legalName:p.legalName,email:p.email,phone:p.phone,taxId:p.taxId,address:p.address,city:p.city,state:p.state,country:p.country,postalCode:p.postalCode,paymentTerms:p.paymentTerms,vendorType:p.vendorType,isActive:!0}),t({title:"Vendor created successfully"})),g(!1),c(!1)},500)},T=I=>{j(I),f(!0)},k=I=>{confirm("Are you sure you want to delete this vendor?")&&(i(I),t({title:"Vendor deleted successfully"}))},A=[{key:"code",header:"Code",sortable:!0},{key:"name",header:"Name",sortable:!0},{key:"email",header:"Email",sortable:!0},{key:"phone",header:"Phone"},{key:"city",header:"City"},{key:"country",header:"Country"},{key:"vendorType",header:"Type",render:I=>n.jsx("span",{className:"capitalize",children:I.vendorType||"regular"})},{key:"isActive",header:"Status",render:I=>n.jsx(Je,{status:I.isActive?"active":"inactive"})},{key:"actions",header:"",className:"text-right",render:I=>n.jsxs("div",{className:"flex justify-end gap-1",onClick:$=>$.stopPropagation(),children:[n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>T(I),"data-testid":`button-view-${I.id}`,children:n.jsx(Gn,{className:"h-4 w-4"})}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>S(I),"data-testid":`button-edit-${I.id}`,children:n.jsx(ps,{className:"h-4 w-4"})}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>k(I.id),"data-testid":`button-delete-${I.id}`,children:n.jsx(gn,{className:"h-4 w-4"})})]})}],C=()=>{if(h.length===0){t({title:"No data to export",variant:"destructive"});return}ka(h.map(I=>({code:I.code,name:I.name,email:I.email||"",phone:I.phone||"",city:I.city||"",country:I.country||"",type:I.vendorType,paymentTerms:I.paymentTerms,status:I.isActive?"Active":"Inactive"})),[{key:"code",label:"Code"},{key:"name",label:"Name"},{key:"email",label:"Email"},{key:"phone",label:"Phone"},{key:"city",label:"City"},{key:"country",label:"Country"},{key:"type",label:"Type"},{key:"paymentTerms",label:"Payment Terms"},{key:"status",label:"Status"}],"vendors"),t({title:"Vendors exported successfully"})};return x?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(an,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs("div",{children:[n.jsx(St,{title:"Vendors",description:`${h.length} vendor${h.length!==1?"s":""}`,actions:n.jsxs(n.Fragment,{children:[n.jsxs(D,{variant:"outline",onClick:C,"data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(D,{onClick:()=>S(),"data-testid":"button-new-vendor",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"New Vendor"]})]})}),h.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[n.jsx(yt,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No vendors yet"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first vendor to start managing suppliers."}),n.jsxs(D,{onClick:()=>S(),"data-testid":"button-create-first-vendor",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Create Vendor"]})]}):n.jsx(Wt,{data:h,columns:A,searchKey:"name",searchPlaceholder:"Search vendors...",onRowClick:T}),n.jsx(Ye,{open:l,onOpenChange:c,children:n.jsxs(He,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:m?"Edit Vendor":"New Vendor"})}),n.jsxs("form",{onSubmit:N,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"code",children:"Vendor Code"}),n.jsx(re,{id:"code",value:p.code,onChange:I=>b({...p,code:I.target.value}),placeholder:"VEND-001",required:!0,"data-testid":"input-vendor-code"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"vendorType",children:"Type"}),n.jsxs(Pe,{value:p.vendorType,onValueChange:I=>b({...p,vendorType:I}),children:[n.jsx(Se,{"data-testid":"select-vendor-type",children:n.jsx(Ee,{})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"regular",children:"Regular"}),n.jsx(Z,{value:"manufacturer",children:"Manufacturer"}),n.jsx(Z,{value:"distributor",children:"Distributor"}),n.jsx(Z,{value:"service",children:"Service Provider"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"name",children:"Vendor Name"}),n.jsx(re,{id:"name",value:p.name,onChange:I=>b({...p,name:I.target.value}),placeholder:"Vendor name",required:!0,"data-testid":"input-vendor-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"legalName",children:"Legal Name"}),n.jsx(re,{id:"legalName",value:p.legalName,onChange:I=>b({...p,legalName:I.target.value}),placeholder:"Legal entity name (optional)","data-testid":"input-vendor-legal-name"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"email",children:"Email"}),n.jsx(re,{id:"email",type:"email",value:p.email,onChange:I=>b({...p,email:I.target.value}),placeholder:"email@example.com","data-testid":"input-vendor-email"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"phone",children:"Phone"}),n.jsx(re,{id:"phone",value:p.phone,onChange:I=>b({...p,phone:I.target.value}),placeholder:"+1 (555) 000-0000","data-testid":"input-vendor-phone"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"taxId",children:"Tax ID"}),n.jsx(re,{id:"taxId",value:p.taxId,onChange:I=>b({...p,taxId:I.target.value}),placeholder:"Tax identification number","data-testid":"input-vendor-tax-id"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"address",children:"Address"}),n.jsx(ga,{id:"address",value:p.address,onChange:I=>b({...p,address:I.target.value}),placeholder:"Street address",rows:2,"data-testid":"input-vendor-address"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"city",children:"City"}),n.jsx(re,{id:"city",value:p.city,onChange:I=>b({...p,city:I.target.value}),placeholder:"City","data-testid":"input-vendor-city"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"state",children:"State/Province"}),n.jsx(re,{id:"state",value:p.state,onChange:I=>b({...p,state:I.target.value}),placeholder:"State","data-testid":"input-vendor-state"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"country",children:"Country"}),n.jsx(re,{id:"country",value:p.country,onChange:I=>b({...p,country:I.target.value}),placeholder:"US",maxLength:2,"data-testid":"input-vendor-country"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"postalCode",children:"Postal Code"}),n.jsx(re,{id:"postalCode",value:p.postalCode,onChange:I=>b({...p,postalCode:I.target.value}),placeholder:"12345","data-testid":"input-vendor-postal-code"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"paymentTerms",children:"Payment Terms (days)"}),n.jsx(re,{id:"paymentTerms",type:"number",min:"0",value:p.paymentTerms,onChange:I=>b({...p,paymentTerms:parseInt(I.target.value)||0}),"data-testid":"input-vendor-payment-terms"})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel",children:"Cancel"}),n.jsxs(D,{type:"submit",disabled:w,"data-testid":"button-save-vendor",children:[w&&n.jsx(an,{className:"h-4 w-4 mr-2 animate-spin"}),m?"Update":"Create"]})]})]})]})}),n.jsx(Ye,{open:d,onOpenChange:f,children:n.jsxs(He,{className:"max-w-md",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:"Vendor Details"})}),v&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-lg",children:v.name})}),n.jsxs(Y,{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Code"}),n.jsx("span",{className:"font-medium",children:v.code})]}),v.legalName&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Legal Name"}),n.jsx("span",{className:"font-medium",children:v.legalName})]}),v.email&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Email"}),n.jsx("span",{className:"font-medium",children:v.email})]}),v.phone&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Phone"}),n.jsx("span",{className:"font-medium",children:v.phone})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Type"}),n.jsx("span",{className:"font-medium capitalize",children:v.vendorType||"regular"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Payment Terms"}),n.jsxs("span",{className:"font-medium",children:[v.paymentTerms||30," days"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status"}),n.jsx(Je,{status:v.isActive?"active":"inactive"})]})]})]}),(v.address||v.city)&&n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm",children:"Address"})}),n.jsxs(Y,{className:"text-sm text-muted-foreground",children:[v.address&&n.jsx("div",{children:v.address}),n.jsx("div",{children:[v.city,v.state,v.postalCode].filter(Boolean).join(", ")}),v.country&&n.jsx("div",{children:v.country})]})]})]})]})})]})}function u3(){const{journalEntries:e,addJournalEntry:t,accounts:s}=ts(),[r,a]=u.useState(null),[i,o]=u.useState(!1),[l,c]=u.useState(!1),[d,f]=u.useState("all"),[m,y]=u.useState({description:"",debitAccountId:"",creditAccountId:"",amount:0}),v=e.map(N=>({...N,totalDebit:N.lines.reduce((T,k)=>T+k.debit,0),totalCredit:N.lines.reduce((T,k)=>T+k.credit,0)})),j=N=>{a(N),o(!0)},x=N=>{if(N.preventDefault(),!m.description||!m.debitAccountId||!m.creditAccountId||m.amount<=0)return;const T=s.find(A=>A.id===m.debitAccountId),k=s.find(A=>A.id===m.creditAccountId);t({companyId:"comp-002",date:new Date().toISOString().split("T")[0],description:m.description,referenceType:"ADJUST",referenceId:`manual-${Date.now()}`,status:"draft",lines:[{accountId:m.debitAccountId,accountCode:(T==null?void 0:T.accountCode)||"",accountName:(T==null?void 0:T.name)||"",debit:m.amount,credit:0},{accountId:m.creditAccountId,accountCode:(k==null?void 0:k.accountCode)||"",accountName:(k==null?void 0:k.name)||"",debit:0,credit:m.amount}]}),c(!1),y({description:"",debitAccountId:"",creditAccountId:"",amount:0})},w=()=>{console.log("Exporting journal entries:",v)},g=()=>{switch(d){case"PO":return v.filter(N=>N.referenceType==="PO");case"SO":return v.filter(N=>N.referenceType==="SO");case"PMT":return v.filter(N=>N.referenceType==="PMT");case"ADJUST":return v.filter(N=>N.referenceType==="ADJUST");default:return v}},h=v.reduce((N,T)=>N+T.totalDebit,0),p=v.reduce((N,T)=>N+T.totalCredit,0),b=[{key:"entryNumber",header:"Entry #",sortable:!0},{key:"date",header:"Date",sortable:!0,render:N=>new Date(N.date).toLocaleDateString()},{key:"description",header:"Description",sortable:!0},{key:"referenceType",header:"Type",render:N=>n.jsx("span",{className:z("px-2 py-1 rounded text-xs font-medium",N.referenceType==="PO"&&"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",N.referenceType==="SO"&&"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",N.referenceType==="PMT"&&"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",N.referenceType==="ADJUST"&&"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"),children:N.referenceType})},{key:"totalDebit",header:"Debit",className:"text-right",render:N=>`$${N.totalDebit.toLocaleString(void 0,{minimumFractionDigits:2})}`},{key:"totalCredit",header:"Credit",className:"text-right",render:N=>`$${N.totalCredit.toLocaleString(void 0,{minimumFractionDigits:2})}`},{key:"status",header:"Status",render:N=>n.jsx(Je,{status:N.status})}],S=m.description&&m.debitAccountId&&m.creditAccountId&&m.amount>0;return n.jsxs("div",{children:[n.jsx(St,{title:"Journal Entries",description:"View all journal entries from transactions and manual adjustments",actions:n.jsxs(n.Fragment,{children:[n.jsxs(D,{variant:"outline",onClick:w,children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(D,{onClick:()=>c(!0),children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"New Entry"]})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3 mb-6",children:[n.jsx(Ot,{title:"Total Entries",value:v.length.toString(),icon:av}),n.jsx(Ot,{title:"Total Debits",value:`$${h.toLocaleString(void 0,{minimumFractionDigits:2})}`,icon:BP}),n.jsx(Ot,{title:"Total Credits",value:`$${p.toLocaleString(void 0,{minimumFractionDigits:2})}`,icon:$P})]}),n.jsx(gs,{value:d,onValueChange:f,className:"mb-4",children:n.jsxs(ns,{children:[n.jsxs(Oe,{value:"all",children:["All (",v.length,")"]}),n.jsxs(Oe,{value:"PO",children:["Purchases (",v.filter(N=>N.referenceType==="PO").length,")"]}),n.jsxs(Oe,{value:"SO",children:["Sales (",v.filter(N=>N.referenceType==="SO").length,")"]}),n.jsxs(Oe,{value:"PMT",children:["Payments (",v.filter(N=>N.referenceType==="PMT").length,")"]}),n.jsxs(Oe,{value:"ADJUST",children:["Adjustments (",v.filter(N=>N.referenceType==="ADJUST").length,")"]})]})}),v.length===0?n.jsx(G,{children:n.jsxs(Y,{className:"py-12 text-center",children:[n.jsx(av,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Journal Entries Yet"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Journal entries will appear here when you complete transactions like receiving POs, delivering SOs, or recording payments."}),n.jsxs(D,{onClick:()=>c(!0),children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Create Manual Entry"]})]})}):n.jsx(Wt,{data:g(),columns:b,searchKey:"description",searchPlaceholder:"Search entries...",onRowClick:j}),n.jsx(Ye,{open:i,onOpenChange:o,children:n.jsxs(He,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Ke,{children:[n.jsx(Qe,{children:"Journal Entry Details"}),n.jsxs(rn,{children:["Entry ",r==null?void 0:r.entryNumber]})]}),r&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs(G,{children:[n.jsx(J,{className:"pb-3",children:n.jsx(ee,{className:"text-base",children:"Entry Information"})}),n.jsxs(Y,{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Entry Number"}),n.jsx("span",{className:"font-medium",children:r.entryNumber})]}),n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Date"}),n.jsx("span",{children:new Date(r.date).toLocaleDateString()})]}),n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Reference Type"}),n.jsx("span",{children:r.referenceType})]}),n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status"}),n.jsx("span",{className:"capitalize",children:r.status})]})]})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-3",children:n.jsx(ee,{className:"text-base",children:"Description"})}),n.jsx(Y,{children:n.jsx("p",{className:"text-sm",children:r.description})})]})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-3",children:n.jsx(ee,{className:"text-base",children:"Journal Lines"})}),n.jsx(Y,{children:n.jsxs("div",{className:"border rounded-md divide-y",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-2 p-3 bg-muted/50 text-sm font-medium",children:[n.jsx("div",{children:"Account Code"}),n.jsx("div",{children:"Account Name"}),n.jsx("div",{className:"text-right",children:"Debit"}),n.jsx("div",{className:"text-right",children:"Credit"})]}),r.lines.map((N,T)=>n.jsxs("div",{className:"grid grid-cols-4 gap-2 p-3 text-sm",children:[n.jsx("div",{className:"text-muted-foreground",children:N.accountCode}),n.jsx("div",{children:N.accountName}),n.jsx("div",{className:"text-right",children:N.debit>0?`$${N.debit.toFixed(2)}`:"-"}),n.jsx("div",{className:"text-right",children:N.credit>0?`$${N.credit.toFixed(2)}`:"-"})]},T)),n.jsxs("div",{className:"grid grid-cols-4 gap-2 p-3 bg-muted/50 text-sm font-semibold",children:[n.jsx("div",{}),n.jsx("div",{children:"Total"}),n.jsxs("div",{className:"text-right",children:["$",r.totalDebit.toFixed(2)]}),n.jsxs("div",{className:"text-right",children:["$",r.totalCredit.toFixed(2)]})]})]})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(D,{variant:"outline",onClick:()=>o(!1),children:"Close"})})]})]})}),n.jsx(Ye,{open:l,onOpenChange:c,children:n.jsxs(He,{className:"max-w-lg",children:[n.jsxs(Ke,{children:[n.jsx(Qe,{children:"New Manual Journal Entry"}),n.jsx(rn,{children:"Create a manual adjustment entry"})]}),n.jsxs("form",{onSubmit:x,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"description",children:"Description *"}),n.jsx(ga,{id:"description",value:m.description,onChange:N=>y({...m,description:N.target.value}),rows:2,required:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"debitAccount",children:"Debit Account *"}),n.jsxs(Pe,{value:m.debitAccountId,onValueChange:N=>y({...m,debitAccountId:N}),children:[n.jsx(Se,{children:n.jsx(Ee,{placeholder:"Select account"})}),n.jsx(Ce,{children:s.map(N=>n.jsxs(Z,{value:N.id,children:[N.accountCode," - ",N.name]},N.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"creditAccount",children:"Credit Account *"}),n.jsxs(Pe,{value:m.creditAccountId,onValueChange:N=>y({...m,creditAccountId:N}),children:[n.jsx(Se,{children:n.jsx(Ee,{placeholder:"Select account"})}),n.jsx(Ce,{children:s.map(N=>n.jsxs(Z,{value:N.id,children:[N.accountCode," - ",N.name]},N.id))})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"amount",children:"Amount *"}),n.jsx(re,{id:"amount",type:"number",step:"0.01",min:"0.01",value:m.amount||"",onChange:N=>y({...m,amount:parseFloat(N.target.value)||0}),required:!0})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),n.jsx(D,{type:"submit",disabled:!S,children:"Create Entry"})]})]})]})})]})}const m3={asset:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",liability:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",equity:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",revenue:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",expense:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400"};function h3(){const{activeCompany:e}=xs(),{toast:t}=Vt(),{accounts:s,addAccount:r,updateAccount:a,deleteAccount:i}=ts(),o=e==null?void 0:e.id,[l,c]=u.useState(!1),[d,f]=u.useState(null),[m,y]=u.useState(new Set),[v,j]=u.useState(""),[x,w]=u.useState("all"),[g]=u.useState(!1),[h,p]=u.useState(!1),[b,S]=u.useState({accountCode:"",name:"",accountType:"asset",level:3,parentId:"__none__",isPostable:!0}),N=s.map(F=>({id:F.id,companyId:F.companyId,accountCode:F.accountCode,name:F.name,accountType:F.accountType,parentId:F.parentId||null,level:F.level,balance:(F.balance||0).toString(),isPostable:F.isPostable,isActive:F.isActive})),T=F=>{F.preventDefault();const X={...b,parentId:b.parentId==="__none__"?null:b.parentId};p(!0),setTimeout(()=>{d?(a(d.id,{accountCode:X.accountCode,name:X.name,accountType:X.accountType,parentId:X.parentId,level:X.level,isPostable:X.isPostable}),t({title:"Account updated successfully"})):(r({companyId:o||"comp-002",accountCode:X.accountCode,name:X.name,accountType:X.accountType,parentId:X.parentId,level:X.level,balance:0,isPostable:X.isPostable,isActive:!0}),t({title:"Account created successfully"})),p(!1),c(!1)},500)},k=F=>{if(N.some(ke=>ke.parentId===F)){t({title:"Cannot delete account with child accounts",variant:"destructive"});return}confirm("Are you sure you want to delete this account?")&&(i(F),t({title:"Account deleted successfully"}))},A=F=>{y(X=>{const ke=new Set(X);return ke.has(F)?ke.delete(F):ke.add(F),ke})},C=()=>{const F=N.filter(X=>!X.isPostable).map(X=>X.id);y(new Set(F))},I=()=>{y(new Set)},$=F=>{F?(f(F),S({accountCode:F.accountCode,name:F.name,accountType:F.accountType,level:F.level,parentId:F.parentId||"__none__",isPostable:F.isPostable??!0})):(f(null),S({accountCode:"",name:"",accountType:"asset",level:3,parentId:"__none__",isPostable:!0})),c(!0)},B=F=>N.filter(X=>X.parentId===F),E=F=>F.isPostable?parseFloat(F.balance||"0"):N.filter(ke=>ke.parentId===F.id).reduce((ke,Me)=>ke+E(Me),0),P=u.useMemo(()=>{let F=N;return v&&(F=F.filter(X=>X.name.toLowerCase().includes(v.toLowerCase())||X.accountCode.includes(v))),x!=="all"&&(F=F.filter(X=>X.accountType===x)),F},[N,v,x]),L=u.useMemo(()=>v||x!=="all"?P:N.filter(F=>F.parentId===null),[N,P,v,x]),ie=u.useMemo(()=>N.filter(F=>!F.isPostable),[N]),W=u.useMemo(()=>N.filter(F=>F.accountType==="asset"&&F.isPostable).reduce((F,X)=>F+parseFloat(X.balance||"0"),0),[N]),U=u.useMemo(()=>N.filter(F=>F.accountType==="liability"&&F.isPostable).reduce((F,X)=>F+parseFloat(X.balance||"0"),0),[N]),H=u.useMemo(()=>N.filter(F=>F.accountType==="equity"&&F.isPostable).reduce((F,X)=>F+parseFloat(X.balance||"0"),0),[N]),q=u.useMemo(()=>N.filter(F=>F.accountType==="revenue"&&F.isPostable).reduce((F,X)=>F+parseFloat(X.balance||"0"),0),[N]),ne=u.useMemo(()=>N.filter(F=>F.accountType==="expense"&&F.isPostable).reduce((F,X)=>F+parseFloat(X.balance||"0"),0),[N]),me=(F,X=0)=>{const ke=B(F.id),Me=ke.length>0,Re=m.has(F.id),Ve=E(F);return n.jsxs("div",{children:[n.jsxs("div",{className:z("flex items-center gap-2 px-3 py-2 border-b hover-elevate cursor-pointer",F.level===1&&"bg-muted/50 font-semibold",F.level===2&&"font-medium"),style:{paddingLeft:`${X*24+12}px`},onClick:()=>Me&&A(F.id),"data-testid":`row-account-${F.id}`,children:[n.jsx("div",{className:"w-5 flex justify-center",children:Me?Re?n.jsx(pi,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(xi,{className:"h-4 w-4 text-muted-foreground"}):n.jsx("span",{className:"w-4"})}),n.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-3",children:[n.jsx("span",{className:"font-mono text-sm w-14 shrink-0",children:F.accountCode}),n.jsx("span",{className:"truncate",children:F.name}),F.isPostable&&n.jsx(Le,{variant:"outline",className:"text-xs shrink-0",children:"Postable"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Le,{className:z("text-xs capitalize",m3[F.accountType]),children:F.accountType}),n.jsxs("span",{className:"text-xs text-muted-foreground w-8 text-center",children:["L",F.level]}),n.jsxs("span",{className:z("w-28 text-right font-mono text-sm",Ve<0&&"text-red-600 dark:text-red-400"),children:["$",Ve.toLocaleString()]}),n.jsxs("div",{className:"flex gap-1",onClick:_e=>_e.stopPropagation(),children:[n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>$(F),"data-testid":`button-edit-${F.id}`,children:n.jsx(ps,{className:"h-4 w-4"})}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>k(F.id),disabled:Me||h,"data-testid":`button-delete-${F.id}`,children:n.jsx(gn,{className:"h-4 w-4"})})]})]})]}),Me&&Re&&n.jsx("div",{children:ke.map(_e=>me(_e,X+1))})]},F.id)},fe=()=>{const F=["Account Code","Account Name","Type","Level","Parent Account","Balance","Postable"],X=N.map(_e=>[_e.accountCode,_e.name,_e.accountType.charAt(0).toUpperCase()+_e.accountType.slice(1),_e.level,_e.parentId||"",E(_e),_e.isPostable?"Yes":"No"]),ke=[F.join(","),...X.map(_e=>_e.join(","))].join(`
`),Me=new Blob([ke],{type:"text/csv"}),Re=URL.createObjectURL(Me),Ve=document.createElement("a");Ve.href=Re,Ve.download="chart_of_accounts.csv",Ve.click()},$e=()=>{const F=N.map(Re=>({accountCode:Re.accountCode,accountName:Re.name,accountType:Re.accountType.charAt(0).toUpperCase()+Re.accountType.slice(1),level:Re.level,parentAccountCode:Re.parentId,balance:E(Re),isPostable:Re.isPostable})),X=new Blob([JSON.stringify(F,null,2)],{type:"application/json"}),ke=URL.createObjectURL(X),Me=document.createElement("a");Me.href=ke,Me.download="chart_of_accounts.json",Me.click()};return o?g?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(an,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs("div",{children:[n.jsx(St,{title:"Chart of Accounts",description:`${N.length} accounts across ${N.filter(F=>F.level===1).length} categories`,actions:n.jsxs(n.Fragment,{children:[n.jsxs(D,{variant:"outline",onClick:fe,"data-testid":"button-export-csv",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),n.jsxs(D,{variant:"outline",onClick:$e,"data-testid":"button-export-json",children:[n.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Export JSON"]}),n.jsxs(D,{onClick:()=>$(),"data-testid":"button-new-account",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"New Account"]})]})}),n.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mb-6",children:[n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Total Assets"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold text-blue-600 dark:text-blue-400","data-testid":"text-total-assets",children:["$",W.toLocaleString()]})})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Total Liabilities"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold text-red-600 dark:text-red-400","data-testid":"text-total-liabilities",children:["$",U.toLocaleString()]})})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Total Equity"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold text-purple-600 dark:text-purple-400","data-testid":"text-total-equity",children:["$",H.toLocaleString()]})})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Total Revenue"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold text-green-600 dark:text-green-400","data-testid":"text-total-revenue",children:["$",q.toLocaleString()]})})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-2",children:n.jsx(ee,{className:"text-sm text-muted-foreground",children:"Total Expenses"})}),n.jsx(Y,{children:n.jsxs("p",{className:"text-2xl font-semibold text-orange-600 dark:text-orange-400","data-testid":"text-total-expenses",children:["$",ne.toLocaleString()]})})]})]}),n.jsxs(G,{className:"mb-6",children:[n.jsx(J,{className:"pb-3",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(eE,{className:"h-5 w-5"}),"Account Hierarchy"]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(re,{placeholder:"Search accounts...",value:v,onChange:F=>j(F.target.value),className:"w-64","data-testid":"input-search"}),n.jsxs(Pe,{value:x,onValueChange:w,children:[n.jsx(Se,{className:"w-32","data-testid":"select-filter-type",children:n.jsx(Ee,{})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"all",children:"All Types"}),n.jsx(Z,{value:"asset",children:"Assets"}),n.jsx(Z,{value:"liability",children:"Liabilities"}),n.jsx(Z,{value:"equity",children:"Equity"}),n.jsx(Z,{value:"revenue",children:"Revenue"}),n.jsx(Z,{value:"expense",children:"Expenses"})]})]}),n.jsx(D,{variant:"outline",size:"sm",onClick:C,"data-testid":"button-expand-all",children:"Expand All"}),n.jsx(D,{variant:"outline",size:"sm",onClick:I,"data-testid":"button-collapse-all",children:"Collapse All"})]})]})}),n.jsx(Y,{className:"p-0",children:n.jsxs("div",{className:"border rounded-md overflow-hidden",children:[n.jsxs("div",{className:"grid grid-cols-12 gap-2 px-3 py-2 bg-muted/50 text-sm font-medium border-b",children:[n.jsx("div",{className:"col-span-6",children:"Account"}),n.jsx("div",{className:"col-span-2 text-center",children:"Type"}),n.jsx("div",{className:"col-span-1 text-center",children:"Level"}),n.jsx("div",{className:"col-span-2 text-right",children:"Balance"}),n.jsx("div",{className:"col-span-1"})]}),n.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:L.length===0?n.jsx("div",{className:"p-8 text-center text-muted-foreground",children:'No accounts found. Click "New Account" to create one.'}):L.map(F=>me(F,0))})]})})]}),n.jsx(Ye,{open:l,onOpenChange:c,children:n.jsxs(He,{className:"max-w-lg",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:d?"Edit Account":"New Account"})}),n.jsxs("form",{onSubmit:T,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"accountCode",children:"Account Number *"}),n.jsx(re,{id:"accountCode",value:b.accountCode,onChange:F=>S({...b,accountCode:F.target.value}),disabled:!!d,placeholder:"e.g., 1111",required:!0,"data-testid":"input-account-code"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"type",children:"Account Type *"}),n.jsxs(Pe,{value:b.accountType,onValueChange:F=>S({...b,accountType:F}),children:[n.jsx(Se,{"data-testid":"select-type",children:n.jsx(Ee,{})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"asset",children:"Asset"}),n.jsx(Z,{value:"liability",children:"Liability"}),n.jsx(Z,{value:"equity",children:"Equity"}),n.jsx(Z,{value:"revenue",children:"Revenue"}),n.jsx(Z,{value:"expense",children:"Expense"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"name",children:"Account Name *"}),n.jsx(re,{id:"name",value:b.name,onChange:F=>S({...b,name:F.target.value}),placeholder:"e.g., Cash on Hand",required:!0,"data-testid":"input-name"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"level",children:"Level *"}),n.jsxs(Pe,{value:String(b.level),onValueChange:F=>S({...b,level:parseInt(F)}),children:[n.jsx(Se,{"data-testid":"select-level",children:n.jsx(Ee,{})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"1",children:"Level 1 (Main)"}),n.jsx(Z,{value:"2",children:"Level 2 (Category)"}),n.jsx(Z,{value:"3",children:"Level 3 (Sub-account)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"parentId",children:"Parent Account"}),n.jsxs(Pe,{value:b.parentId,onValueChange:F=>S({...b,parentId:F}),children:[n.jsx(Se,{"data-testid":"select-parent",children:n.jsx(Ee,{placeholder:"Select parent"})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"__none__",children:"None (Root Account)"}),ie.map(F=>n.jsxs(Z,{value:F.id,children:[F.accountCode," - ",F.name]},F.id))]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ir,{id:"isPostable",checked:b.isPostable,onCheckedChange:F=>S({...b,isPostable:F}),"data-testid":"checkbox-postable"}),n.jsx(K,{htmlFor:"isPostable",className:"font-normal",children:"Postable (can receive journal entries)"})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel",children:"Cancel"}),n.jsxs(D,{type:"submit",disabled:h,"data-testid":"button-save",children:[h&&n.jsx(an,{className:"h-4 w-4 mr-2 animate-spin"}),d?"Update":"Create"]})]})]})]})})]}):n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("p",{className:"text-muted-foreground",children:"Please select a company to view Chart of Accounts"})})}const bh=[{range:"Current (0-30)",amount:2340,count:1},{range:"31-60 Days",amount:4750,count:2},{range:"61-90 Days",amount:0,count:0},{range:"Over 90 Days",amount:8900,count:1}];function f3(){const[e]=u.useState(F1),t=e.reduce((o,l)=>l.status==="paid"?o:l.status==="partial"?o+(l.total-(l.paid||0)):o+l.total,0),s=bh.slice(1).reduce((o,l)=>o+l.amount,0),r=bh[0].amount,a=o=>{console.log("Record payment for:",o)},i=[{key:"id",header:"Invoice #",sortable:!0},{key:"customerName",header:"Customer",sortable:!0},{key:"date",header:"Invoice Date",sortable:!0},{key:"dueDate",header:"Due Date",sortable:!0},{key:"status",header:"Status",render:o=>n.jsx(Je,{status:o.status})},{key:"total",header:"Amount",sortable:!0,className:"text-right",render:o=>`$${o.total.toLocaleString()}`},{key:"actions",header:"",className:"text-right",render:o=>n.jsx("div",{className:"flex justify-end gap-1",onClick:l=>l.stopPropagation(),children:o.status!=="paid"&&n.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>a(o.id),"data-testid":`button-pay-${o.id}`,children:[n.jsx(Cn,{className:"h-4 w-4 mr-1"}),"Payment"]})})}];return n.jsxs("div",{children:[n.jsx(St,{title:"Accounts Receivable",description:"Track customer invoices and payments",actions:n.jsxs(D,{variant:"outline","data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]})}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[n.jsx(Ot,{title:"Total Receivable",value:t,icon:Cn}),n.jsx(Ot,{title:"Current",value:r,icon:yr}),n.jsx(Ot,{title:"Overdue",value:s,icon:Es}),n.jsx(Ot,{title:"Avg Days Outstanding",value:"32",icon:er,subtitle:"days"})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[n.jsxs(G,{className:"md:col-span-2",children:[n.jsx(J,{children:n.jsx(ee,{className:"text-base",children:"Aging Report"})}),n.jsx(Y,{children:n.jsx("div",{className:"space-y-3",children:bh.map((o,l)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:o.range}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.count," invoice(s)"]})]}),n.jsxs("p",{className:"font-semibold",children:["$",o.amount.toLocaleString()]})]},l))})})]}),n.jsxs(G,{children:[n.jsx(J,{children:n.jsx(ee,{className:"text-base",children:"Collection Summary"})}),n.jsxs(Y,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Invoiced This Month"}),n.jsx("span",{className:"font-semibold",children:"$15,689.50"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-muted-foreground",children:"Collected This Month"}),n.jsx("span",{className:"font-semibold text-green-600",children:"$9,234.00"})]}),n.jsxs("div",{className:"flex justify-between items-center pt-3 border-t",children:[n.jsx("span",{className:"text-muted-foreground",children:"Collection Rate"}),n.jsx("span",{className:"font-semibold",children:"58.9%"})]})]})]})]}),n.jsx(Wt,{data:e.filter(o=>o.status!=="paid"),columns:i,searchKey:"customerName",searchPlaceholder:"Search invoices..."})]})}function p3(){const{activeCompany:e}=gi(),{toast:t}=Vt(),[s,r]=u.useState(null),[a,i]=u.useState(!1),[o,l]=u.useState(""),{data:c=[],isLoading:d}=jt({queryKey:["/api/companies",e==null?void 0:e.id,"invoices"],enabled:!!(e!=null&&e.id)}),{data:f=[]}=jt({queryKey:["/api/companies",e==null?void 0:e.id,"vendors"],enabled:!!(e!=null&&e.id)}),m=c.filter(p=>p.invoiceType==="vendor").map(p=>{var b;return{...p,vendorName:((b=f.find(S=>S.id===p.vendorId))==null?void 0:b.name)||"Unknown Vendor"}}),y=m.filter(p=>p.status!=="paid"),v=y.reduce((p,b)=>p+Number(b.amountDue??0),0),j=Rt({mutationFn:async({vendorId:p,invoiceIds:b,amount:S})=>(await Gt("POST",`/api/companies/${e==null?void 0:e.id}/payments/pay`,{vendorId:p,invoiceIds:b,amount:S,paymentMethod:"bank_transfer"})).json(),onSuccess:p=>{var b;Ut.invalidateQueries({queryKey:["/api/companies",e==null?void 0:e.id,"invoices"]}),Ut.invalidateQueries({queryKey:["/api/companies",e==null?void 0:e.id,"ap-ledger"]}),Ut.invalidateQueries({queryKey:["/api/companies",e==null?void 0:e.id,"payments"]}),Ut.invalidateQueries({queryKey:["/api/companies",e==null?void 0:e.id,"journal-entries"]}),Ut.invalidateQueries({queryKey:["/api/companies",e==null?void 0:e.id,"purchase-orders"]}),t({title:"Payment Sent",description:`Payment ${((b=p.payment)==null?void 0:b.paymentNumber)||""} recorded and AP updated`}),i(!1),r(null),l("")},onError:p=>{t({title:"Failed to make payment",description:p.message,variant:"destructive"})}}),x=p=>{r(p);const b=p.amountDue??p.total??0;l(String(b)),i(!0)},w=()=>{if(!s||!o)return;if(!s.vendorId){t({title:"Cannot make payment",description:"Invoice is missing vendor information",variant:"destructive"});return}const p=parseFloat(o);if(isNaN(p)||p<=0){t({title:"Invalid amount",description:"Please enter a valid payment amount greater than zero",variant:"destructive"});return}const b=Number(s.amountDue??s.total??0);if(p>b){t({title:"Invalid amount",description:`Payment cannot exceed balance due (Rp ${b.toLocaleString()})`,variant:"destructive"});return}j.mutate({vendorId:s.vendorId,invoiceIds:[s.id],amount:p})},g=[{key:"invoiceNumber",header:"Invoice #",sortable:!0},{key:"vendorName",header:"Vendor",sortable:!0},{key:"invoiceDate",header:"Invoice Date",sortable:!0,render:p=>p.invoiceDate?new Date(p.invoiceDate).toLocaleDateString():"-"},{key:"dueDate",header:"Due Date",sortable:!0,render:p=>p.dueDate?new Date(p.dueDate).toLocaleDateString():"-"},{key:"status",header:"Status",render:p=>n.jsx(Je,{status:p.status})},{key:"total",header:"Amount",sortable:!0,className:"text-right",render:p=>`Rp ${Number(p.total??0).toLocaleString()}`},{key:"amountDue",header:"Balance",sortable:!0,className:"text-right",render:p=>`Rp ${Number(p.amountDue??0).toLocaleString()}`},{key:"actions",header:"",className:"text-right",render:p=>n.jsx("div",{className:"flex justify-end gap-1",onClick:b=>b.stopPropagation(),children:p.status!=="paid"&&n.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>x(p),disabled:j.isPending,"data-testid":`button-pay-${p.id}`,children:[n.jsx(vd,{className:"h-4 w-4 mr-1"}),"Pay"]})})}],h=()=>{if(m.length===0){t({title:"No data to export",variant:"destructive"});return}ka(m.map(p=>({invoiceNumber:p.invoiceNumber,vendor:p.vendorName,invoiceDate:new Date(p.invoiceDate).toLocaleDateString("id-ID"),dueDate:p.dueDate?new Date(p.dueDate).toLocaleDateString("id-ID"):"",total:p.total,paid:p.amountPaid,due:p.amountDue,status:p.status})),[{key:"invoiceNumber",label:"Invoice Number"},{key:"vendor",label:"Vendor"},{key:"invoiceDate",label:"Invoice Date"},{key:"dueDate",label:"Due Date"},{key:"total",label:"Total (IDR)"},{key:"paid",label:"Amount Paid (IDR)"},{key:"due",label:"Amount Due (IDR)"},{key:"status",label:"Status"}],"accounts_payable"),t({title:"Accounts Payable exported successfully"})};return d?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(an,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs("div",{children:[n.jsx(St,{title:"Accounts Payable",description:"Track vendor invoices and payments",actions:n.jsxs(D,{variant:"outline",onClick:h,"data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]})}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[n.jsx(Ot,{title:"Total Payable",value:`Rp ${v.toLocaleString()}`,icon:Cn}),n.jsx(Ot,{title:"Invoices Pending",value:y.length,icon:er}),n.jsx(Ot,{title:"Vendors",value:f.length,icon:Es}),n.jsx(Ot,{title:"This Month",value:m.filter(p=>{const b=new Date(p.invoiceDate||""),S=new Date;return b.getMonth()===S.getMonth()&&b.getFullYear()===S.getFullYear()}).length,icon:vd,subtitle:"invoices"})]}),n.jsxs(G,{className:"mb-6",children:[n.jsx(J,{children:n.jsx(ee,{className:"text-base",children:"Summary by Vendor"})}),n.jsx(Y,{children:n.jsxs("div",{className:"space-y-3",children:[Array.from(new Set(y.map(p=>p.vendorId))).slice(0,5).map(p=>{var T;const b=y.filter(k=>k.vendorId===p),S=b.reduce((k,A)=>k+Number(A.amountDue??0),0),N=((T=b[0])==null?void 0:T.vendorName)||"Unknown";return n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:N}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.length," invoice(s)"]})]}),n.jsxs("p",{className:"font-semibold",children:["Rp ",S.toLocaleString()]})]},p)}),y.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No unpaid invoices"})]})})]}),n.jsx(Wt,{data:y,columns:g,searchKey:"vendorName",searchPlaceholder:"Search invoices..."}),n.jsx(Ye,{open:a,onOpenChange:i,children:n.jsxs(He,{children:[n.jsxs(Ke,{children:[n.jsx(Qe,{children:"Make Payment"}),n.jsxs(rn,{children:["Record payment for invoice ",s==null?void 0:s.invoiceNumber]})]}),s&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Vendor:"}),n.jsx("span",{children:s.vendorName})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Invoice Total:"}),n.jsxs("span",{children:["Rp ",Number(s.total??0).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Balance Due:"}),n.jsxs("span",{className:"font-semibold",children:["Rp ",Number(s.amountDue??0).toLocaleString()]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"amount",children:"Payment Amount"}),n.jsx(re,{id:"amount",type:"number",value:o,onChange:p=>l(p.target.value),placeholder:"Enter payment amount","data-testid":"input-payment-amount"})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(D,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),n.jsx(D,{onClick:w,disabled:j.isPending||!o,"data-testid":"button-confirm-payment",children:j.isPending?n.jsxs(n.Fragment,{children:[n.jsx(an,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(vd,{className:"h-4 w-4 mr-2"}),"Send Payment"]})})]})]})]})})]})}function x3(){const{activeCompany:e}=gi(),{toast:t}=Vt(),[s,r]=u.useState(null),[a,i]=u.useState(!1),[o,l]=u.useState(!1),[c,d]=u.useState(null),[f,m]=u.useState({name:"",email:"",department:"",position:"",status:"active"}),{data:y=[],isLoading:v}=jt({queryKey:["/api/companies",e==null?void 0:e.id,"employees"],enabled:!!(e!=null&&e.id)}),j=Rt({mutationFn:async A=>{const C=`E${String(Date.now()).slice(-6)}`;return Gt("POST",`/api/companies/${e==null?void 0:e.id}/employees`,{...A,employeeCode:C,companyId:e==null?void 0:e.id})},onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/companies",e==null?void 0:e.id,"employees"]}),t({title:"Employee created successfully"}),i(!1),g()},onError:()=>{t({title:"Failed to create employee",variant:"destructive"})}}),x=Rt({mutationFn:async({id:A,data:C})=>Gt("PATCH",`/api/companies/${e==null?void 0:e.id}/employees/${A}`,C),onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/companies",e==null?void 0:e.id,"employees"]}),t({title:"Employee updated successfully"}),i(!1),g()},onError:()=>{t({title:"Failed to update employee",variant:"destructive"})}}),w=Rt({mutationFn:async A=>Gt("DELETE",`/api/companies/${e==null?void 0:e.id}/employees/${A}`),onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/companies",e==null?void 0:e.id,"employees"]}),t({title:"Employee deleted successfully"})},onError:()=>{t({title:"Failed to delete employee",variant:"destructive"})}}),g=()=>{m({name:"",email:"",department:"",position:"",status:"active"}),d(null)},h=A=>{A?(d(A),m({name:A.name,email:A.email||"",department:A.department||"",position:A.position||"",status:A.status||"active"})):g(),i(!0)},p=A=>{A.preventDefault(),c?x.mutate({id:c.id,data:f}):j.mutate(f)},b=A=>{r(A),l(!0)},S=A=>{w.mutate(A)},N=A=>A.split(" ").map(C=>C[0]).join("").toUpperCase().slice(0,2),T=[{key:"name",header:"Employee",sortable:!0,render:A=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Jl,{className:"h-8 w-8",children:n.jsx(ec,{className:"bg-primary/10 text-primary text-xs",children:N(A.name)})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:A.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:A.email})]})]})},{key:"department",header:"Department",sortable:!0},{key:"position",header:"Position",sortable:!0},{key:"status",header:"Status",render:A=>n.jsx(Je,{status:A.status})},{key:"hireDate",header:"Hire Date",sortable:!0,render:A=>A.hireDate?new Date(A.hireDate).toLocaleDateString():"-"},{key:"actions",header:"",className:"text-right",render:A=>n.jsxs("div",{className:"flex justify-end gap-1",onClick:C=>C.stopPropagation(),children:[n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>b(A),"data-testid":`button-view-${A.id}`,children:n.jsx(Gn,{className:"h-4 w-4"})}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>h(A),"data-testid":`button-edit-${A.id}`,children:n.jsx(ps,{className:"h-4 w-4"})}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>S(A.id),disabled:w.isPending,"data-testid":`button-delete-${A.id}`,children:n.jsx(gn,{className:"h-4 w-4"})})]})}],k=()=>{if(y.length===0){t({title:"No data to export",variant:"destructive"});return}ka(y.map(A=>({code:A.employeeCode,name:A.name,email:A.email||"",department:A.department||"",position:A.position||"",hireDate:A.hireDate?new Date(A.hireDate).toLocaleDateString("id-ID"):"",salary:A.salary,status:A.status})),[{key:"code",label:"Employee Code"},{key:"name",label:"Name"},{key:"email",label:"Email"},{key:"department",label:"Department"},{key:"position",label:"Position"},{key:"hireDate",label:"Hire Date"},{key:"salary",label:"Base Salary (IDR)"},{key:"status",label:"Status"}],"employees"),t({title:"Employees exported successfully"})};return v?n.jsxs("div",{className:"space-y-4",children:[n.jsx(St,{title:"Employees",description:"Manage employee directory"}),n.jsx("div",{className:"space-y-2",children:[1,2,3].map(A=>n.jsx(Ux,{className:"h-12 w-full"},A))})]}):n.jsxs("div",{children:[n.jsx(St,{title:"Employees",description:"Manage employee directory",actions:n.jsxs(n.Fragment,{children:[n.jsxs(D,{variant:"outline",onClick:k,"data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(D,{onClick:()=>h(),"data-testid":"button-new-employee",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"New Employee"]})]})}),n.jsx(Wt,{data:y,columns:T,searchKey:"name",searchPlaceholder:"Search employees...",onRowClick:b}),n.jsx(Ye,{open:a,onOpenChange:i,children:n.jsxs(He,{className:"max-w-lg",children:[n.jsxs(Ke,{children:[n.jsx(Qe,{children:c?"Edit Employee":"New Employee"}),n.jsx(rn,{children:c?"Update the employee details below.":"Add a new employee to the directory."})]}),n.jsxs("form",{onSubmit:p,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"name",children:"Full Name *"}),n.jsx(re,{id:"name",value:f.name,onChange:A=>m({...f,name:A.target.value}),required:!0,"data-testid":"input-employee-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"email",children:"Email"}),n.jsx(re,{id:"email",type:"email",value:f.email,onChange:A=>m({...f,email:A.target.value}),"data-testid":"input-employee-email"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"department",children:"Department"}),n.jsx(re,{id:"department",value:f.department,onChange:A=>m({...f,department:A.target.value}),"data-testid":"input-employee-department"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"position",children:"Position"}),n.jsx(re,{id:"position",value:f.position,onChange:A=>m({...f,position:A.target.value}),"data-testid":"input-employee-position"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"status",children:"Status"}),n.jsxs(Pe,{value:f.status,onValueChange:A=>m({...f,status:A}),children:[n.jsx(Se,{"data-testid":"select-employee-status",children:n.jsx(Ee,{placeholder:"Select status"})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"active",children:"Active"}),n.jsx(Z,{value:"on-leave",children:"On Leave"}),n.jsx(Z,{value:"inactive",children:"Inactive"}),n.jsx(Z,{value:"terminated",children:"Terminated"})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel",children:"Cancel"}),n.jsx(D,{type:"submit",disabled:!f.name||j.isPending||x.isPending,"data-testid":"button-save-employee",children:j.isPending||x.isPending?"Saving...":c?"Update":"Create"})]})]})]})}),n.jsx(Ye,{open:o,onOpenChange:l,children:n.jsxs(He,{className:"max-w-lg",children:[n.jsxs(Ke,{children:[n.jsx(Qe,{children:"Employee Details"}),n.jsxs(rn,{children:["View employee information for ",s==null?void 0:s.name]})]}),s&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Jl,{className:"h-16 w-16",children:n.jsx(ec,{className:"bg-primary/10 text-primary text-xl",children:N(s.name)})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold","data-testid":"text-employee-name",children:s.name}),n.jsx("p",{className:"text-muted-foreground",children:s.position||"No position"}),n.jsx(Je,{status:s.status})]})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-3",children:n.jsx(ee,{className:"text-base",children:"Contact Information"})}),n.jsxs(Y,{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Email"}),n.jsx("span",{"data-testid":"text-employee-email",children:s.email||"-"})]}),n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Phone"}),n.jsx("span",{children:s.phone||"-"})]})]})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-3",children:n.jsx(ee,{className:"text-base",children:"Employment Details"})}),n.jsxs(Y,{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Employee Code"}),n.jsx("span",{children:s.employeeCode})]}),n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Department"}),n.jsx("span",{children:s.department||"-"})]}),n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Hire Date"}),n.jsx("span",{"data-testid":"text-employee-hire-date",children:s.hireDate?new Date(s.hireDate).toLocaleDateString():"-"})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(D,{variant:"outline",onClick:()=>l(!1),"data-testid":"button-close-detail",children:"Close"}),n.jsx(D,{onClick:()=>{l(!1),h(s)},"data-testid":"button-edit-from-detail",children:"Edit"})]})]})]})})]})}function g3(){const{activeCompany:e}=gi(),[t,s]=u.useState(FD),[r,a]=u.useState(new Date().toISOString().split("T")[0]),i=t.filter(j=>j.status==="present").length,o=t.filter(j=>j.status==="on-leave").length,l=t.reduce((j,x)=>j+x.hours,0),{data:c=[],isLoading:d}=jt({queryKey:["/api/companies",e==null?void 0:e.id,"employees"],enabled:!!(e!=null&&e.id)}),f=j=>{const x=new Date,w=`${String(x.getHours()).padStart(2,"0")}:${String(x.getMinutes()).padStart(2,"0")}`;s(t.map(g=>g.id===j?{...g,checkIn:w,status:"present"}:g)),console.log("Checked in:",j,w)},m=j=>{const x=new Date,w=`${String(x.getHours()).padStart(2,"0")}:${String(x.getMinutes()).padStart(2,"0")}`,g=t.find(h=>h.id===j);if(g!=null&&g.checkIn){const h=g.checkIn.split(":"),p=parseInt(h[0]),b=parseInt(h[1]),S=x.getHours()-p+(x.getMinutes()-b)/60;s(t.map(N=>N.id===j?{...N,checkOut:w??"",checkIn:N.checkIn??"",hours:Math.round(S*100)/100}:N)),console.log("Checked out:",j,w)}},y=[{key:"employeeName",header:"Employee",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"checkIn",header:"Check In",render:j=>j.checkIn||"-"},{key:"checkOut",header:"Check Out",render:j=>j.checkOut||"-"},{key:"hours",header:"Hours",sortable:!0,className:"text-right",render:j=>j.hours>0?`${j.hours}h`:"-"},{key:"status",header:"Status",render:j=>n.jsx(Je,{status:j.status})},{key:"actions",header:"",className:"text-right",render:j=>n.jsxs("div",{className:"flex justify-end gap-1",onClick:x=>x.stopPropagation(),children:[!j.checkIn&&j.status!=="on-leave"&&n.jsx(D,{size:"sm",onClick:()=>f(j.id),"data-testid":`button-checkin-${j.id}`,children:"Check In"}),j.checkIn&&!j.checkOut&&n.jsx(D,{size:"sm",variant:"outline",onClick:()=>m(j.id),"data-testid":`button-checkout-${j.id}`,children:"Check Out"})]})}],v=()=>{t.length!==0&&ka(t.map(j=>({employee:j.employeeName,date:j.date,checkIn:j.checkIn||"",checkOut:j.checkOut||"",hours:j.hours,status:j.status})),[{key:"employee",label:"Employee"},{key:"date",label:"Date"},{key:"checkIn",label:"Check In"},{key:"checkOut",label:"Check Out"},{key:"hours",label:"Hours"},{key:"status",label:"Status"}],"attendance")};return n.jsxs("div",{children:[n.jsx(St,{title:"Attendance",description:"Track daily attendance",actions:n.jsxs(D,{variant:"outline",onClick:v,"data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]})}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[n.jsx(Ot,{title:"Total Employees",value:t.length,icon:nr}),n.jsx(Ot,{title:"Present Today",value:i,icon:uN}),n.jsx(Ot,{title:"On Leave",value:o,icon:xE}),n.jsx(Ot,{title:"Total Hours",value:`${l.toFixed(1)}h`,icon:er})]}),n.jsx("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx(K,{htmlFor:"date",children:"Date"}),n.jsx(re,{id:"date",type:"date",value:r,onChange:j=>a(j.target.value),className:"w-40","data-testid":"input-date"})]})}),n.jsx(Wt,{data:t,columns:y,searchKey:"employeeName",searchPlaceholder:"Search employees..."})]})}function y3(){const[e,t]=u.useState($1),[s,r]=u.useState(!1),[a,i]=u.useState({employeeId:"",type:"vacation",startDate:"",endDate:"",reason:""}),o=f=>{f.preventDefault();const m=qf.find(w=>w.id===a.employeeId),y=new Date(a.startDate),v=new Date(a.endDate),j=Math.ceil((v.getTime()-y.getTime())/(1e3*60*60*24))+1,x={id:`LR-${String(e.length+1).padStart(3,"0")}`,employeeId:a.employeeId,employeeName:(m==null?void 0:m.name)||"",type:a.type,startDate:a.startDate,endDate:a.endDate,status:"pending",days:j};t([x,...e]),console.log("Created leave request:",x),r(!1),i({employeeId:"",type:"vacation",startDate:"",endDate:"",reason:""})},l=f=>{t(e.map(m=>m.id===f?{...m,status:"approved"}:m)),console.log("Approved leave request:",f)},c=f=>{t(e.map(m=>m.id===f?{...m,status:"rejected"}:m)),console.log("Rejected leave request:",f)},d=[{key:"id",header:"Request #",sortable:!0},{key:"employeeName",header:"Employee",sortable:!0},{key:"type",header:"Type",render:f=>n.jsx(Je,{status:f.type})},{key:"startDate",header:"Start Date",sortable:!0},{key:"endDate",header:"End Date",sortable:!0},{key:"days",header:"Days",className:"text-center"},{key:"status",header:"Status",render:f=>n.jsx(Je,{status:f.status})},{key:"actions",header:"",className:"text-right",render:f=>n.jsx("div",{className:"flex justify-end gap-1",onClick:m=>m.stopPropagation(),children:f.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>l(f.id),className:"text-green-600 hover:text-green-700","data-testid":`button-approve-${f.id}`,children:n.jsx(yr,{className:"h-4 w-4"})}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>c(f.id),className:"text-red-600 hover:text-red-700","data-testid":`button-reject-${f.id}`,children:n.jsx(lN,{className:"h-4 w-4"})})]})})}];return n.jsxs("div",{children:[n.jsx(St,{title:"Leave Requests",description:"Manage employee leave requests",actions:n.jsxs(n.Fragment,{children:[n.jsxs(D,{variant:"outline","data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(D,{onClick:()=>r(!0),"data-testid":"button-new-request",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"New Request"]})]})}),n.jsx(Wt,{data:e,columns:d,searchKey:"employeeName",searchPlaceholder:"Search requests..."}),n.jsx(Ye,{open:s,onOpenChange:r,children:n.jsxs(He,{className:"max-w-lg",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:"New Leave Request"})}),n.jsxs("form",{onSubmit:o,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"employee",children:"Employee *"}),n.jsxs(Pe,{value:a.employeeId,onValueChange:f=>i({...a,employeeId:f}),children:[n.jsx(Se,{"data-testid":"select-employee",children:n.jsx(Ee,{placeholder:"Select employee"})}),n.jsx(Ce,{children:qf.map(f=>n.jsx(Z,{value:f.id,children:f.name},f.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"type",children:"Leave Type *"}),n.jsxs(Pe,{value:a.type,onValueChange:f=>i({...a,type:f}),children:[n.jsx(Se,{"data-testid":"select-type",children:n.jsx(Ee,{})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"vacation",children:"Vacation"}),n.jsx(Z,{value:"sick",children:"Sick Leave"}),n.jsx(Z,{value:"personal",children:"Personal"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"startDate",children:"Start Date *"}),n.jsx(re,{id:"startDate",type:"date",value:a.startDate,onChange:f=>i({...a,startDate:f.target.value}),required:!0,"data-testid":"input-start-date"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"endDate",children:"End Date *"}),n.jsx(re,{id:"endDate",type:"date",value:a.endDate,onChange:f=>i({...a,endDate:f.target.value}),required:!0,"data-testid":"input-end-date"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"reason",children:"Reason"}),n.jsx(ga,{id:"reason",value:a.reason,onChange:f=>i({...a,reason:f.target.value}),rows:2,"data-testid":"textarea-reason"})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>r(!1),"data-testid":"button-cancel",children:"Cancel"}),n.jsx(D,{type:"submit",disabled:!a.employeeId||!a.startDate||!a.endDate,"data-testid":"button-submit",children:"Submit Request"})]})]})]})})]})}const v3=[{id:"PR-2024-12",period:"December 2024",date:"2024-12-31",status:"pending",totalGross:45600,totalNet:34200,employees:5},{id:"PR-2024-11",period:"November 2024",date:"2024-11-30",status:"paid",totalGross:45600,totalNet:34200,employees:5},{id:"PR-2024-10",period:"October 2024",date:"2024-10-31",status:"paid",totalGross:44800,totalNet:33600,employees:5}],Vn={employee:qf[0],basicSalary:8500,allowances:500,overtime:200,grossPay:9200,taxDeduction:1840,socialSecurity:690,healthInsurance:230,totalDeductions:2760,netPay:6440};function j3(){const[e]=u.useState(v3),[t,s]=u.useState(null),[r,a]=u.useState(!1),i=c=>{s(c),a(!0)},o=()=>{window.print(),console.log("Print payslip")},l=[{key:"id",header:"Run ID",sortable:!0},{key:"period",header:"Period",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"employees",header:"Employees",className:"text-center"},{key:"totalGross",header:"Gross Pay",sortable:!0,className:"text-right",render:c=>`$${c.totalGross.toLocaleString()}`},{key:"totalNet",header:"Net Pay",sortable:!0,className:"text-right",render:c=>`$${c.totalNet.toLocaleString()}`},{key:"status",header:"Status",render:c=>n.jsx(Je,{status:c.status})},{key:"actions",header:"",className:"text-right",render:c=>n.jsx("div",{className:"flex justify-end gap-1",onClick:d=>d.stopPropagation(),children:n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>i(c),"data-testid":`button-view-${c.id}`,children:n.jsx(Gn,{className:"h-4 w-4"})})})}];return n.jsxs("div",{children:[n.jsx(St,{title:"Payroll",description:"Manage payroll runs and payslips",actions:n.jsxs(D,{variant:"outline","data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]})}),n.jsx(Wt,{data:e,columns:l,searchKey:"period",searchPlaceholder:"Search payroll runs...",onRowClick:i}),n.jsx(Ye,{open:r,onOpenChange:a,children:n.jsxs(He,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:"Payslip Details"})}),t&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(G,{className:"print:shadow-none",children:n.jsxs(Y,{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-primary text-primary-foreground font-bold",children:"U"}),n.jsx("span",{className:"font-bold text-lg",children:"Unanza"})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["123 Business Street",n.jsx("br",{}),"City, State 12345"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("h2",{className:"text-xl font-bold",children:"PAYSLIP"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:t.period})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6 p-4 bg-muted/30 rounded-md",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Employee"}),n.jsx("p",{className:"font-medium",children:Vn.employee.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:Vn.employee.position})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Employee ID"}),n.jsx("p",{className:"font-medium",children:Vn.employee.id}),n.jsx("p",{className:"text-sm text-muted-foreground",children:Vn.employee.department})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Earnings"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Basic Salary"}),n.jsxs("span",{children:["$",Vn.basicSalary.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Allowances"}),n.jsxs("span",{children:["$",Vn.allowances.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Overtime"}),n.jsxs("span",{children:["$",Vn.overtime.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[n.jsx("span",{children:"Gross Pay"}),n.jsxs("span",{children:["$",Vn.grossPay.toLocaleString()]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Deductions"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Income Tax"}),n.jsxs("span",{children:["$",Vn.taxDeduction.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Social Security"}),n.jsxs("span",{children:["$",Vn.socialSecurity.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Health Insurance"}),n.jsxs("span",{children:["$",Vn.healthInsurance.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[n.jsx("span",{children:"Total Deductions"}),n.jsxs("span",{children:["$",Vn.totalDeductions.toLocaleString()]})]})]})]})]}),n.jsx("div",{className:"mt-6 p-4 bg-primary/10 rounded-md",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold text-lg",children:"Net Pay"}),n.jsxs("span",{className:"font-bold text-2xl","data-testid":"text-net-pay",children:["$",Vn.netPay.toLocaleString()]})]})})]})}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsxs(D,{variant:"outline",onClick:o,"data-testid":"button-print",children:[n.jsx(qu,{className:"h-4 w-4 mr-2"}),"Print"]}),n.jsxs(D,{variant:"outline","data-testid":"button-download",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Download PDF"]})]})]})]})})]})}var kc=e=>e.type==="checkbox",Ma=e=>e instanceof Date,Dn=e=>e==null;const vC=e=>typeof e=="object";var Yt=e=>!Dn(e)&&!Array.isArray(e)&&vC(e)&&!Ma(e),jC=e=>Yt(e)&&e.target?kc(e.target)?e.target.checked:e.target.value:e,b3=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,bC=(e,t)=>e.has(b3(t)),w3=e=>{const t=e.constructor&&e.constructor.prototype;return Yt(t)&&t.hasOwnProperty("isPrototypeOf")},hg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function qt(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(hg&&(e instanceof Blob||t))return e;const s=Array.isArray(e);if(!s&&!(Yt(e)&&w3(e)))return e;const r=s?[]:Object.create(Object.getPrototypeOf(e));for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=qt(e[a]));return r}var bm=e=>/^\w*$/.test(e),Et=e=>e===void 0,fg=e=>Array.isArray(e)?e.filter(Boolean):[],pg=e=>fg(e.replace(/["|']|\]/g,"").split(/\.|\[/)),pe=(e,t,s)=>{if(!t||!Yt(e))return s;const r=(bm(t)?[t]:pg(t)).reduce((a,i)=>Dn(a)?a:a[i],e);return Et(r)||r===e?Et(e[t])?s:e[t]:r},Un=e=>typeof e=="boolean",Nn=e=>typeof e=="function",xt=(e,t,s)=>{let r=-1;const a=bm(t)?[t]:pg(t),i=a.length,o=i-1;for(;++r<i;){const l=a[r];let c=s;if(r!==o){const d=e[l];c=Yt(d)||Array.isArray(d)?d:isNaN(+a[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const fu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ks={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},lr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},xg=De.createContext(null);xg.displayName="HookFormContext";const wm=()=>De.useContext(xg),N3=e=>{const{children:t,...s}=e;return De.createElement(xg.Provider,{value:s},t)};var wC=(e,t,s,r=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ks.all&&(t._proxyFormState[o]=!r||ks.all),s&&(s[o]=!0),e[o]}});return a};const gg=typeof window<"u"?De.useLayoutEffect:De.useEffect;function S3(e){const t=wm(),{control:s=t.control,disabled:r,name:a,exact:i}=e||{},[o,l]=De.useState(s._formState),c=De.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return gg(()=>s._subscribe({name:a,formState:c.current,exact:i,callback:d=>{!r&&l({...s._formState,...d})}}),[a,r,i]),De.useEffect(()=>{c.current.isValid&&s._setValid(!0)},[s]),De.useMemo(()=>wC(o,s,c.current,!1),[o,s])}var Wn=e=>typeof e=="string",tp=(e,t,s,r,a)=>Wn(e)?(r&&t.watch.add(e),pe(s,e,a)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),pe(s,i))):(r&&(t.watchAll=!0),s),np=e=>Dn(e)||!vC(e);function Is(e,t,s=new WeakSet){if(np(e)||np(t))return Object.is(e,t);if(Ma(e)&&Ma(t))return Object.is(e.getTime(),t.getTime());const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const i of r){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Ma(o)&&Ma(l)||Yt(o)&&Yt(l)||Array.isArray(o)&&Array.isArray(l)?!Is(o,l,s):!Object.is(o,l))return!1}}return!0}function C3(e){const t=wm(),{control:s=t.control,name:r,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=De.useRef(a),d=De.useRef(l),f=De.useRef(void 0),m=De.useRef(s),y=De.useRef(r);d.current=l;const[v,j]=De.useState(()=>{const b=s._getWatch(r,c.current);return d.current?d.current(b):b}),x=De.useCallback(b=>{const S=tp(r,s._names,b||s._formValues,!1,c.current);return d.current?d.current(S):S},[s._formValues,s._names,r]),w=De.useCallback(b=>{if(!i){const S=tp(r,s._names,b||s._formValues,!1,c.current);if(d.current){const N=d.current(S);Is(N,f.current)||(j(N),f.current=N)}else j(S)}},[s._formValues,s._names,i,r]);gg(()=>((m.current!==s||!Is(y.current,r))&&(m.current=s,y.current=r,w()),s._subscribe({name:r,formState:{values:!0},exact:o,callback:b=>{w(b.values)}})),[s,o,r,w]),De.useEffect(()=>s._removeUnmounted());const g=m.current!==s,h=y.current,p=De.useMemo(()=>{if(i)return null;const b=!g&&!Is(h,r);return g||b?x():null},[i,g,r,h,x]);return p!==null?p:v}function k3(e){const t=wm(),{name:s,disabled:r,control:a=t.control,shouldUnregister:i,defaultValue:o,exact:l=!0}=e,c=bC(a._names.array,s),d=De.useMemo(()=>pe(a._formValues,s,pe(a._defaultValues,s,o)),[a,s,o]),f=C3({control:a,name:s,defaultValue:d,exact:l}),m=S3({control:a,name:s,exact:l}),y=De.useRef(e),v=De.useRef(void 0),j=De.useRef(a.register(s,{...e.rules,value:f,...Un(e.disabled)?{disabled:e.disabled}:{}}));y.current=e;const x=De.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!pe(m.errors,s)},isDirty:{enumerable:!0,get:()=>!!pe(m.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!pe(m.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!pe(m.validatingFields,s)},error:{enumerable:!0,get:()=>pe(m.errors,s)}}),[m,s]),w=De.useCallback(b=>j.current.onChange({target:{value:jC(b),name:s},type:fu.CHANGE}),[s]),g=De.useCallback(()=>j.current.onBlur({target:{value:pe(a._formValues,s),name:s},type:fu.BLUR}),[s,a._formValues]),h=De.useCallback(b=>{const S=pe(a._fields,s);S&&S._f&&b&&(S._f.ref={focus:()=>Nn(b.focus)&&b.focus(),select:()=>Nn(b.select)&&b.select(),setCustomValidity:N=>Nn(b.setCustomValidity)&&b.setCustomValidity(N),reportValidity:()=>Nn(b.reportValidity)&&b.reportValidity()})},[a._fields,s]),p=De.useMemo(()=>({name:s,value:f,...Un(r)||m.disabled?{disabled:m.disabled||r}:{},onChange:w,onBlur:g,ref:h}),[s,r,m.disabled,w,g,h,f]);return De.useEffect(()=>{const b=a._options.shouldUnregister||i,S=v.current;S&&S!==s&&!c&&a.unregister(S),a.register(s,{...y.current.rules,...Un(y.current.disabled)?{disabled:y.current.disabled}:{}});const N=(T,k)=>{const A=pe(a._fields,T);A&&A._f&&(A._f.mount=k)};if(N(s,!0),b){const T=qt(pe(a._options.defaultValues,s,y.current.defaultValue));xt(a._defaultValues,s,T),Et(pe(a._formValues,s))&&xt(a._formValues,s,T)}return!c&&a.register(s),v.current=s,()=>{(c?b&&!a._state.action:b)?a.unregister(s):N(s,!1)}},[s,a,c,i]),De.useEffect(()=>{a._setDisabledField({disabled:r,name:s})},[r,s,a]),De.useMemo(()=>({field:p,formState:m,fieldState:x}),[p,m,x])}const I3=e=>e.render(k3(e));var NC=(e,t,s,r,a)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[r]:a||!0}}:{},kl=e=>Array.isArray(e)?e:[e],Xv=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function SC(e,t){const s={};for(const r in e)if(e.hasOwnProperty(r)){const a=e[r],i=t[r];if(a&&Yt(a)&&i){const o=SC(a,i);Yt(o)&&(s[r]=o)}else e[r]&&(s[r]=i)}return s}var jn=e=>Yt(e)&&!Object.keys(e).length,yg=e=>e.type==="file",pu=e=>{if(!hg)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},CC=e=>e.type==="select-multiple",vg=e=>e.type==="radio",T3=e=>vg(e)||kc(e),wh=e=>pu(e)&&e.isConnected;function P3(e,t){const s=t.slice(0,-1).length;let r=0;for(;r<s;)e=Et(e)?r++:e[t[r++]];return e}function E3(e){for(const t in e)if(e.hasOwnProperty(t)&&!Et(e[t]))return!1;return!0}function Ht(e,t){const s=Array.isArray(t)?t:bm(t)?[t]:pg(t),r=s.length===1?e:P3(e,s),a=s.length-1,i=s[a];return r&&delete r[i],a!==0&&(Yt(r)&&jn(r)||Array.isArray(r)&&E3(r))&&Ht(e,s.slice(0,-1)),e}var A3=e=>{for(const t in e)if(Nn(e[t]))return!0;return!1};function kC(e){return Array.isArray(e)||Yt(e)&&!A3(e)}function sp(e,t={}){for(const s in e){const r=e[s];kC(r)?(t[s]=Array.isArray(r)?[]:{},sp(r,t[s])):Et(r)||(t[s]=!0)}return t}function Ii(e,t,s){s||(s=sp(t));for(const r in e){const a=e[r];if(kC(a))Et(t)||np(s[r])?s[r]=sp(a,Array.isArray(a)?[]:{}):Ii(a,Dn(t)?{}:t[r],s[r]);else{const i=t[r];s[r]=!Is(a,i)}}return s}const Jv={value:!1,isValid:!1},e0={value:!0,isValid:!0};var IC=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Et(e[0].attributes.value)?Et(e[0].value)||e[0].value===""?e0:{value:e[0].value,isValid:!0}:e0:Jv}return Jv},TC=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:r})=>Et(e)?e:t?e===""?NaN:e&&+e:s&&Wn(e)?new Date(e):r?r(e):e;const t0={isValid:!1,value:null};var PC=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,t0):t0;function n0(e){const t=e.ref;return yg(t)?t.files:vg(t)?PC(e.refs).value:CC(t)?[...t.selectedOptions].map(({value:s})=>s):kc(t)?IC(e.refs).value:TC(Et(t.value)?e.ref.value:t.value,e)}var R3=(e,t,s,r)=>{const a={};for(const i of e){const o=pe(t,i);o&&xt(a,i,o._f)}return{criteriaMode:s,names:[...e],fields:a,shouldUseNativeValidation:r}},xu=e=>e instanceof RegExp,rl=e=>Et(e)?e:xu(e)?e.source:Yt(e)?xu(e.value)?e.value.source:e.value:e,s0=e=>({isOnSubmit:!e||e===ks.onSubmit,isOnBlur:e===ks.onBlur,isOnChange:e===ks.onChange,isOnAll:e===ks.all,isOnTouch:e===ks.onTouched});const r0="AsyncFunction";var _3=e=>!!e&&!!e.validate&&!!(Nn(e.validate)&&e.validate.constructor.name===r0||Yt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===r0)),D3=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),a0=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Il=(e,t,s,r)=>{for(const a of s||Object.keys(e)){const i=pe(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Il(l,t))break}else if(Yt(l)&&Il(l,t))break}}};function i0(e,t,s){const r=pe(e,s);if(r||bm(s))return{error:r,name:s};const a=s.split(".");for(;a.length;){const i=a.join("."),o=pe(t,i),l=pe(e,i);if(o&&!Array.isArray(o)&&s!==i)return{name:s};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:s}}var O3=(e,t,s,r)=>{s(e);const{name:a,...i}=e;return jn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||ks.all))},L3=(e,t,s)=>!e||!t||e===t||kl(e).some(r=>r&&(s?r===t:r.startsWith(t)||t.startsWith(r))),M3=(e,t,s,r,a)=>a.isOnAll?!1:!s&&a.isOnTouch?!(t||e):(s?r.isOnBlur:a.isOnBlur)?!e:(s?r.isOnChange:a.isOnChange)?e:!0,F3=(e,t)=>!fg(pe(e,t)).length&&Ht(e,t),$3=(e,t,s)=>{const r=kl(pe(e,s));return xt(r,"root",t[s]),xt(e,s,r),e};function o0(e,t,s="validate"){if(Wn(e)||Array.isArray(e)&&e.every(Wn)||Un(e)&&!e)return{type:s,message:Wn(e)?e:"",ref:t}}var Ci=e=>Yt(e)&&!xu(e)?e:{value:e,message:""},l0=async(e,t,s,r,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:f,min:m,max:y,pattern:v,validate:j,name:x,valueAsNumber:w,mount:g}=e._f,h=pe(s,x);if(!g||t.has(x))return{};const p=l?l[0]:o,b=$=>{a&&p.reportValidity&&(p.setCustomValidity(Un($)?"":$||""),p.reportValidity())},S={},N=vg(o),T=kc(o),k=N||T,A=(w||yg(o))&&Et(o.value)&&Et(h)||pu(o)&&o.value===""||h===""||Array.isArray(h)&&!h.length,C=NC.bind(null,x,r,S),I=($,B,E,P=lr.maxLength,L=lr.minLength)=>{const ie=$?B:E;S[x]={type:$?P:L,message:ie,ref:o,...C($?P:L,ie)}};if(i?!Array.isArray(h)||!h.length:c&&(!k&&(A||Dn(h))||Un(h)&&!h||T&&!IC(l).isValid||N&&!PC(l).isValid)){const{value:$,message:B}=Wn(c)?{value:!!c,message:c}:Ci(c);if($&&(S[x]={type:lr.required,message:B,ref:p,...C(lr.required,B)},!r))return b(B),S}if(!A&&(!Dn(m)||!Dn(y))){let $,B;const E=Ci(y),P=Ci(m);if(!Dn(h)&&!isNaN(h)){const L=o.valueAsNumber||h&&+h;Dn(E.value)||($=L>E.value),Dn(P.value)||(B=L<P.value)}else{const L=o.valueAsDate||new Date(h),ie=H=>new Date(new Date().toDateString()+" "+H),W=o.type=="time",U=o.type=="week";Wn(E.value)&&h&&($=W?ie(h)>ie(E.value):U?h>E.value:L>new Date(E.value)),Wn(P.value)&&h&&(B=W?ie(h)<ie(P.value):U?h<P.value:L<new Date(P.value))}if(($||B)&&(I(!!$,E.message,P.message,lr.max,lr.min),!r))return b(S[x].message),S}if((d||f)&&!A&&(Wn(h)||i&&Array.isArray(h))){const $=Ci(d),B=Ci(f),E=!Dn($.value)&&h.length>+$.value,P=!Dn(B.value)&&h.length<+B.value;if((E||P)&&(I(E,$.message,B.message),!r))return b(S[x].message),S}if(v&&!A&&Wn(h)){const{value:$,message:B}=Ci(v);if(xu($)&&!h.match($)&&(S[x]={type:lr.pattern,message:B,ref:o,...C(lr.pattern,B)},!r))return b(B),S}if(j){if(Nn(j)){const $=await j(h,s),B=o0($,p);if(B&&(S[x]={...B,...C(lr.validate,B.message)},!r))return b(B.message),S}else if(Yt(j)){let $={};for(const B in j){if(!jn($)&&!r)break;const E=o0(await j[B](h,s),p,B);E&&($={...E,...C(B,E.message)},b(E.message),r&&(S[x]=$))}if(!jn($)&&(S[x]={ref:p,...$},!r))return S}}return b(!0),S};const V3={mode:ks.onSubmit,reValidateMode:ks.onChange,shouldFocusError:!0};function z3(e={}){let t={...V3,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Nn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},a=Yt(t.defaultValues)||Yt(t.values)?qt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:qt(a),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={...f};let y={...m};const v={array:Xv(),state:Xv()},j=t.criteriaMode===ks.all,x=_=>V=>{clearTimeout(d),d=setTimeout(_,V)},w=async _=>{if(!o.keepIsValid&&!t.disabled&&(m.isValid||y.isValid||_)){let V;t.resolver?(V=jn((await k()).errors),g()):V=await C(r,!0),V!==s.isValid&&v.state.next({isValid:V})}},g=(_,V)=>{!t.disabled&&(m.isValidating||m.validatingFields||y.isValidating||y.validatingFields)&&((_||Array.from(l.mount)).forEach(Q=>{Q&&(V?xt(s.validatingFields,Q,V):Ht(s.validatingFields,Q))}),v.state.next({validatingFields:s.validatingFields,isValidating:!jn(s.validatingFields)}))},h=(_,V=[],Q,ge,ue=!0,ce=!0)=>{if(ge&&Q&&!t.disabled){if(o.action=!0,ce&&Array.isArray(pe(r,_))){const Ie=Q(pe(r,_),ge.argA,ge.argB);ue&&xt(r,_,Ie)}if(ce&&Array.isArray(pe(s.errors,_))){const Ie=Q(pe(s.errors,_),ge.argA,ge.argB);ue&&xt(s.errors,_,Ie),F3(s.errors,_)}if((m.touchedFields||y.touchedFields)&&ce&&Array.isArray(pe(s.touchedFields,_))){const Ie=Q(pe(s.touchedFields,_),ge.argA,ge.argB);ue&&xt(s.touchedFields,_,Ie)}(m.dirtyFields||y.dirtyFields)&&(s.dirtyFields=Ii(a,i)),v.state.next({name:_,isDirty:$(_,V),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else xt(i,_,V)},p=(_,V)=>{xt(s.errors,_,V),v.state.next({errors:s.errors})},b=_=>{s.errors=_,v.state.next({errors:s.errors,isValid:!1})},S=(_,V,Q,ge)=>{const ue=pe(r,_);if(ue){const ce=pe(i,_,Et(Q)?pe(a,_):Q);Et(ce)||ge&&ge.defaultChecked||V?xt(i,_,V?ce:n0(ue._f)):P(_,ce),o.mount&&!o.action&&w()}},N=(_,V,Q,ge,ue)=>{let ce=!1,Ie=!1;const ut={name:_};if(!t.disabled){if(!Q||ge){(m.isDirty||y.isDirty)&&(Ie=s.isDirty,s.isDirty=ut.isDirty=$(),ce=Ie!==ut.isDirty);const mt=Is(pe(a,_),V);Ie=!!pe(s.dirtyFields,_),mt?Ht(s.dirtyFields,_):xt(s.dirtyFields,_,!0),ut.dirtyFields=s.dirtyFields,ce=ce||(m.dirtyFields||y.dirtyFields)&&Ie!==!mt}if(Q){const mt=pe(s.touchedFields,_);mt||(xt(s.touchedFields,_,Q),ut.touchedFields=s.touchedFields,ce=ce||(m.touchedFields||y.touchedFields)&&mt!==Q)}ce&&ue&&v.state.next(ut)}return ce?ut:{}},T=(_,V,Q,ge)=>{const ue=pe(s.errors,_),ce=(m.isValid||y.isValid)&&Un(V)&&s.isValid!==V;if(t.delayError&&Q?(c=x(()=>p(_,Q)),c(t.delayError)):(clearTimeout(d),c=null,Q?xt(s.errors,_,Q):Ht(s.errors,_)),(Q?!Is(ue,Q):ue)||!jn(ge)||ce){const Ie={...ge,...ce&&Un(V)?{isValid:V}:{},errors:s.errors,name:_};s={...s,...Ie},v.state.next(Ie)}},k=async _=>(g(_,!0),await t.resolver(i,t.context,R3(_||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation))),A=async _=>{const{errors:V}=await k(_);if(g(_),_)for(const Q of _){const ge=pe(V,Q);ge?xt(s.errors,Q,ge):Ht(s.errors,Q)}else s.errors=V;return V},C=async(_,V,Q={valid:!0})=>{for(const ge in _){const ue=_[ge];if(ue){const{_f:ce,...Ie}=ue;if(ce){const ut=l.array.has(ce.name),mt=ue._f&&_3(ue._f);mt&&m.validatingFields&&g([ce.name],!0);const on=await l0(ue,l.disabled,i,j,t.shouldUseNativeValidation&&!V,ut);if(mt&&m.validatingFields&&g([ce.name]),on[ce.name]&&(Q.valid=!1,V||e.shouldUseNativeValidation))break;!V&&(pe(on,ce.name)?ut?$3(s.errors,on,ce.name):xt(s.errors,ce.name,on[ce.name]):Ht(s.errors,ce.name))}!jn(Ie)&&await C(Ie,V,Q)}}return Q.valid},I=()=>{for(const _ of l.unMount){const V=pe(r,_);V&&(V._f.refs?V._f.refs.every(Q=>!wh(Q)):!wh(V._f.ref))&&ke(_)}l.unMount=new Set},$=(_,V)=>!t.disabled&&(_&&V&&xt(i,_,V),!Is(q(),a)),B=(_,V,Q)=>tp(_,l,{...o.mount?i:Et(V)?a:Wn(_)?{[_]:V}:V},Q,V),E=_=>fg(pe(o.mount?i:a,_,t.shouldUnregister?pe(a,_,[]):[])),P=(_,V,Q={})=>{const ge=pe(r,_);let ue=V;if(ge){const ce=ge._f;ce&&(!ce.disabled&&xt(i,_,TC(V,ce)),ue=pu(ce.ref)&&Dn(V)?"":V,CC(ce.ref)?[...ce.ref.options].forEach(Ie=>Ie.selected=ue.includes(Ie.value)):ce.refs?kc(ce.ref)?ce.refs.forEach(Ie=>{(!Ie.defaultChecked||!Ie.disabled)&&(Array.isArray(ue)?Ie.checked=!!ue.find(ut=>ut===Ie.value):Ie.checked=ue===Ie.value||!!ue)}):ce.refs.forEach(Ie=>Ie.checked=Ie.value===ue):yg(ce.ref)?ce.ref.value="":(ce.ref.value=ue,ce.ref.type||v.state.next({name:_,values:qt(i)})))}(Q.shouldDirty||Q.shouldTouch)&&N(_,ue,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&H(_)},L=(_,V,Q)=>{for(const ge in V){if(!V.hasOwnProperty(ge))return;const ue=V[ge],ce=_+"."+ge,Ie=pe(r,ce);(l.array.has(_)||Yt(ue)||Ie&&!Ie._f)&&!Ma(ue)?L(ce,ue,Q):P(ce,ue,Q)}},ie=(_,V,Q={})=>{const ge=pe(r,_),ue=l.array.has(_),ce=qt(V);xt(i,_,ce),ue?(v.array.next({name:_,values:qt(i)}),(m.isDirty||m.dirtyFields||y.isDirty||y.dirtyFields)&&Q.shouldDirty&&v.state.next({name:_,dirtyFields:Ii(a,i),isDirty:$(_,ce)})):ge&&!ge._f&&!Dn(ce)?L(_,ce,Q):P(_,ce,Q),a0(_,l)?v.state.next({...s,name:_,values:qt(i)}):v.state.next({name:o.mount?_:void 0,values:qt(i)})},W=async _=>{o.mount=!0;const V=_.target;let Q=V.name,ge=!0;const ue=pe(r,Q),ce=mt=>{ge=Number.isNaN(mt)||Ma(mt)&&isNaN(mt.getTime())||Is(mt,pe(i,Q,mt))},Ie=s0(t.mode),ut=s0(t.reValidateMode);if(ue){let mt,on;const ar=V.type?n0(ue._f):jC(_),Vs=_.type===fu.BLUR||_.type===fu.FOCUS_OUT,km=!D3(ue._f)&&!t.resolver&&!pe(s.errors,Q)&&!ue._f.deps||M3(Vs,pe(s.touchedFields,Q),s.isSubmitted,ut,Ie),$o=a0(Q,l,Vs);xt(i,Q,ar),Vs?(!V||!V.readOnly)&&(ue._f.onBlur&&ue._f.onBlur(_),c&&c(0)):ue._f.onChange&&ue._f.onChange(_);const Vo=N(Q,ar,Vs),Im=!jn(Vo)||$o;if(!Vs&&v.state.next({name:Q,type:_.type,values:qt(i)}),km)return(m.isValid||y.isValid)&&(t.mode==="onBlur"?Vs&&w():Vs||w()),Im&&v.state.next({name:Q,...$o?{}:Vo});if(!Vs&&$o&&v.state.next({...s}),t.resolver){const{errors:zo}=await k([Q]);if(g([Q]),ce(ar),ge){const Tm=i0(s.errors,r,Q),ae=i0(zo,r,Tm.name||Q);mt=ae.error,Q=ae.name,on=jn(zo)}}else g([Q],!0),mt=(await l0(ue,l.disabled,i,j,t.shouldUseNativeValidation))[Q],g([Q]),ce(ar),ge&&(mt?on=!1:(m.isValid||y.isValid)&&(on=await C(r,!0)));ge&&(ue._f.deps&&(!Array.isArray(ue._f.deps)||ue._f.deps.length>0)&&H(ue._f.deps),T(Q,on,mt,Vo))}},U=(_,V)=>{if(pe(s.errors,V)&&_.focus)return _.focus(),1},H=async(_,V={})=>{let Q,ge;const ue=kl(_);if(t.resolver){const ce=await A(Et(_)?_:ue);Q=jn(ce),ge=_?!ue.some(Ie=>pe(ce,Ie)):Q}else _?(ge=(await Promise.all(ue.map(async ce=>{const Ie=pe(r,ce);return await C(Ie&&Ie._f?{[ce]:Ie}:Ie)}))).every(Boolean),!(!ge&&!s.isValid)&&w()):ge=Q=await C(r);return v.state.next({...!Wn(_)||(m.isValid||y.isValid)&&Q!==s.isValid?{}:{name:_},...t.resolver||!_?{isValid:Q}:{},errors:s.errors}),V.shouldFocus&&!ge&&Il(r,U,_?ue:l.mount),ge},q=(_,V)=>{let Q={...o.mount?i:a};return V&&(Q=SC(V.dirtyFields?s.dirtyFields:s.touchedFields,Q)),Et(_)?Q:Wn(_)?pe(Q,_):_.map(ge=>pe(Q,ge))},ne=(_,V)=>({invalid:!!pe((V||s).errors,_),isDirty:!!pe((V||s).dirtyFields,_),error:pe((V||s).errors,_),isValidating:!!pe(s.validatingFields,_),isTouched:!!pe((V||s).touchedFields,_)}),me=_=>{_&&kl(_).forEach(V=>Ht(s.errors,V)),v.state.next({errors:_?s.errors:{}})},fe=(_,V,Q)=>{const ge=(pe(r,_,{_f:{}})._f||{}).ref,ue=pe(s.errors,_)||{},{ref:ce,message:Ie,type:ut,...mt}=ue;xt(s.errors,_,{...mt,...V,ref:ge}),v.state.next({name:_,errors:s.errors,isValid:!1}),Q&&Q.shouldFocus&&ge&&ge.focus&&ge.focus()},$e=(_,V)=>Nn(_)?v.state.subscribe({next:Q=>"values"in Q&&_(B(void 0,V),Q)}):B(_,V,!0),F=_=>v.state.subscribe({next:V=>{L3(_.name,V.name,_.exact)&&O3(V,_.formState||m,Fo,_.reRenderRoot)&&_.callback({values:{...i},...s,...V,defaultValues:a})}}).unsubscribe,X=_=>(o.mount=!0,y={...y,..._.formState},F({..._,formState:{...f,..._.formState}})),ke=(_,V={})=>{for(const Q of _?kl(_):l.mount)l.mount.delete(Q),l.array.delete(Q),V.keepValue||(Ht(r,Q),Ht(i,Q)),!V.keepError&&Ht(s.errors,Q),!V.keepDirty&&Ht(s.dirtyFields,Q),!V.keepTouched&&Ht(s.touchedFields,Q),!V.keepIsValidating&&Ht(s.validatingFields,Q),!t.shouldUnregister&&!V.keepDefaultValue&&Ht(a,Q);v.state.next({values:qt(i)}),v.state.next({...s,...V.keepDirty?{isDirty:$()}:{}}),!V.keepIsValid&&w()},Me=({disabled:_,name:V})=>{(Un(_)&&o.mount||_||l.disabled.has(V))&&(_?l.disabled.add(V):l.disabled.delete(V))},Re=(_,V={})=>{let Q=pe(r,_);const ge=Un(V.disabled)||Un(t.disabled);return xt(r,_,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:_}},name:_,mount:!0,...V}}),l.mount.add(_),Q?Me({disabled:Un(V.disabled)?V.disabled:t.disabled,name:_}):S(_,!0,V.value),{...ge?{disabled:V.disabled||t.disabled}:{},...t.progressive?{required:!!V.required,min:rl(V.min),max:rl(V.max),minLength:rl(V.minLength),maxLength:rl(V.maxLength),pattern:rl(V.pattern)}:{},name:_,onChange:W,onBlur:W,ref:ue=>{if(ue){Re(_,V),Q=pe(r,_);const ce=Et(ue.value)&&ue.querySelectorAll&&ue.querySelectorAll("input,select,textarea")[0]||ue,Ie=T3(ce),ut=Q._f.refs||[];if(Ie?ut.find(mt=>mt===ce):ce===Q._f.ref)return;xt(r,_,{_f:{...Q._f,...Ie?{refs:[...ut.filter(wh),ce,...Array.isArray(pe(a,_))?[{}]:[]],ref:{type:ce.type,name:_}}:{ref:ce}}}),S(_,!1,void 0,ce)}else Q=pe(r,_,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||V.shouldUnregister)&&!(bC(l.array,_)&&o.action)&&l.unMount.add(_)}}},Ve=()=>t.shouldFocusError&&Il(r,U,l.mount),_e=_=>{Un(_)&&(v.state.next({disabled:_}),Il(r,(V,Q)=>{const ge=pe(r,Q);ge&&(V.disabled=ge._f.disabled||_,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(ue=>{ue.disabled=ge._f.disabled||_}))},0,!1))},en=(_,V)=>async Q=>{let ge;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let ue=qt(i);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:ce,values:Ie}=await k();g(),s.errors=ce,ue=qt(Ie)}else await C(r);if(l.disabled.size)for(const ce of l.disabled)Ht(ue,ce);if(Ht(s.errors,"root"),jn(s.errors)){v.state.next({errors:{}});try{await _(ue,Q)}catch(ce){ge=ce}}else V&&await V({...s.errors},Q),Ve(),setTimeout(Ve);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jn(s.errors)&&!ge,submitCount:s.submitCount+1,errors:s.errors}),ge)throw ge},En=(_,V={})=>{pe(r,_)&&(Et(V.defaultValue)?ie(_,qt(pe(a,_))):(ie(_,V.defaultValue),xt(a,_,qt(V.defaultValue))),V.keepTouched||Ht(s.touchedFields,_),V.keepDirty||(Ht(s.dirtyFields,_),s.isDirty=V.defaultValue?$(_,qt(pe(a,_))):$()),V.keepError||(Ht(s.errors,_),m.isValid&&w()),v.state.next({...s}))},Fs=(_,V={})=>{const Q=_?qt(_):a,ge=qt(Q),ue=jn(_),ce=ue?a:ge;if(V.keepDefaultValues||(a=Q),!V.keepValues){if(V.keepDirtyValues){const Ie=new Set([...l.mount,...Object.keys(Ii(a,i))]);for(const ut of Array.from(Ie)){const mt=pe(s.dirtyFields,ut),on=pe(i,ut),ar=pe(ce,ut);mt&&!Et(on)?xt(ce,ut,on):!mt&&!Et(ar)&&ie(ut,ar)}}else{if(hg&&Et(_))for(const Ie of l.mount){const ut=pe(r,Ie);if(ut&&ut._f){const mt=Array.isArray(ut._f.refs)?ut._f.refs[0]:ut._f.ref;if(pu(mt)){const on=mt.closest("form");if(on){on.reset();break}}}}if(V.keepFieldsRef)for(const Ie of l.mount)ie(Ie,pe(ce,Ie));else r={}}i=t.shouldUnregister?V.keepDefaultValues?qt(a):{}:qt(ce),v.array.next({values:{...ce}}),v.state.next({values:{...ce}})}l={mount:V.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!V.keepIsValid||!!V.keepDirtyValues||!t.shouldUnregister&&!jn(ce),o.watch=!!t.shouldUnregister,o.keepIsValid=!!V.keepIsValid,o.action=!1,V.keepErrors||(s.errors={}),v.state.next({submitCount:V.keepSubmitCount?s.submitCount:0,isDirty:ue?!1:V.keepDirty?s.isDirty:!!(V.keepDefaultValues&&!Is(_,a)),isSubmitted:V.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:ue?{}:V.keepDirtyValues?V.keepDefaultValues&&i?Ii(a,i):s.dirtyFields:V.keepDefaultValues&&_?Ii(a,_):V.keepDirty?s.dirtyFields:{},touchedFields:V.keepTouched?s.touchedFields:{},errors:V.keepErrors?s.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},$s=(_,V)=>Fs(Nn(_)?_(i):_,{...t.resetOptions,...V}),rr=(_,V={})=>{const Q=pe(r,_),ge=Q&&Q._f;if(ge){const ue=ge.refs?ge.refs[0]:ge.ref;ue.focus&&setTimeout(()=>{ue.focus(),V.shouldSelect&&Nn(ue.select)&&ue.select()})}},Fo=_=>{s={...s,..._}},Tc={control:{register:Re,unregister:ke,getFieldState:ne,handleSubmit:en,setError:fe,_subscribe:F,_runSchema:k,_updateIsValidating:g,_focusError:Ve,_getWatch:B,_getDirty:$,_setValid:w,_setFieldArray:h,_setDisabledField:Me,_setErrors:b,_getFieldArray:E,_reset:Fs,_resetDefaultValues:()=>Nn(t.defaultValues)&&t.defaultValues().then(_=>{$s(_,t.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:_e,_subjects:v,_proxyFormState:m,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(_){o=_},get _defaultValues(){return a},get _names(){return l},set _names(_){l=_},get _formState(){return s},get _options(){return t},set _options(_){t={...t,..._}}},subscribe:X,trigger:H,register:Re,handleSubmit:en,watch:$e,setValue:ie,getValues:q,reset:$s,resetField:En,clearErrors:me,unregister:ke,setError:fe,setFocus:rr,getFieldState:ne};return{...Tc,formControl:Tc}}function tc(e={}){const t=De.useRef(void 0),s=De.useRef(void 0),[r,a]=De.useState({isDirty:!1,isValidating:!1,isLoading:Nn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Nn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Nn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=z3(e);t.current={...l,formState:r}}const i=t.current.control;return i._options=e,gg(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),De.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),De.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),De.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),De.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),De.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),De.useEffect(()=>{var o;e.values&&!Is(e.values,s.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),s.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),De.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=wC(r,i),t.current}const c0=(e,t,s)=>{if(e&&"reportValidity"in e){const r=pe(s,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},EC=(e,t)=>{for(const s in t.fields){const r=t.fields[s];r&&r.ref&&"reportValidity"in r.ref?c0(r.ref,s,e):r.refs&&r.refs.forEach(a=>c0(a,s,e))}},U3=(e,t)=>{t.shouldUseNativeValidation&&EC(e,t);const s={};for(const r in e){const a=pe(t.fields,r),i=Object.assign(e[r]||{},{ref:a&&a.ref});if(B3(t.names||Object.keys(e),r)){const o=Object.assign({},pe(s,r));xt(o,"root",i),xt(s,r,o)}else xt(s,r,i)}return s},B3=(e,t)=>e.some(s=>s.startsWith(t+"."));var W3=function(e,t){for(var s={};e.length;){var r=e[0],a=r.code,i=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:i,type:a};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(m){return e.push(m)})}),t){var c=s[o].types,d=c&&c[r.code];s[o]=NC(o,t,s,a,d?[].concat(d,r.message):r.message)}e.shift()}return s},nc=function(e,t,s){return s===void 0&&(s={}),function(r,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(d){return i.shouldUseNativeValidation&&EC({},i),{errors:{},values:s.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:U3(W3(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},dt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function s(a){throw new Error}e.assertNever=s,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(dt||(dt={}));var d0;(function(e){e.mergeShapes=(t,s)=>({...t,...s})})(d0||(d0={}));const be=dt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Vr=e=>{switch(typeof e){case"undefined":return be.undefined;case"string":return be.string;case"number":return Number.isNaN(e)?be.nan:be.number;case"boolean":return be.boolean;case"function":return be.function;case"bigint":return be.bigint;case"symbol":return be.symbol;case"object":return Array.isArray(e)?be.array:e===null?be.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?be.promise:typeof Map<"u"&&e instanceof Map?be.map:typeof Set<"u"&&e instanceof Set?be.set:typeof Date<"u"&&e instanceof Date?be.date:be.object;default:return be.unknown}},de=dt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Tr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(i){return i.message},r={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),r}static assert(t){if(!(t instanceof Tr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},r=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];s[i]=s[i]||[],s[i].push(t(a))}else r.push(t(a));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}Tr.create=e=>new Tr(e);const rp=(e,t)=>{let s;switch(e.code){case de.invalid_type:e.received===be.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case de.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,dt.jsonStringifyReplacer)}`;break;case de.unrecognized_keys:s=`Unrecognized key(s) in object: ${dt.joinValues(e.keys,", ")}`;break;case de.invalid_union:s="Invalid input";break;case de.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${dt.joinValues(e.options)}`;break;case de.invalid_enum_value:s=`Invalid enum value. Expected ${dt.joinValues(e.options)}, received '${e.received}'`;break;case de.invalid_arguments:s="Invalid function arguments";break;case de.invalid_return_type:s="Invalid function return type";break;case de.invalid_date:s="Invalid date";break;case de.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:dt.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case de.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case de.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case de.custom:s="Invalid input";break;case de.invalid_intersection_types:s="Intersection results could not be merged";break;case de.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case de.not_finite:s="Number must be finite";break;default:s=t.defaultError,dt.assertNever(e)}return{message:s}};let q3=rp;function H3(){return q3}const K3=e=>{const{data:t,path:s,errorMaps:r,issueData:a}=e,i=[...s,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function ye(e,t){const s=H3(),r=K3({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===rp?void 0:rp].filter(a=>!!a)});e.common.issues.push(r)}class Yn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const r=[];for(const a of s){if(a.status==="aborted")return ze;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,s){const r=[];for(const a of s){const i=await a.key,o=await a.value;r.push({key:i,value:o})}return Yn.mergeObjectSync(t,r)}static mergeObjectSync(t,s){const r={};for(const a of s){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return ze;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(r[i.value]=o.value)}return{status:t.value,value:r}}}const ze=Object.freeze({status:"aborted"}),fl=e=>({status:"dirty",value:e}),ys=e=>({status:"valid",value:e}),u0=e=>e.status==="aborted",m0=e=>e.status==="dirty",bo=e=>e.status==="valid",gu=e=>typeof Promise<"u"&&e instanceof Promise;var we;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(we||(we={}));class ya{constructor(t,s,r,a){this._cachedPath=[],this.parent=t,this.data=s,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const h0=(e,t)=>{if(bo(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Tr(e.common.issues);return this._error=s,this._error}}};function Ze(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:r,description:a}=e;if(t&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??s??l.defaultError}},description:a}}class ct{get description(){return this._def.description}_getType(t){return Vr(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:Vr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Yn,ctx:{common:t.parent.common,data:t.data,parsedType:Vr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(gu(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const r=this.safeParse(t,s);if(r.success)return r.data;throw r.error}safeParse(t,s){const r={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Vr(t)},a=this._parseSync({data:t,path:r.path,parent:r});return h0(r,a)}"~validate"(t){var r,a;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Vr(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return bo(i)?{value:i.value}:{issues:s.common.issues}}catch(i){(a=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>bo(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,s){const r=await this.safeParseAsync(t,s);if(r.success)return r.data;throw r.error}async safeParseAsync(t,s){const r={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Vr(t)},a=this._parse({data:t,path:r.path,parent:r}),i=await(gu(a)?a:Promise.resolve(a));return h0(r,i)}refine(t,s){const r=a=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(a):s;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:de.custom,...r(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,s){return this._refinement((r,a)=>t(r)?!0:(a.addIssue(typeof s=="function"?s(r,a):s),!1))}_refinement(t){return new No({schema:this,typeName:Ue.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return ma.create(this,this._def)}nullable(){return So.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Js.create(this)}promise(){return bu.create(this,this._def)}or(t){return vu.create([this,t],this._def)}and(t){return ju.create(this,t,this._def)}transform(t){return new No({...Ze(this._def),schema:this,typeName:Ue.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new op({...Ze(this._def),innerType:this,defaultValue:s,typeName:Ue.ZodDefault})}brand(){return new xF({typeName:Ue.ZodBranded,type:this,...Ze(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new lp({...Ze(this._def),innerType:this,catchValue:s,typeName:Ue.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return jg.create(this,t)}readonly(){return cp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Q3=/^c[^\s-]{8,}$/i,G3=/^[0-9a-z]+$/,Y3=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Z3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,X3=/^[a-z0-9_-]{21}$/i,J3=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,eF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Nh;const sF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,aF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,iF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,lF=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,AC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cF=new RegExp(`^${AC}$`);function RC(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const s=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${s}`}function dF(e){return new RegExp(`^${RC(e)}$`)}function uF(e){let t=`${AC}T${RC(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function mF(e,t){return!!((t==="v4"||!t)&&sF.test(e)||(t==="v6"||!t)&&aF.test(e))}function hF(e,t){if(!J3.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function fF(e,t){return!!((t==="v4"||!t)&&rF.test(e)||(t==="v6"||!t)&&iF.test(e))}class ea extends ct{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==be.string){const i=this._getOrReturnCtx(t);return ye(i,{code:de.invalid_type,expected:be.string,received:i.parsedType}),ze}const r=new Yn;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),ye(a,{code:de.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),ye(a,{code:de.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?ye(a,{code:de.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ye(a,{code:de.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")tF.test(t.data)||(a=this._getOrReturnCtx(t,a),ye(a,{validation:"email",code:de.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Nh||(Nh=new RegExp(nF,"u")),Nh.test(t.data)||(a=this._getOrReturnCtx(t,a),ye(a,{validation:"emoji",code:de.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Z3.test(t.data)||(a=this._getOrReturnCtx(t,a),ye(a,{validation:"uuid",code:de.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")X3.test(t.data)||(a=this._getOrReturnCtx(t,a),ye(a,{validation:"nanoid",code:de.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Q3.test(t.data)||(a=this._getOrReturnCtx(t,a),ye(a,{validation:"cuid",code:de.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")G3.test(t.data)||(a=this._getOrReturnCtx(t,a),ye(a,{validation:"cuid2",code:de.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Y3.test(t.data)||(a=this._getOrReturnCtx(t,a),ye(a,{validation:"ulid",code:de.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),ye(a,{validation:"url",code:de.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),ye(a,{validation:"regex",code:de.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),ye(a,{code:de.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),ye(a,{code:de.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),ye(a,{code:de.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?uF(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ye(a,{code:de.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?cF.test(t.data)||(a=this._getOrReturnCtx(t,a),ye(a,{code:de.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?dF(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ye(a,{code:de.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?eF.test(t.data)||(a=this._getOrReturnCtx(t,a),ye(a,{validation:"duration",code:de.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?mF(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ye(a,{validation:"ip",code:de.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?hF(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),ye(a,{validation:"jwt",code:de.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?fF(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ye(a,{validation:"cidr",code:de.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?oF.test(t.data)||(a=this._getOrReturnCtx(t,a),ye(a,{validation:"base64",code:de.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?lF.test(t.data)||(a=this._getOrReturnCtx(t,a),ye(a,{validation:"base64url",code:de.invalid_string,message:i.message}),r.dirty()):dt.assertNever(i);return{status:r.value,value:t.data}}_regex(t,s,r){return this.refinement(a=>t.test(a),{validation:s,code:de.invalid_string,...we.errToObj(r)})}_addCheck(t){return new ea({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...we.errToObj(t)})}url(t){return this._addCheck({kind:"url",...we.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...we.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...we.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...we.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...we.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...we.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...we.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...we.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...we.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...we.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...we.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...we.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...we.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...we.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...we.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...we.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s==null?void 0:s.position,...we.errToObj(s==null?void 0:s.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...we.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...we.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...we.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...we.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...we.errToObj(s)})}nonempty(t){return this.min(1,we.errToObj(t))}trim(){return new ea({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ea({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ea({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}ea.create=e=>new ea({checks:[],typeName:Ue.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ze(e)});function pF(e,t){const s=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=s>r?s:r,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class sc extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==be.number){const i=this._getOrReturnCtx(t);return ye(i,{code:de.invalid_type,expected:be.number,received:i.parsedType}),ze}let r;const a=new Yn;for(const i of this._def.checks)i.kind==="int"?dt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),ye(r,{code:de.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),ye(r,{code:de.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),ye(r,{code:de.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?pF(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),ye(r,{code:de.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),ye(r,{code:de.not_finite,message:i.message}),a.dirty()):dt.assertNever(i);return{status:a.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,we.toString(s))}gt(t,s){return this.setLimit("min",t,!1,we.toString(s))}lte(t,s){return this.setLimit("max",t,!0,we.toString(s))}lt(t,s){return this.setLimit("max",t,!1,we.toString(s))}setLimit(t,s,r,a){return new sc({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:r,message:we.toString(a)}]})}_addCheck(t){return new sc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:we.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:we.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:we.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:we.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:we.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:we.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:we.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:we.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:we.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&dt.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(s)&&Number.isFinite(t)}}sc.create=e=>new sc({checks:[],typeName:Ue.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ze(e)});class rc extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==be.bigint)return this._getInvalidInput(t);let r;const a=new Yn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),ye(r,{code:de.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),ye(r,{code:de.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),ye(r,{code:de.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):dt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return ye(s,{code:de.invalid_type,expected:be.bigint,received:s.parsedType}),ze}gte(t,s){return this.setLimit("min",t,!0,we.toString(s))}gt(t,s){return this.setLimit("min",t,!1,we.toString(s))}lte(t,s){return this.setLimit("max",t,!0,we.toString(s))}lt(t,s){return this.setLimit("max",t,!1,we.toString(s))}setLimit(t,s,r,a){return new rc({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:r,message:we.toString(a)}]})}_addCheck(t){return new rc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:we.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:we.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:we.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:we.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:we.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}rc.create=e=>new rc({checks:[],typeName:Ue.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ze(e)});class f0 extends ct{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==be.boolean){const r=this._getOrReturnCtx(t);return ye(r,{code:de.invalid_type,expected:be.boolean,received:r.parsedType}),ze}return ys(t.data)}}f0.create=e=>new f0({typeName:Ue.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ze(e)});class yu extends ct{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==be.date){const i=this._getOrReturnCtx(t);return ye(i,{code:de.invalid_type,expected:be.date,received:i.parsedType}),ze}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ye(i,{code:de.invalid_date}),ze}const r=new Yn;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),ye(a,{code:de.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),ye(a,{code:de.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):dt.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new yu({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:we.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:we.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}yu.create=e=>new yu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ue.ZodDate,...Ze(e)});class p0 extends ct{_parse(t){if(this._getType(t)!==be.symbol){const r=this._getOrReturnCtx(t);return ye(r,{code:de.invalid_type,expected:be.symbol,received:r.parsedType}),ze}return ys(t.data)}}p0.create=e=>new p0({typeName:Ue.ZodSymbol,...Ze(e)});class x0 extends ct{_parse(t){if(this._getType(t)!==be.undefined){const r=this._getOrReturnCtx(t);return ye(r,{code:de.invalid_type,expected:be.undefined,received:r.parsedType}),ze}return ys(t.data)}}x0.create=e=>new x0({typeName:Ue.ZodUndefined,...Ze(e)});class g0 extends ct{_parse(t){if(this._getType(t)!==be.null){const r=this._getOrReturnCtx(t);return ye(r,{code:de.invalid_type,expected:be.null,received:r.parsedType}),ze}return ys(t.data)}}g0.create=e=>new g0({typeName:Ue.ZodNull,...Ze(e)});class y0 extends ct{constructor(){super(...arguments),this._any=!0}_parse(t){return ys(t.data)}}y0.create=e=>new y0({typeName:Ue.ZodAny,...Ze(e)});class v0 extends ct{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ys(t.data)}}v0.create=e=>new v0({typeName:Ue.ZodUnknown,...Ze(e)});class va extends ct{_parse(t){const s=this._getOrReturnCtx(t);return ye(s,{code:de.invalid_type,expected:be.never,received:s.parsedType}),ze}}va.create=e=>new va({typeName:Ue.ZodNever,...Ze(e)});class j0 extends ct{_parse(t){if(this._getType(t)!==be.undefined){const r=this._getOrReturnCtx(t);return ye(r,{code:de.invalid_type,expected:be.void,received:r.parsedType}),ze}return ys(t.data)}}j0.create=e=>new j0({typeName:Ue.ZodVoid,...Ze(e)});class Js extends ct{_parse(t){const{ctx:s,status:r}=this._processInputParams(t),a=this._def;if(s.parsedType!==be.array)return ye(s,{code:de.invalid_type,expected:be.array,received:s.parsedType}),ze;if(a.exactLength!==null){const o=s.data.length>a.exactLength.value,l=s.data.length<a.exactLength.value;(o||l)&&(ye(s,{code:o?de.too_big:de.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&s.data.length<a.minLength.value&&(ye(s,{code:de.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&s.data.length>a.maxLength.value&&(ye(s,{code:de.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>a.type._parseAsync(new ya(s,o,s.path,l)))).then(o=>Yn.mergeArray(r,o));const i=[...s.data].map((o,l)=>a.type._parseSync(new ya(s,o,s.path,l)));return Yn.mergeArray(r,i)}get element(){return this._def.type}min(t,s){return new Js({...this._def,minLength:{value:t,message:we.toString(s)}})}max(t,s){return new Js({...this._def,maxLength:{value:t,message:we.toString(s)}})}length(t,s){return new Js({...this._def,exactLength:{value:t,message:we.toString(s)}})}nonempty(t){return this.min(1,t)}}Js.create=(e,t)=>new Js({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ue.ZodArray,...Ze(t)});function Ti(e){if(e instanceof Kt){const t={};for(const s in e.shape){const r=e.shape[s];t[s]=ma.create(Ti(r))}return new Kt({...e._def,shape:()=>t})}else return e instanceof Js?new Js({...e._def,type:Ti(e.element)}):e instanceof ma?ma.create(Ti(e.unwrap())):e instanceof So?So.create(Ti(e.unwrap())):e instanceof li?li.create(e.items.map(t=>Ti(t))):e}class Kt extends ct{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=dt.objectKeys(t);return this._cached={shape:t,keys:s},this._cached}_parse(t){if(this._getType(t)!==be.object){const d=this._getOrReturnCtx(t);return ye(d,{code:de.invalid_type,expected:be.object,received:d.parsedType}),ze}const{status:r,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof va&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const f=i[d],m=a.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new ya(a,m,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof va){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:a.data[f]}});else if(d==="strict")l.length>0&&(ye(a,{code:de.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const m=a.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new ya(a,m,a.path,f)),alwaysSet:f in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const m=await f.key,y=await f.value;d.push({key:m,value:y,alwaysSet:f.alwaysSet})}return d}).then(d=>Yn.mergeObjectSync(r,d)):Yn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return we.errToObj,new Kt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,r)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,s,r).message)??r.defaultError;return s.code==="unrecognized_keys"?{message:we.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Kt({...this._def,unknownKeys:"strip"})}passthrough(){return new Kt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Kt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Kt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ue.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new Kt({...this._def,catchall:t})}pick(t){const s={};for(const r of dt.objectKeys(t))t[r]&&this.shape[r]&&(s[r]=this.shape[r]);return new Kt({...this._def,shape:()=>s})}omit(t){const s={};for(const r of dt.objectKeys(this.shape))t[r]||(s[r]=this.shape[r]);return new Kt({...this._def,shape:()=>s})}deepPartial(){return Ti(this)}partial(t){const s={};for(const r of dt.objectKeys(this.shape)){const a=this.shape[r];t&&!t[r]?s[r]=a:s[r]=a.optional()}return new Kt({...this._def,shape:()=>s})}required(t){const s={};for(const r of dt.objectKeys(this.shape))if(t&&!t[r])s[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ma;)i=i._def.innerType;s[r]=i}return new Kt({...this._def,shape:()=>s})}keyof(){return _C(dt.objectKeys(this.shape))}}Kt.create=(e,t)=>new Kt({shape:()=>e,unknownKeys:"strip",catchall:va.create(),typeName:Ue.ZodObject,...Ze(t)});Kt.strictCreate=(e,t)=>new Kt({shape:()=>e,unknownKeys:"strict",catchall:va.create(),typeName:Ue.ZodObject,...Ze(t)});Kt.lazycreate=(e,t)=>new Kt({shape:e,unknownKeys:"strip",catchall:va.create(),typeName:Ue.ZodObject,...Ze(t)});class vu extends ct{_parse(t){const{ctx:s}=this._processInputParams(t),r=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Tr(l.ctx.common.issues));return ye(s,{code:de.invalid_union,unionErrors:o}),ze}if(s.common.async)return Promise.all(r.map(async i=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await i._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of r){const d={...s,common:{...s.common,issues:[]},parent:null},f=c._parseSync({data:s.data,path:s.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return s.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Tr(c));return ye(s,{code:de.invalid_union,unionErrors:l}),ze}}get options(){return this._def.options}}vu.create=(e,t)=>new vu({options:e,typeName:Ue.ZodUnion,...Ze(t)});function ap(e,t){const s=Vr(e),r=Vr(t);if(e===t)return{valid:!0,data:e};if(s===be.object&&r===be.object){const a=dt.objectKeys(t),i=dt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=ap(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===be.array&&r===be.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=ap(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return s===be.date&&r===be.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ju extends ct{_parse(t){const{status:s,ctx:r}=this._processInputParams(t),a=(i,o)=>{if(u0(i)||u0(o))return ze;const l=ap(i.value,o.value);return l.valid?((m0(i)||m0(o))&&s.dirty(),{status:s.value,value:l.data}):(ye(r,{code:de.invalid_intersection_types}),ze)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ju.create=(e,t,s)=>new ju({left:e,right:t,typeName:Ue.ZodIntersection,...Ze(s)});class li extends ct{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==be.array)return ye(r,{code:de.invalid_type,expected:be.array,received:r.parsedType}),ze;if(r.data.length<this._def.items.length)return ye(r,{code:de.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ze;!this._def.rest&&r.data.length>this._def.items.length&&(ye(r,{code:de.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ya(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Yn.mergeArray(s,o)):Yn.mergeArray(s,i)}get items(){return this._def.items}rest(t){return new li({...this._def,rest:t})}}li.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new li({items:e,typeName:Ue.ZodTuple,rest:null,...Ze(t)})};class b0 extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==be.map)return ye(r,{code:de.invalid_type,expected:be.map,received:r.parsedType}),ze;const a=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:a._parse(new ya(r,l,r.path,[d,"key"])),value:i._parse(new ya(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return ze;(d.status==="dirty"||f.status==="dirty")&&s.dirty(),l.set(d.value,f.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return ze;(d.status==="dirty"||f.status==="dirty")&&s.dirty(),l.set(d.value,f.value)}return{status:s.value,value:l}}}}b0.create=(e,t,s)=>new b0({valueType:t,keyType:e,typeName:Ue.ZodMap,...Ze(s)});class ac extends ct{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==be.set)return ye(r,{code:de.invalid_type,expected:be.set,received:r.parsedType}),ze;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(ye(r,{code:de.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),s.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(ye(r,{code:de.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),s.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const f of c){if(f.status==="aborted")return ze;f.status==="dirty"&&s.dirty(),d.add(f.value)}return{status:s.value,value:d}}const l=[...r.data.values()].map((c,d)=>i._parse(new ya(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,s){return new ac({...this._def,minSize:{value:t,message:we.toString(s)}})}max(t,s){return new ac({...this._def,maxSize:{value:t,message:we.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}ac.create=(e,t)=>new ac({valueType:e,minSize:null,maxSize:null,typeName:Ue.ZodSet,...Ze(t)});class w0 extends ct{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}w0.create=(e,t)=>new w0({getter:e,typeName:Ue.ZodLazy,...Ze(t)});class ip extends ct{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return ye(s,{received:s.data,code:de.invalid_literal,expected:this._def.value}),ze}return{status:"valid",value:t.data}}get value(){return this._def.value}}ip.create=(e,t)=>new ip({value:e,typeName:Ue.ZodLiteral,...Ze(t)});function _C(e,t){return new wo({values:e,typeName:Ue.ZodEnum,...Ze(t)})}class wo extends ct{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),r=this._def.values;return ye(s,{expected:dt.joinValues(r),received:s.parsedType,code:de.invalid_type}),ze}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const s=this._getOrReturnCtx(t),r=this._def.values;return ye(s,{received:s.data,code:de.invalid_enum_value,options:r}),ze}return ys(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return wo.create(t,{...this._def,...s})}exclude(t,s=this._def){return wo.create(this.options.filter(r=>!t.includes(r)),{...this._def,...s})}}wo.create=_C;class N0 extends ct{_parse(t){const s=dt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==be.string&&r.parsedType!==be.number){const a=dt.objectValues(s);return ye(r,{expected:dt.joinValues(a),received:r.parsedType,code:de.invalid_type}),ze}if(this._cache||(this._cache=new Set(dt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=dt.objectValues(s);return ye(r,{received:r.data,code:de.invalid_enum_value,options:a}),ze}return ys(t.data)}get enum(){return this._def.values}}N0.create=(e,t)=>new N0({values:e,typeName:Ue.ZodNativeEnum,...Ze(t)});class bu extends ct{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==be.promise&&s.common.async===!1)return ye(s,{code:de.invalid_type,expected:be.promise,received:s.parsedType}),ze;const r=s.parsedType===be.promise?s.data:Promise.resolve(s.data);return ys(r.then(a=>this._def.type.parseAsync(a,{path:s.path,errorMap:s.common.contextualErrorMap})))}}bu.create=(e,t)=>new bu({type:e,typeName:Ue.ZodPromise,...Ze(t)});class No extends ct{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:r}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{ye(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return ze;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?ze:c.status==="dirty"||s.value==="dirty"?fl(c.value):c});{if(s.value==="aborted")return ze;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?ze:l.status==="dirty"||s.value==="dirty"?fl(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?ze:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?ze:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(a.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!bo(o))return ze;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>bo(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:s.value,value:l})):ze);dt.assertNever(a)}}No.create=(e,t,s)=>new No({schema:e,typeName:Ue.ZodEffects,effect:t,...Ze(s)});No.createWithPreprocess=(e,t,s)=>new No({schema:t,effect:{type:"preprocess",transform:e},typeName:Ue.ZodEffects,...Ze(s)});class ma extends ct{_parse(t){return this._getType(t)===be.undefined?ys(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ma.create=(e,t)=>new ma({innerType:e,typeName:Ue.ZodOptional,...Ze(t)});class So extends ct{_parse(t){return this._getType(t)===be.null?ys(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}So.create=(e,t)=>new So({innerType:e,typeName:Ue.ZodNullable,...Ze(t)});class op extends ct{_parse(t){const{ctx:s}=this._processInputParams(t);let r=s.data;return s.parsedType===be.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}op.create=(e,t)=>new op({innerType:e,typeName:Ue.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ze(t)});class lp extends ct{_parse(t){const{ctx:s}=this._processInputParams(t),r={...s,common:{...s.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return gu(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Tr(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Tr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}lp.create=(e,t)=>new lp({innerType:e,typeName:Ue.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ze(t)});class S0 extends ct{_parse(t){if(this._getType(t)!==be.nan){const r=this._getOrReturnCtx(t);return ye(r,{code:de.invalid_type,expected:be.nan,received:r.parsedType}),ze}return{status:"valid",value:t.data}}}S0.create=e=>new S0({typeName:Ue.ZodNaN,...Ze(e)});class xF extends ct{_parse(t){const{ctx:s}=this._processInputParams(t),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class jg extends ct{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ze:i.status==="dirty"?(s.dirty(),fl(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ze:a.status==="dirty"?(s.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,s){return new jg({in:t,out:s,typeName:Ue.ZodPipeline})}}class cp extends ct{_parse(t){const s=this._def.innerType._parse(t),r=a=>(bo(a)&&(a.value=Object.freeze(a.value)),a);return gu(s)?s.then(a=>r(a)):r(s)}unwrap(){return this._def.innerType}}cp.create=(e,t)=>new cp({innerType:e,typeName:Ue.ZodReadonly,...Ze(t)});var Ue;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ue||(Ue={}));const ot=ea.create;va.create;const gF=Js.create,Ic=Kt.create;vu.create;ju.create;li.create;const C0=ip.create,DC=wo.create;bu.create;ma.create;So.create;const yF=fi("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),OC=u.forwardRef(({className:e,variant:t,...s},r)=>n.jsx("div",{ref:r,role:"alert",className:z(yF({variant:t}),e),...s}));OC.displayName="Alert";const vF=u.forwardRef(({className:e,...t},s)=>n.jsx("h5",{ref:s,className:z("mb-1 font-medium leading-none tracking-tight",e),...t}));vF.displayName="AlertTitle";const LC=u.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:z("text-sm [&_p]:leading-relaxed",e),...t}));LC.displayName="AlertDescription";const ic=N3,MC=u.createContext({}),at=({...e})=>n.jsx(MC.Provider,{value:{name:e.name},children:n.jsx(I3,{...e})}),Nm=()=>{const e=u.useContext(MC),t=u.useContext(FC),{getFieldState:s,formState:r}=wm(),a=s(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},FC=u.createContext({}),nt=u.forwardRef(({className:e,...t},s)=>{const r=u.useId();return n.jsx(FC.Provider,{value:{id:r},children:n.jsx("div",{ref:s,className:z("space-y-2",e),...t})})});nt.displayName="FormItem";const st=u.forwardRef(({className:e,...t},s)=>{const{error:r,formItemId:a}=Nm();return n.jsx(K,{ref:s,className:z(r&&"text-destructive",e),htmlFor:a,...t})});st.displayName="FormLabel";const it=u.forwardRef(({...e},t)=>{const{error:s,formItemId:r,formDescriptionId:a,formMessageId:i}=Nm();return n.jsx(em,{ref:t,id:r,"aria-describedby":s?`${a} ${i}`:`${a}`,"aria-invalid":!!s,...e})});it.displayName="FormControl";const Tl=u.forwardRef(({className:e,...t},s)=>{const{formDescriptionId:r}=Nm();return n.jsx("p",{ref:s,id:r,className:z("text-sm text-muted-foreground",e),...t})});Tl.displayName="FormDescription";const rt=u.forwardRef(({className:e,children:t,...s},r)=>{const{error:a,formMessageId:i}=Nm(),o=a?String((a==null?void 0:a.message)??""):t;return o?n.jsx("p",{ref:r,id:i,className:z("text-sm font-medium text-destructive",e),...s,children:o}):null});rt.displayName="FormMessage";const dn={HOLDING:"holding",SUBSIDIARY:"subsidiary",BRANCH:"branch"},jF=Ic({name:ot().min(1,"Company name is required"),code:ot().min(1,"Company code is required").max(10,"Max 10 characters"),companyType:DC([dn.HOLDING,dn.SUBSIDIARY,dn.BRANCH]),parentId:ot().nullable(),taxId:ot().optional(),registrationNumber:ot().optional(),currency:ot().min(3,"Currency code required").max(3,"3-letter code"),fiscalYearEnd:ot().optional(),address:ot().optional(),city:ot().optional(),country:ot().optional(),phone:ot().optional(),email:ot().email().optional().or(C0("")),website:ot().url().optional().or(C0(""))}).refine(e=>!(e.companyType===dn.HOLDING&&e.parentId||(e.companyType===dn.SUBSIDIARY||e.companyType===dn.BRANCH)&&!e.parentId),{message:"Holding has no parent; Subsidiary/Branch must have a parent",path:["parentId"]}),$C={holding:go,subsidiary:yx,branch:Zd},VC={holding:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",subsidiary:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",branch:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200"},bF={holding:"Level 1: Top-level entity that owns subsidiaries. Can consolidate all data.",subsidiary:"Level 2: Owned by a Holding. Can have Branches and consolidate their data.",branch:"Level 3: Operational unit owned by a Subsidiary. Can only see its own data."};function zC({nodes:e,onEdit:t,onDelete:s,depth:r=0}){return n.jsx("div",{className:"space-y-1",children:e.map(a=>n.jsx(wF,{node:a,onEdit:t,onDelete:s,depth:r},a.company.id))})}function wF({node:e,onEdit:t,onDelete:s,depth:r}){const[a,i]=u.useState(!0),o=e.children&&e.children.length>0,l=$C[e.company.companyType]||yt;return n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-md hover-elevate group",style:{marginLeft:`${r*24}px`},"data-testid":`company-node-${e.company.id}`,children:[o?n.jsx("button",{onClick:()=>i(!a),className:"p-0.5 hover:bg-accent rounded","data-testid":`button-toggle-${e.company.id}`,children:a?n.jsx(pi,{className:"h-4 w-4"}):n.jsx(xi,{className:"h-4 w-4"})}):n.jsx("span",{className:"w-5"}),n.jsx(l,{className:"h-5 w-5 text-muted-foreground shrink-0"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium truncate","data-testid":`text-company-${e.company.id}`,children:e.company.name}),n.jsx(Le,{variant:"outline",className:"text-xs shrink-0",children:e.company.code}),n.jsx(Le,{variant:"secondary",className:z("text-xs shrink-0",VC[e.company.companyType]),children:e.company.companyType}),e.company.currency!=="USD"&&n.jsx(Le,{variant:"outline",className:"text-xs shrink-0",children:e.company.currency})]}),e.company.city&&e.company.country&&n.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[e.company.city,", ",e.company.country]})]}),n.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx(D,{size:"icon",variant:"ghost",onClick:()=>t(e.company),"data-testid":`button-edit-${e.company.id}`,children:n.jsx(ps,{className:"h-4 w-4"})}),n.jsx(D,{size:"icon",variant:"ghost",onClick:()=>s(e.company),disabled:o,"data-testid":`button-delete-${e.company.id}`,children:n.jsx(gn,{className:"h-4 w-4"})})]})]}),o&&a&&n.jsx(zC,{nodes:e.children,onEdit:t,onDelete:s,depth:r+1})]})}function NF(){const{toast:e}=Vt(),[t,s]=u.useState(!1),[r,a]=u.useState(null),[i,o]=u.useState(null),{data:l=[],isLoading:c}=jt({queryKey:["/api/companies"]}),{data:d=[]}=jt({queryKey:["/api/companies/hierarchy"]}),f=tc({resolver:nc(jF),defaultValues:{name:"",code:"",companyType:"subsidiary",parentId:null,currency:"USD",taxId:"",registrationNumber:"",fiscalYearEnd:"12-31",address:"",city:"",country:"",phone:"",email:"",website:""}}),m=Rt({mutationFn:async h=>(await Gt("POST","/api/companies",h)).json(),onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/companies"]}),e({title:"Company created successfully"}),s(!1),f.reset()},onError:h=>{e({title:"Error",description:h.message,variant:"destructive"})}}),y=Rt({mutationFn:async({id:h,data:p})=>(await Gt("PATCH",`/api/companies/${h}`,p)).json(),onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/companies"]}),e({title:"Company updated successfully"}),s(!1),a(null),f.reset()},onError:h=>{e({title:"Error",description:h.message,variant:"destructive"})}}),v=Rt({mutationFn:async h=>{await Gt("DELETE",`/api/companies/${h}`)},onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/companies"]}),e({title:"Company deleted successfully"}),o(null)},onError:h=>{e({title:"Error",description:h.message,variant:"destructive"})}}),j=h=>{a(h),f.reset({name:h.name,code:h.code,companyType:h.companyType,parentId:h.parentId,currency:h.currency,taxId:h.taxId||"",registrationNumber:"",fiscalYearEnd:"12-31",address:h.address||"",city:h.city||"",country:h.country||"",phone:h.phone||"",email:h.email||"",website:h.website||""}),s(!0)},x=h=>{o(h)},w=h=>{r?y.mutate({id:r.id,data:h}):m.mutate(h)},g=()=>{a(null),f.reset(),s(!0)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold","data-testid":"text-page-title",children:"Company Management"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage your organization's company structure and hierarchy"})]}),n.jsxs(D,{onClick:g,"data-testid":"button-add-company",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Add Company"]})]}),n.jsxs(gs,{defaultValue:"hierarchy",className:"space-y-4",children:[n.jsxs(ns,{"data-testid":"tabs-view-selector",children:[n.jsxs(Oe,{value:"hierarchy","data-testid":"tab-hierarchy",children:[n.jsx(Zd,{className:"h-4 w-4 mr-2"}),"Hierarchy View"]}),n.jsxs(Oe,{value:"list","data-testid":"tab-list",children:[n.jsx(yt,{className:"h-4 w-4 mr-2"}),"List View"]})]}),n.jsx(We,{value:"hierarchy",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(go,{className:"h-5 w-5"}),"Organization Structure"]}),n.jsx(Fe,{children:"Visual representation of your company hierarchy"})]}),n.jsx(Y,{children:d.length>0?n.jsx(zC,{nodes:d,onEdit:j,onDelete:x}):c?n.jsx("div",{className:"flex items-center justify-center py-8 text-muted-foreground",children:"Loading..."}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[n.jsx(yt,{className:"h-12 w-12 mb-2 opacity-50"}),n.jsx("p",{children:"No companies found"}),n.jsxs(D,{variant:"outline",className:"mt-4",onClick:g,children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Create First Company"]})]})})]})}),n.jsx(We,{value:"list",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsx(ee,{children:"All Companies"}),n.jsx(Fe,{children:"Complete list of all companies in your organization"})]}),n.jsx(Y,{children:n.jsxs(bt,{"data-testid":"table-companies",children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Name"}),n.jsx(M,{children:"Code"}),n.jsx(M,{children:"Type"}),n.jsx(M,{children:"Currency"}),n.jsx(M,{children:"Location"}),n.jsx(M,{children:"Status"}),n.jsx(M,{className:"text-right",children:"Actions"})]})}),n.jsxs(Nt,{children:[l.map(h=>{const p=$C[h.companyType]||yt;return n.jsxs(Ne,{"data-testid":`row-company-${h.id}`,children:[n.jsx(O,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(p,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:h.name})]})}),n.jsx(O,{children:n.jsx(Le,{variant:"outline",children:h.code})}),n.jsx(O,{children:n.jsx(Le,{variant:"secondary",className:VC[h.companyType],children:h.companyType})}),n.jsx(O,{children:h.currency}),n.jsx(O,{children:h.city&&h.country?`${h.city}, ${h.country}`:"-"}),n.jsx(O,{children:n.jsx(Le,{variant:h.isActive?"default":"secondary",children:h.isActive?"Active":"Inactive"})}),n.jsx(O,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(D,{size:"icon",variant:"ghost",onClick:()=>j(h),"data-testid":`button-edit-list-${h.id}`,children:n.jsx(ps,{className:"h-4 w-4"})}),n.jsx(D,{size:"icon",variant:"ghost",onClick:()=>x(h),"data-testid":`button-delete-list-${h.id}`,children:n.jsx(gn,{className:"h-4 w-4"})})]})})]},h.id)}),l.length===0&&!c&&n.jsx(Ne,{children:n.jsx(O,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No companies found"})})]})]})})]})})]}),n.jsx(Ye,{open:t,onOpenChange:s,children:n.jsxs(He,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Ke,{children:[n.jsx(Qe,{children:r?"Edit Company":"Add New Company"}),n.jsx(rn,{children:r?"Update the company information below":"Fill in the details to create a new company"})]}),n.jsx(ic,{...f,children:n.jsxs("form",{onSubmit:f.handleSubmit(w),className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(at,{control:f.control,name:"name",render:({field:h})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Company Name"}),n.jsx(it,{children:n.jsx(re,{placeholder:"Acme Corporation",...h,"data-testid":"input-company-name"})}),n.jsx(rt,{})]})}),n.jsx(at,{control:f.control,name:"code",render:({field:h})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Company Code"}),n.jsx(it,{children:n.jsx(re,{placeholder:"ACME",maxLength:10,...h,"data-testid":"input-company-code"})}),n.jsx(Tl,{children:"Short identifier (max 10 chars)"}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(at,{control:f.control,name:"companyType",render:({field:h})=>{const p=h.value;return n.jsxs(nt,{children:[n.jsx(st,{children:"Company Type"}),n.jsxs(Pe,{onValueChange:b=>{h.onChange(b),b===dn.HOLDING&&f.setValue("parentId",null)},value:h.value,"data-testid":"select-company-type",children:[n.jsx(it,{children:n.jsx(Se,{children:n.jsx(Ee,{placeholder:"Select type"})})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:dn.HOLDING,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(go,{className:"h-4 w-4"}),"Holding Company (Level 1)"]})}),n.jsx(Z,{value:dn.SUBSIDIARY,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yx,{className:"h-4 w-4"}),"Subsidiary (Level 2)"]})}),n.jsx(Z,{value:dn.BRANCH,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zd,{className:"h-4 w-4"}),"Branch (Level 3)"]})})]})]}),n.jsx(Tl,{children:p&&bF[p]}),n.jsx(rt,{})]})}}),n.jsx(at,{control:f.control,name:"parentId",render:({field:h})=>{const p=f.watch("companyType"),b=p===dn.HOLDING,S=l.filter(N=>N.id===(r==null?void 0:r.id)?!1:p===dn.SUBSIDIARY?N.companyType===dn.HOLDING:p===dn.BRANCH?N.companyType===dn.SUBSIDIARY:!1);return n.jsxs(nt,{children:[n.jsx(st,{children:"Parent Company"}),n.jsxs(Pe,{onValueChange:N=>h.onChange(N==="__none__"?null:N),value:h.value||"__none__",disabled:b,"data-testid":"select-parent-company",children:[n.jsx(it,{children:n.jsx(Se,{children:n.jsx(Ee,{placeholder:b?"N/A for Holding":"Select parent"})})}),n.jsx(Ce,{children:b?n.jsx(Z,{value:"__none__",children:"No Parent (Root)"}):n.jsx(n.Fragment,{children:S.length===0?n.jsx(Z,{value:"__none__",disabled:!0,children:p===dn.SUBSIDIARY?"No Holdings available":"No Subsidiaries available"}):S.map(N=>n.jsx(Z,{value:N.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[N.name,n.jsx(Le,{variant:"outline",className:"text-xs ml-2",children:N.code})]})},N.id))})})]}),n.jsx(Tl,{children:b?"Holdings are root entities with no parent":p===dn.SUBSIDIARY?"Select the Holding company that owns this subsidiary":"Select the Subsidiary that owns this branch"}),n.jsx(rt,{})]})}})]}),n.jsxs(OC,{children:[n.jsx(Wu,{className:"h-4 w-4"}),n.jsxs(LC,{children:[n.jsx("strong",{children:"3-Level Hierarchy Rules:"})," Holding (Level 1) can have Subsidiaries. Subsidiaries (Level 2) belong to a Holding and can have Branches. Branches (Level 3) belong to a Subsidiary and cannot have children."]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(at,{control:f.control,name:"currency",render:({field:h})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Currency"}),n.jsx(it,{children:n.jsx(re,{placeholder:"USD",maxLength:3,...h,"data-testid":"input-currency"})}),n.jsx(rt,{})]})}),n.jsx(at,{control:f.control,name:"taxId",render:({field:h})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Tax ID"}),n.jsx(it,{children:n.jsx(re,{placeholder:"XX-XXXXXXX",...h,"data-testid":"input-tax-id"})}),n.jsx(rt,{})]})}),n.jsx(at,{control:f.control,name:"registrationNumber",render:({field:h})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Registration No."}),n.jsx(it,{children:n.jsx(re,{placeholder:"Business reg number",...h,"data-testid":"input-registration"})}),n.jsx(rt,{})]})})]}),n.jsx(at,{control:f.control,name:"address",render:({field:h})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Address"}),n.jsx(it,{children:n.jsx(ga,{placeholder:"Street address",className:"resize-none",...h,"data-testid":"input-address"})}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(at,{control:f.control,name:"city",render:({field:h})=>n.jsxs(nt,{children:[n.jsx(st,{children:"City"}),n.jsx(it,{children:n.jsx(re,{placeholder:"City",...h,"data-testid":"input-city"})}),n.jsx(rt,{})]})}),n.jsx(at,{control:f.control,name:"country",render:({field:h})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Country"}),n.jsx(it,{children:n.jsx(re,{placeholder:"Country",...h,"data-testid":"input-country"})}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsx(at,{control:f.control,name:"phone",render:({field:h})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Phone"}),n.jsx(it,{children:n.jsx(re,{placeholder:"+1 (555) 000-0000",...h,"data-testid":"input-phone"})}),n.jsx(rt,{})]})}),n.jsx(at,{control:f.control,name:"email",render:({field:h})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Email"}),n.jsx(it,{children:n.jsx(re,{type:"email",placeholder:"info@company.com",...h,"data-testid":"input-email"})}),n.jsx(rt,{})]})}),n.jsx(at,{control:f.control,name:"website",render:({field:h})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Website"}),n.jsx(it,{children:n.jsx(re,{type:"url",placeholder:"https://company.com",...h,"data-testid":"input-website"})}),n.jsx(rt,{})]})})]}),n.jsxs(ua,{children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>s(!1),"data-testid":"button-cancel",children:"Cancel"}),n.jsx(D,{type:"submit",disabled:m.isPending||y.isPending,"data-testid":"button-submit",children:r?"Update Company":"Create Company"})]})]})})]})}),n.jsx(Ye,{open:!!i,onOpenChange:()=>o(null),children:n.jsxs(He,{children:[n.jsxs(Ke,{children:[n.jsx(Qe,{children:"Delete Company"}),n.jsxs(rn,{children:['Are you sure you want to delete "',i==null?void 0:i.name,'"? This action cannot be undone.']})]}),n.jsxs(ua,{children:[n.jsx(D,{variant:"outline",onClick:()=>o(null),"data-testid":"button-cancel-delete",children:"Cancel"}),n.jsx(D,{variant:"destructive",onClick:()=>i&&v.mutate(i.id),disabled:v.isPending,"data-testid":"button-confirm-delete",children:"Delete"})]})]})})]})}const SF=Ic({name:ot().min(1,"Role name is required"),description:ot().optional(),permissions:gF(ot())}),CF=Ic({userId:ot().min(1,"User is required"),companyId:ot().min(1,"Company is required"),roleId:ot().min(1,"Role is required")}),kF=[{id:"read:customers",label:"Read Customers",category:"Sales"},{id:"write:customers",label:"Write Customers",category:"Sales"},{id:"read:sales_orders",label:"Read Sales Orders",category:"Sales"},{id:"write:sales_orders",label:"Write Sales Orders",category:"Sales"},{id:"read:invoices",label:"Read Invoices",category:"Sales"},{id:"write:invoices",label:"Write Invoices",category:"Sales"},{id:"read:products",label:"Read Products",category:"Warehouse"},{id:"write:products",label:"Write Products",category:"Warehouse"},{id:"read:stock",label:"Read Stock Levels",category:"Warehouse"},{id:"write:stock",label:"Manage Stock",category:"Warehouse"},{id:"read:movements",label:"Read Movements",category:"Warehouse"},{id:"write:movements",label:"Write Movements",category:"Warehouse"},{id:"read:accounts",label:"Read Chart of Accounts",category:"Financials"},{id:"write:accounts",label:"Write Chart of Accounts",category:"Financials"},{id:"read:journal",label:"Read Journal Entries",category:"Financials"},{id:"write:journal",label:"Write Journal Entries",category:"Financials"},{id:"read:payables",label:"Read Payables",category:"Financials"},{id:"write:payables",label:"Write Payables",category:"Financials"},{id:"read:receivables",label:"Read Receivables",category:"Financials"},{id:"write:receivables",label:"Write Receivables",category:"Financials"},{id:"read:employees",label:"Read Employees",category:"HR"},{id:"write:employees",label:"Write Employees",category:"HR"},{id:"read:payroll",label:"Read Payroll",category:"HR"},{id:"write:payroll",label:"Write Payroll",category:"HR"},{id:"admin:companies",label:"Manage Companies",category:"System"},{id:"admin:users",label:"Manage Users",category:"System"},{id:"admin:roles",label:"Manage Roles",category:"System"},{id:"*",label:"All Permissions (Super Admin)",category:"System"}],IF=["Sales","Warehouse","Financials","HR","System"];function TF(){const{toast:e}=Vt(),[t,s]=u.useState(!1),[r,a]=u.useState(!1),[i,o]=u.useState(null),[l,c]=u.useState(null),[d,f]=u.useState(""),{data:m=[],isLoading:y}=jt({queryKey:["/api/roles"]}),{data:v=[]}=jt({queryKey:["/api/companies"]}),{data:j=[],isLoading:x}=jt({queryKey:["/api/user-company-roles"]}),w=[{id:"user-admin",email:"admin@unanza.com",displayName:"Admin User"},{id:"user-sales",email:"sales@unanza.com",displayName:"Sales Manager"},{id:"user-warehouse",email:"warehouse@unanza.com",displayName:"Warehouse Lead"},{id:"user-finance",email:"finance@unanza.com",displayName:"Finance Officer"}],g=tc({resolver:nc(SF),defaultValues:{name:"",description:"",permissions:[]}}),h=tc({resolver:nc(CF),defaultValues:{userId:"",companyId:"",roleId:""}}),p=Rt({mutationFn:async E=>(await Gt("POST","/api/roles",E)).json(),onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/roles"]}),e({title:"Role created successfully"}),s(!1),g.reset()},onError:E=>{e({title:"Error",description:E.message,variant:"destructive"})}}),b=Rt({mutationFn:async({id:E,data:P})=>(await Gt("PATCH",`/api/roles/${E}`,P)).json(),onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/roles"]}),e({title:"Role updated successfully"}),s(!1),o(null),g.reset()},onError:E=>{e({title:"Error",description:E.message,variant:"destructive"})}}),S=Rt({mutationFn:async E=>{await Gt("DELETE",`/api/roles/${E}`)},onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/roles"]}),e({title:"Role deleted successfully"}),c(null)},onError:E=>{e({title:"Error",description:E.message,variant:"destructive"})}}),N=Rt({mutationFn:async E=>(await Gt("POST","/api/user-company-roles",E)).json(),onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/user-company-roles"]}),e({title:"Role assigned successfully"}),a(!1),h.reset()},onError:E=>{e({title:"Error",description:E.message,variant:"destructive"})}}),T=Rt({mutationFn:async E=>{await Gt("DELETE",`/api/user-company-roles/${E}`)},onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/user-company-roles"]}),e({title:"Assignment removed successfully"}),c(null)},onError:E=>{e({title:"Error",description:E.message,variant:"destructive"})}}),k=E=>{o(E),g.reset({name:E.name,description:E.description||"",permissions:E.permissions||[]}),s(!0)},A=E=>{i?b.mutate({id:i.id,data:E}):p.mutate(E)},C=E=>{N.mutate(E)},I=()=>{o(null),g.reset(),s(!0)},$=()=>{h.reset(),a(!0)},B=j.filter(E=>{if(!d)return!0;const P=w.find(U=>U.id===E.userId),L=v.find(U=>U.id===E.companyId),ie=m.find(U=>U.id===E.roleId),W=d.toLowerCase();return(P==null?void 0:P.displayName.toLowerCase().includes(W))||(P==null?void 0:P.email.toLowerCase().includes(W))||(L==null?void 0:L.name.toLowerCase().includes(W))||(ie==null?void 0:ie.name.toLowerCase().includes(W))});return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold","data-testid":"text-page-title",children:"User & Role Management"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage roles, permissions, and user-company access assignments"})]})}),n.jsxs(gs,{defaultValue:"assignments",className:"space-y-4",children:[n.jsxs(ns,{"data-testid":"tabs-view-selector",children:[n.jsxs(Oe,{value:"assignments","data-testid":"tab-assignments",children:[n.jsx(uN,{className:"h-4 w-4 mr-2"}),"User Assignments"]}),n.jsxs(Oe,{value:"roles","data-testid":"tab-roles",children:[n.jsx(Cl,{className:"h-4 w-4 mr-2"}),"Roles & Permissions"]})]}),n.jsx(We,{value:"assignments",children:n.jsxs(G,{children:[n.jsxs(J,{className:"flex flex-row items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(nr,{className:"h-5 w-5"}),"User-Company Role Assignments"]}),n.jsx(Fe,{children:"Assign roles to users for specific companies"})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Jd,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(re,{placeholder:"Search assignments...",value:d,onChange:E=>f(E.target.value),className:"pl-8 w-[200px]","data-testid":"input-search-assignments"})]}),n.jsxs(D,{onClick:$,"data-testid":"button-add-assignment",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Assign Role"]})]})]}),n.jsx(Y,{children:n.jsxs(bt,{"data-testid":"table-assignments",children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"User"}),n.jsx(M,{children:"Company"}),n.jsx(M,{children:"Role"}),n.jsx(M,{children:"Status"}),n.jsx(M,{className:"text-right",children:"Actions"})]})}),n.jsxs(Nt,{children:[B.map(E=>{var W;const P=w.find(U=>U.id===E.userId),L=v.find(U=>U.id===E.companyId),ie=m.find(U=>U.id===E.roleId);return n.jsxs(Ne,{"data-testid":`row-assignment-${E.id}`,children:[n.jsx(O,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-sm font-medium",children:((W=P==null?void 0:P.displayName)==null?void 0:W.charAt(0))||"U"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:(P==null?void 0:P.displayName)||E.userId}),n.jsx("p",{className:"text-xs text-muted-foreground",children:P==null?void 0:P.email})]})]})}),n.jsx(O,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:(L==null?void 0:L.name)||E.companyId})]})}),n.jsx(O,{children:n.jsxs(Le,{variant:"outline",children:[n.jsx(Cl,{className:"h-3 w-3 mr-1"}),(ie==null?void 0:ie.name)||E.roleId]})}),n.jsx(O,{children:n.jsx(Le,{variant:E.isActive===!0?"default":"secondary",children:E.isActive?"Active":"Inactive"})}),n.jsx(O,{className:"text-right",children:n.jsx(D,{size:"icon",variant:"ghost",onClick:()=>c(E),"data-testid":`button-delete-assignment-${E.id}`,children:n.jsx(gn,{className:"h-4 w-4"})})})]},E.id)}),B.length===0&&!x&&n.jsx(Ne,{children:n.jsx(O,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:d?"No matching assignments found":"No role assignments yet"})})]})]})})]})}),n.jsx(We,{value:"roles",children:n.jsxs(G,{children:[n.jsxs(J,{className:"flex flex-row items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(JP,{className:"h-5 w-5"}),"Roles & Permissions"]}),n.jsx(Fe,{children:"Define roles with specific permission sets"})]}),n.jsxs(D,{onClick:I,"data-testid":"button-add-role",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Create Role"]})]}),n.jsx(Y,{children:n.jsxs(bt,{"data-testid":"table-roles",children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Role Name"}),n.jsx(M,{children:"Description"}),n.jsx(M,{children:"Permissions"}),n.jsx(M,{className:"text-right",children:"Actions"})]})}),n.jsxs(Nt,{children:[m.map(E=>{var P;return n.jsxs(Ne,{"data-testid":`row-role-${E.id}`,children:[n.jsx(O,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Cl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:E.name})]})}),n.jsx(O,{className:"text-muted-foreground",children:E.description||"-"}),n.jsx(O,{children:n.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[(P=E.permissions)==null?void 0:P.slice(0,3).map(L=>n.jsx(Le,{variant:"secondary",className:"text-xs",children:L==="*"?"All":L},L)),E.permissions&&E.permissions.length>3&&n.jsxs(Le,{variant:"outline",className:"text-xs",children:["+",E.permissions.length-3," more"]})]})}),n.jsx(O,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(D,{size:"icon",variant:"ghost",onClick:()=>k(E),"data-testid":`button-edit-role-${E.id}`,children:n.jsx(ps,{className:"h-4 w-4"})}),n.jsx(D,{size:"icon",variant:"ghost",onClick:()=>c(E),disabled:E.isSystemRole===!0,"data-testid":`button-delete-role-${E.id}`,children:n.jsx(gn,{className:"h-4 w-4"})})]})})]},E.id)}),m.length===0&&!y&&n.jsx(Ne,{children:n.jsx(O,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"No roles defined yet"})})]})]})})]})})]}),n.jsx(Ye,{open:t,onOpenChange:s,children:n.jsxs(He,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Ke,{children:[n.jsx(Qe,{children:i?"Edit Role":"Create New Role"}),n.jsx(rn,{children:i?"Update the role details and permissions":"Define a new role with specific permissions"})]}),n.jsx(ic,{...g,children:n.jsxs("form",{onSubmit:g.handleSubmit(A),className:"space-y-6",children:[n.jsx(at,{control:g.control,name:"name",render:({field:E})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Role Name"}),n.jsx(it,{children:n.jsx(re,{placeholder:"e.g., Sales Manager",...E,"data-testid":"input-role-name"})}),n.jsx(rt,{})]})}),n.jsx(at,{control:g.control,name:"description",render:({field:E})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Description"}),n.jsx(it,{children:n.jsx(re,{placeholder:"Brief description of this role",...E,"data-testid":"input-role-description"})}),n.jsx(rt,{})]})}),n.jsx(at,{control:g.control,name:"permissions",render:({field:E})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Permissions"}),n.jsx(Tl,{children:"Select the permissions for this role"}),n.jsx("div",{className:"space-y-4 border rounded-md p-4 max-h-[300px] overflow-y-auto",children:IF.map(P=>n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-sm mb-2",children:P}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:kF.filter(L=>L.category===P).map(L=>{var ie;return n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ir,{id:L.id,checked:(ie=E.value)==null?void 0:ie.includes(L.id),onCheckedChange:W=>{const U=E.value||[];W?E.onChange([...U,L.id]):E.onChange(U.filter(H=>H!==L.id))},"data-testid":`checkbox-permission-${L.id}`}),n.jsx("label",{htmlFor:L.id,className:"text-sm cursor-pointer",children:L.label})]},L.id)})})]},P))}),n.jsx(rt,{})]})}),n.jsxs(ua,{children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>s(!1),"data-testid":"button-cancel-role",children:"Cancel"}),n.jsx(D,{type:"submit",disabled:p.isPending||b.isPending,"data-testid":"button-submit-role",children:i?"Update Role":"Create Role"})]})]})})]})}),n.jsx(Ye,{open:r,onOpenChange:a,children:n.jsxs(He,{children:[n.jsxs(Ke,{children:[n.jsx(Qe,{children:"Assign Role to User"}),n.jsx(rn,{children:"Grant a user access to a company with a specific role"})]}),n.jsx(ic,{...h,children:n.jsxs("form",{onSubmit:h.handleSubmit(C),className:"space-y-4",children:[n.jsx(at,{control:h.control,name:"userId",render:({field:E})=>n.jsxs(nt,{children:[n.jsx(st,{children:"User"}),n.jsxs(Pe,{onValueChange:E.onChange,defaultValue:E.value,children:[n.jsx(it,{children:n.jsx(Se,{"data-testid":"select-user",children:n.jsx(Ee,{placeholder:"Select a user"})})}),n.jsx(Ce,{children:w.map(P=>n.jsxs(Z,{value:P.id,children:[P.displayName," (",P.email,")"]},P.id))})]}),n.jsx(rt,{})]})}),n.jsx(at,{control:h.control,name:"companyId",render:({field:E})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Company"}),n.jsxs(Pe,{onValueChange:E.onChange,defaultValue:E.value,children:[n.jsx(it,{children:n.jsx(Se,{"data-testid":"select-company",children:n.jsx(Ee,{placeholder:"Select a company"})})}),n.jsx(Ce,{children:v.map(P=>n.jsxs(Z,{value:P.id,children:[P.name," (",P.code,")"]},P.id))})]}),n.jsx(rt,{})]})}),n.jsx(at,{control:h.control,name:"roleId",render:({field:E})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Role"}),n.jsxs(Pe,{onValueChange:E.onChange,defaultValue:E.value,children:[n.jsx(it,{children:n.jsx(Se,{"data-testid":"select-role",children:n.jsx(Ee,{placeholder:"Select a role"})})}),n.jsx(Ce,{children:m.map(P=>n.jsx(Z,{value:P.id,children:P.name},P.id))})]}),n.jsx(rt,{})]})}),n.jsxs(ua,{children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-assignment",children:"Cancel"}),n.jsx(D,{type:"submit",disabled:N.isPending,"data-testid":"button-submit-assignment",children:"Assign Role"})]})]})})]})}),n.jsx(Ye,{open:!!l,onOpenChange:()=>c(null),children:n.jsxs(He,{children:[n.jsxs(Ke,{children:[n.jsx(Qe,{children:"Confirm Deletion"}),n.jsxs(rn,{children:["Are you sure you want to delete this"," ","name"in(l||{})?"role":"assignment","? This action cannot be undone."]})]}),n.jsxs(ua,{children:[n.jsx(D,{variant:"outline",onClick:()=>c(null),"data-testid":"button-cancel-delete",children:"Cancel"}),n.jsx(D,{variant:"destructive",onClick:()=>{l&&("name"in l?S.mutate(l.id):T.mutate(l.id))},disabled:S.isPending||T.isPending,"data-testid":"button-confirm-delete",children:"Delete"})]})]})})]})}function Ms(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ci(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const UC=6048e5,PF=864e5;let EF={};function Sm(){return EF}function oc(e,t){var l,c,d,f;const s=Sm(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((f=(d=s.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,a=Ms(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function wu(e){return oc(e,{weekStartsOn:1})}function BC(e){const t=Ms(e),s=t.getFullYear(),r=ci(e,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const a=wu(r),i=ci(e,0);i.setFullYear(s,0,4),i.setHours(0,0,0,0);const o=wu(i);return t.getTime()>=a.getTime()?s+1:t.getTime()>=o.getTime()?s:s-1}function k0(e){const t=Ms(e);return t.setHours(0,0,0,0),t}function I0(e){const t=Ms(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function AF(e,t){const s=k0(e),r=k0(t),a=+s-I0(s),i=+r-I0(r);return Math.round((a-i)/PF)}function RF(e){const t=BC(e),s=ci(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),wu(s)}function _F(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function DF(e){if(!_F(e)&&typeof e!="number")return!1;const t=Ms(e);return!isNaN(Number(t))}function OF(e){const t=Ms(e),s=ci(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}const LF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},MF=(e,t,s)=>{let r;const a=LF[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function Sh(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const FF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$F={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},VF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zF={date:Sh({formats:FF,defaultWidth:"full"}),time:Sh({formats:$F,defaultWidth:"full"}),dateTime:Sh({formats:VF,defaultWidth:"full"})},UF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},BF=(e,t,s,r)=>UF[e];function al(e){return(t,s)=>{const r=s!=null&&s.context?String(s.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const WF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},HF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},KF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},GF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YF=(e,t)=>{const s=Number(e),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},ZF={ordinalNumber:YF,era:al({values:WF,defaultWidth:"wide"}),quarter:al({values:qF,defaultWidth:"wide",argumentCallback:e=>e-1}),month:al({values:HF,defaultWidth:"wide"}),day:al({values:KF,defaultWidth:"wide"}),dayPeriod:al({values:QF,defaultWidth:"wide",formattingValues:GF,defaultFormattingWidth:"wide"})};function il(e){return(t,s={})=>{const r=s.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?JF(l,m=>m.test(o)):XF(l,m=>m.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const f=t.slice(o.length);return{value:d,rest:f}}}function XF(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function JF(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function e6(e){return(t,s={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const t6=/^(\d+)(th|st|nd|rd)?/i,n6=/\d+/i,s6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},r6={any:[/^b/i,/^(a|c)/i]},a6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},i6={any:[/1/i,/2/i,/3/i,/4/i]},o6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},l6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},c6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},d6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},u6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},m6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},h6={ordinalNumber:e6({matchPattern:t6,parsePattern:n6,valueCallback:e=>parseInt(e,10)}),era:il({matchPatterns:s6,defaultMatchWidth:"wide",parsePatterns:r6,defaultParseWidth:"any"}),quarter:il({matchPatterns:a6,defaultMatchWidth:"wide",parsePatterns:i6,defaultParseWidth:"any",valueCallback:e=>e+1}),month:il({matchPatterns:o6,defaultMatchWidth:"wide",parsePatterns:l6,defaultParseWidth:"any"}),day:il({matchPatterns:c6,defaultMatchWidth:"wide",parsePatterns:d6,defaultParseWidth:"any"}),dayPeriod:il({matchPatterns:u6,defaultMatchWidth:"any",parsePatterns:m6,defaultParseWidth:"any"})},f6={code:"en-US",formatDistance:MF,formatLong:zF,formatRelative:BF,localize:ZF,match:h6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function p6(e){const t=Ms(e);return AF(t,OF(t))+1}function x6(e){const t=Ms(e),s=+wu(t)-+RF(t);return Math.round(s/UC)+1}function WC(e,t){var f,m,y,v;const s=Ms(e),r=s.getFullYear(),a=Sm(),i=(t==null?void 0:t.firstWeekContainsDate)??((m=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((v=(y=a.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??1,o=ci(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=oc(o,t),c=ci(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=oc(c,t);return s.getTime()>=l.getTime()?r+1:s.getTime()>=d.getTime()?r:r-1}function g6(e,t){var l,c,d,f;const s=Sm(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(d=s.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=WC(e,t),i=ci(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),oc(i,t)}function y6(e,t){const s=Ms(e),r=+oc(s,t)-+g6(s,t);return Math.round(r/UC)+1}function gt(e,t){const s=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return s+r}const Or={y(e,t){const s=e.getFullYear(),r=s>0?s:1-s;return gt(t==="yy"?r%100:r,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):gt(s+1,2)},d(e,t){return gt(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return gt(e.getHours()%12||12,t.length)},H(e,t){return gt(e.getHours(),t.length)},m(e,t){return gt(e.getMinutes(),t.length)},s(e,t){return gt(e.getSeconds(),t.length)},S(e,t){const s=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,s-3));return gt(a,t.length)}},ki={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},T0={G:function(e,t,s){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return s.ordinalNumber(a,{unit:"year"})}return Or.y(e,t)},Y:function(e,t,s,r){const a=WC(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return gt(o,2)}return t==="Yo"?s.ordinalNumber(i,{unit:"year"}):gt(i,t.length)},R:function(e,t){const s=BC(e);return gt(s,t.length)},u:function(e,t){const s=e.getFullYear();return gt(s,t.length)},Q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return gt(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return gt(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,s){const r=e.getMonth();switch(t){case"M":case"MM":return Or.M(e,t);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,s){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return gt(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,s,r){const a=y6(e,r);return t==="wo"?s.ordinalNumber(a,{unit:"week"}):gt(a,t.length)},I:function(e,t,s){const r=x6(e);return t==="Io"?s.ordinalNumber(r,{unit:"week"}):gt(r,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Or.d(e,t)},D:function(e,t,s){const r=p6(e);return t==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):gt(r,t.length)},E:function(e,t,s){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,s,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return gt(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,s,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return gt(i,t.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,s){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return gt(a,t.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,s){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,s){const r=e.getHours();let a;switch(r===12?a=ki.noon:r===0?a=ki.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,s){const r=e.getHours();let a;switch(r>=17?a=ki.evening:r>=12?a=ki.afternoon:r>=4?a=ki.morning:a=ki.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return Or.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Or.H(e,t)},K:function(e,t,s){const r=e.getHours()%12;return t==="Ko"?s.ordinalNumber(r,{unit:"hour"}):gt(r,t.length)},k:function(e,t,s){let r=e.getHours();return r===0&&(r=24),t==="ko"?s.ordinalNumber(r,{unit:"hour"}):gt(r,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Or.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Or.s(e,t)},S:function(e,t){return Or.S(e,t)},X:function(e,t,s){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return E0(r);case"XXXX":case"XX":return Aa(r);case"XXXXX":case"XXX":default:return Aa(r,":")}},x:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"x":return E0(r);case"xxxx":case"xx":return Aa(r);case"xxxxx":case"xxx":default:return Aa(r,":")}},O:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+P0(r,":");case"OOOO":default:return"GMT"+Aa(r,":")}},z:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+P0(r,":");case"zzzz":default:return"GMT"+Aa(r,":")}},t:function(e,t,s){const r=Math.trunc(e.getTime()/1e3);return gt(r,t.length)},T:function(e,t,s){const r=e.getTime();return gt(r,t.length)}};function P0(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?s+String(a):s+String(a)+t+gt(i,2)}function E0(e,t){return e%60===0?(e>0?"-":"+")+gt(Math.abs(e)/60,2):Aa(e,t)}function Aa(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),a=gt(Math.trunc(r/60),2),i=gt(r%60,2);return s+a+t+i}const A0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},qC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},v6=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],r=s[1],a=s[2];if(!a)return A0(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",A0(r,t)).replace("{{time}}",qC(a,t))},j6={p:qC,P:v6},b6=/^D+$/,w6=/^Y+$/,N6=["D","DD","YY","YYYY"];function S6(e){return b6.test(e)}function C6(e){return w6.test(e)}function k6(e,t,s){const r=I6(e,t,s);if(console.warn(r),N6.includes(e))throw new RangeError(r)}function I6(e,t,s){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const T6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,P6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,E6=/^'([^]*?)'?$/,A6=/''/g,R6=/[a-zA-Z]/;function R0(e,t,s){var f,m,y,v;const r=Sm(),a=r.locale??f6,i=r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=r.weekStartsOn??((v=(y=r.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,l=Ms(e);if(!DF(l))throw new RangeError("Invalid time value");let c=t.match(P6).map(j=>{const x=j[0];if(x==="p"||x==="P"){const w=j6[x];return w(j,a.formatLong)}return j}).join("").match(T6).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const x=j[0];if(x==="'")return{isToken:!1,value:_6(j)};if(T0[x])return{isToken:!0,value:j};if(x.match(R6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:j}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(j=>{if(!j.isToken)return j.value;const x=j.value;(C6(x)||S6(x))&&k6(x,t,String(e));const w=T0[x[0]];return w(l,x,a.localize,d)}).join("")}function _6(e){const t=e.match(E6);return t?t[1].replace(A6,"'"):e}const D6=Ic({transactionType:DC(["sale","purchase","service","dividend","loan"]),sourceCompanyId:ot().min(1,"Source company required"),targetCompanyId:ot().min(1,"Target company required"),amount:ot().min(1,"Amount required"),currency:ot().default("USD"),description:ot().optional(),referenceNumber:ot().optional()}),O6=Ic({sourceCompanyId:ot().min(1,"Source company required"),targetCompanyId:ot().min(1,"Target company required"),sourceWarehouseId:ot().min(1,"Source warehouse required"),targetWarehouseId:ot().min(1,"Target warehouse required"),productId:ot().min(1,"Product required"),quantity:ot().min(1,"Quantity required"),unitCost:ot().min(1,"Unit cost required"),notes:ot().optional()}),_0={sale:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",purchase:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",service:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",dividend:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200",loan:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"},sd={draft:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200",pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",approved:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",completed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",cancelled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",in_transit:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",received:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200"};function L6(){const{toast:e}=Vt(),{activeCompanyId:t}=gi(),[s,r]=u.useState(!1),[a,i]=u.useState(!1),[o,l]=u.useState(""),[c,d]=u.useState(null),[f,m]=u.useState(null),{data:y=[]}=jt({queryKey:["/api/companies"]}),{data:v=[]}=jt({queryKey:["/api/warehouses"]}),{data:j=[]}=jt({queryKey:["/api/products"]}),{data:x=[],isLoading:w}=jt({queryKey:["/api/interco-transactions"]}),{data:g=[],isLoading:h}=jt({queryKey:["/api/interco-stock-transfers"]}),p=tc({resolver:nc(D6),defaultValues:{transactionType:"sale",sourceCompanyId:t||"",targetCompanyId:"",amount:"",currency:"USD",description:"",referenceNumber:""}}),b=tc({resolver:nc(O6),defaultValues:{sourceCompanyId:t||"",targetCompanyId:"",sourceWarehouseId:"",targetWarehouseId:"",productId:"",quantity:"",unitCost:"",notes:""}}),S=Rt({mutationFn:async P=>(await Gt("POST","/api/interco-transactions",P)).json(),onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/interco-transactions"]}),e({title:"Inter-company transaction created"}),r(!1),p.reset()},onError:P=>{e({title:"Error",description:P.message,variant:"destructive"})}}),N=Rt({mutationFn:async P=>(await Gt("POST","/api/interco-stock-transfers",P)).json(),onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/interco-stock-transfers"]}),e({title:"Stock transfer created"}),i(!1),b.reset()},onError:P=>{e({title:"Error",description:P.message,variant:"destructive"})}}),T=Rt({mutationFn:async P=>(await Gt("PATCH",`/api/interco-transactions/${P}`,{status:"approved"})).json(),onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/interco-transactions"]}),e({title:"Transaction approved"}),d(null)}}),k=Rt({mutationFn:async P=>(await Gt("PATCH",`/api/interco-stock-transfers/${P}`,{status:"received"})).json(),onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/interco-stock-transfers"]}),e({title:"Transfer marked as received"}),m(null)}}),A=P=>{S.mutate(P)},C=P=>{N.mutate(P)},I=P=>{var L;return((L=y.find(ie=>ie.id===P))==null?void 0:L.name)||P},$=P=>{var L;return((L=v.find(ie=>ie.id===P))==null?void 0:L.name)||P},B=x.filter(P=>{var ie;if(!o)return!0;const L=o.toLowerCase();return((ie=P.transactionNumber)==null?void 0:ie.toLowerCase().includes(L))||I(P.sourceCompanyId).toLowerCase().includes(L)||I(P.targetCompanyId).toLowerCase().includes(L)}),E=g.filter(P=>{var ie;if(!o)return!0;const L=o.toLowerCase();return((ie=P.transferNumber)==null?void 0:ie.toLowerCase().includes(L))||I(P.sourceCompanyId).toLowerCase().includes(L)||I(P.targetCompanyId).toLowerCase().includes(L)});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold","data-testid":"text-page-title",children:"Inter-Company Transactions"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage transactions and stock transfers between companies"})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(D,{variant:"outline",onClick:()=>i(!0),"data-testid":"button-new-transfer",children:[n.jsx(Kl,{className:"h-4 w-4 mr-2"}),"Stock Transfer"]}),n.jsxs(D,{onClick:()=>r(!0),"data-testid":"button-new-transaction",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"New Transaction"]})]})]}),n.jsxs(gs,{defaultValue:"transactions",className:"space-y-4",children:[n.jsxs(ns,{"data-testid":"tabs-view-selector",children:[n.jsxs(Oe,{value:"transactions","data-testid":"tab-transactions",children:[n.jsx(Cn,{className:"h-4 w-4 mr-2"}),"Financial Transactions"]}),n.jsxs(Oe,{value:"transfers","data-testid":"tab-transfers",children:[n.jsx(cs,{className:"h-4 w-4 mr-2"}),"Stock Transfers"]})]}),n.jsx(We,{value:"transactions",children:n.jsxs(G,{children:[n.jsxs(J,{className:"flex flex-row items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(zP,{className:"h-5 w-5"}),"Inter-Company Financial Transactions"]}),n.jsx(Fe,{children:"Sales, purchases, services, and other financial flows between entities"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Jd,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(re,{placeholder:"Search transactions...",value:o,onChange:P=>l(P.target.value),className:"pl-8 w-[200px]","data-testid":"input-search-transactions"})]})]}),n.jsx(Y,{children:n.jsxs(bt,{"data-testid":"table-transactions",children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Transaction #"}),n.jsx(M,{children:"Type"}),n.jsx(M,{children:"Source Company"}),n.jsx(M,{children:"Target Company"}),n.jsx(M,{className:"text-right",children:"Amount"}),n.jsx(M,{children:"Status"}),n.jsx(M,{children:"Date"}),n.jsx(M,{className:"text-right",children:"Actions"})]})}),n.jsxs(Nt,{children:[B.map(P=>n.jsxs(Ne,{"data-testid":`row-transaction-${P.id}`,children:[n.jsx(O,{className:"font-medium",children:P.transactionNumber}),n.jsx(O,{children:n.jsx(Le,{variant:"secondary",className:_0[P.transactionType],children:P.transactionType})}),n.jsx(O,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"}),I(P.sourceCompanyId)]})}),n.jsx(O,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"}),I(P.targetCompanyId)]})}),n.jsxs(O,{className:"text-right font-mono",children:[P.currency," ",parseFloat(P.amount).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),n.jsx(O,{children:n.jsx(Le,{variant:"secondary",className:sd[P.status],children:P.status})}),n.jsx(O,{children:P.transactionDate?R0(new Date(P.transactionDate),"MMM d, yyyy"):"-"}),n.jsx(O,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(D,{size:"icon",variant:"ghost",onClick:()=>d(P),"data-testid":`button-view-${P.id}`,children:n.jsx(Gn,{className:"h-4 w-4"})}),P.status==="pending"&&n.jsx(D,{size:"icon",variant:"ghost",onClick:()=>T.mutate(P.id),"data-testid":`button-approve-${P.id}`,children:n.jsx(cv,{className:"h-4 w-4"})})]})})]},P.id)),B.length===0&&!w&&n.jsx(Ne,{children:n.jsx(O,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No inter-company transactions found"})})]})]})})]})}),n.jsx(We,{value:"transfers",children:n.jsxs(G,{children:[n.jsxs(J,{className:"flex flex-row items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(Kl,{className:"h-5 w-5"}),"Inter-Company Stock Transfers"]}),n.jsx(Fe,{children:"Inventory movements between company warehouses"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Jd,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(re,{placeholder:"Search transfers...",value:o,onChange:P=>l(P.target.value),className:"pl-8 w-[200px]","data-testid":"input-search-transfers"})]})]}),n.jsx(Y,{children:n.jsxs(bt,{"data-testid":"table-transfers",children:[n.jsx(wt,{children:n.jsxs(Ne,{children:[n.jsx(M,{children:"Transfer #"}),n.jsx(M,{children:"From"}),n.jsx(M,{children:"To"}),n.jsx(M,{className:"text-right",children:"Value"}),n.jsx(M,{children:"Status"}),n.jsx(M,{children:"Date"}),n.jsx(M,{className:"text-right",children:"Actions"})]})}),n.jsxs(Nt,{children:[E.map(P=>n.jsxs(Ne,{"data-testid":`row-transfer-${P.id}`,children:[n.jsx(O,{className:"font-medium",children:P.transferNumber}),n.jsx(O,{children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:I(P.sourceCompanyId)}),n.jsx("span",{className:"text-xs text-muted-foreground",children:$(P.sourceWarehouseId)})]})}),n.jsx(O,{children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:I(P.targetCompanyId)}),n.jsx("span",{className:"text-xs text-muted-foreground",children:$(P.targetWarehouseId)})]})}),n.jsxs(O,{className:"text-right font-mono",children:["$",parseFloat(P.totalValue).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),n.jsx(O,{children:n.jsx(Le,{variant:"secondary",className:sd[P.status],children:P.status})}),n.jsx(O,{children:P.transferDate?R0(new Date(P.transferDate),"MMM d, yyyy"):"-"}),n.jsx(O,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(D,{size:"icon",variant:"ghost",onClick:()=>m(P),"data-testid":`button-view-transfer-${P.id}`,children:n.jsx(Gn,{className:"h-4 w-4"})}),P.status==="in_transit"&&n.jsx(D,{size:"icon",variant:"ghost",onClick:()=>k.mutate(P.id),"data-testid":`button-receive-${P.id}`,children:n.jsx(cv,{className:"h-4 w-4"})})]})})]},P.id)),E.length===0&&!h&&n.jsx(Ne,{children:n.jsx(O,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No stock transfers found"})})]})]})})]})})]}),n.jsx(Ye,{open:s,onOpenChange:r,children:n.jsxs(He,{className:"max-w-lg",children:[n.jsxs(Ke,{children:[n.jsx(Qe,{children:"Create Inter-Company Transaction"}),n.jsx(rn,{children:"Record a financial transaction between two companies"})]}),n.jsx(ic,{...p,children:n.jsxs("form",{onSubmit:p.handleSubmit(A),className:"space-y-4",children:[n.jsx(at,{control:p.control,name:"transactionType",render:({field:P})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Transaction Type"}),n.jsxs(Pe,{onValueChange:P.onChange,defaultValue:P.value,children:[n.jsx(it,{children:n.jsx(Se,{"data-testid":"select-transaction-type",children:n.jsx(Ee,{placeholder:"Select type"})})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"sale",children:"Sale"}),n.jsx(Z,{value:"purchase",children:"Purchase"}),n.jsx(Z,{value:"service",children:"Service"}),n.jsx(Z,{value:"dividend",children:"Dividend"}),n.jsx(Z,{value:"loan",children:"Loan"})]})]}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(at,{control:p.control,name:"sourceCompanyId",render:({field:P})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Source Company"}),n.jsxs(Pe,{onValueChange:P.onChange,defaultValue:P.value,children:[n.jsx(it,{children:n.jsx(Se,{"data-testid":"select-source-company",children:n.jsx(Ee,{placeholder:"Select source"})})}),n.jsx(Ce,{children:y.map(L=>n.jsx(Z,{value:L.id,children:L.name},L.id))})]}),n.jsx(rt,{})]})}),n.jsx(at,{control:p.control,name:"targetCompanyId",render:({field:P})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Target Company"}),n.jsxs(Pe,{onValueChange:P.onChange,defaultValue:P.value,children:[n.jsx(it,{children:n.jsx(Se,{"data-testid":"select-target-company",children:n.jsx(Ee,{placeholder:"Select target"})})}),n.jsx(Ce,{children:y.filter(L=>L.id!==p.watch("sourceCompanyId")).map(L=>n.jsx(Z,{value:L.id,children:L.name},L.id))})]}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(at,{control:p.control,name:"amount",render:({field:P})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Amount"}),n.jsx(it,{children:n.jsx(re,{type:"number",step:"0.01",placeholder:"0.00",...P,"data-testid":"input-amount"})}),n.jsx(rt,{})]})}),n.jsx(at,{control:p.control,name:"currency",render:({field:P})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Currency"}),n.jsxs(Pe,{onValueChange:P.onChange,defaultValue:P.value,children:[n.jsx(it,{children:n.jsx(Se,{"data-testid":"select-currency",children:n.jsx(Ee,{placeholder:"USD"})})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"USD",children:"USD"}),n.jsx(Z,{value:"EUR",children:"EUR"}),n.jsx(Z,{value:"GBP",children:"GBP"}),n.jsx(Z,{value:"JPY",children:"JPY"})]})]}),n.jsx(rt,{})]})})]}),n.jsx(at,{control:p.control,name:"description",render:({field:P})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Description"}),n.jsx(it,{children:n.jsx(ga,{placeholder:"Transaction details...",className:"resize-none",...P,"data-testid":"input-description"})}),n.jsx(rt,{})]})}),n.jsxs(ua,{children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>r(!1),"data-testid":"button-cancel-transaction",children:"Cancel"}),n.jsx(D,{type:"submit",disabled:S.isPending,"data-testid":"button-submit-transaction",children:"Create Transaction"})]})]})})]})}),n.jsx(Ye,{open:a,onOpenChange:i,children:n.jsxs(He,{className:"max-w-lg",children:[n.jsxs(Ke,{children:[n.jsx(Qe,{children:"Create Inter-Company Stock Transfer"}),n.jsx(rn,{children:"Transfer inventory between company warehouses"})]}),n.jsx(ic,{...b,children:n.jsxs("form",{onSubmit:b.handleSubmit(C),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(at,{control:b.control,name:"sourceCompanyId",render:({field:P})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Source Company"}),n.jsxs(Pe,{onValueChange:P.onChange,defaultValue:P.value,children:[n.jsx(it,{children:n.jsx(Se,{"data-testid":"select-transfer-source-company",children:n.jsx(Ee,{placeholder:"Select source"})})}),n.jsx(Ce,{children:y.map(L=>n.jsx(Z,{value:L.id,children:L.name},L.id))})]}),n.jsx(rt,{})]})}),n.jsx(at,{control:b.control,name:"targetCompanyId",render:({field:P})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Target Company"}),n.jsxs(Pe,{onValueChange:P.onChange,defaultValue:P.value,children:[n.jsx(it,{children:n.jsx(Se,{"data-testid":"select-transfer-target-company",children:n.jsx(Ee,{placeholder:"Select target"})})}),n.jsx(Ce,{children:y.filter(L=>L.id!==b.watch("sourceCompanyId")).map(L=>n.jsx(Z,{value:L.id,children:L.name},L.id))})]}),n.jsx(rt,{})]})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(at,{control:b.control,name:"sourceWarehouseId",render:({field:P})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Source Warehouse"}),n.jsxs(Pe,{onValueChange:P.onChange,defaultValue:P.value,children:[n.jsx(it,{children:n.jsx(Se,{"data-testid":"select-source-warehouse",children:n.jsx(Ee,{placeholder:"Select warehouse"})})}),n.jsx(Ce,{children:v.map(L=>n.jsx(Z,{value:L.id,children:L.name},L.id))})]}),n.jsx(rt,{})]})}),n.jsx(at,{control:b.control,name:"targetWarehouseId",render:({field:P})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Target Warehouse"}),n.jsxs(Pe,{onValueChange:P.onChange,defaultValue:P.value,children:[n.jsx(it,{children:n.jsx(Se,{"data-testid":"select-target-warehouse",children:n.jsx(Ee,{placeholder:"Select warehouse"})})}),n.jsx(Ce,{children:v.map(L=>n.jsx(Z,{value:L.id,children:L.name},L.id))})]}),n.jsx(rt,{})]})})]}),n.jsx(at,{control:b.control,name:"productId",render:({field:P})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Product"}),n.jsxs(Pe,{onValueChange:P.onChange,defaultValue:P.value,children:[n.jsx(it,{children:n.jsx(Se,{"data-testid":"select-product",children:n.jsx(Ee,{placeholder:"Select product"})})}),n.jsx(Ce,{children:j.map(L=>n.jsxs(Z,{value:L.id,children:[L.name," (",L.sku,")"]},L.id))})]}),n.jsx(rt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(at,{control:b.control,name:"quantity",render:({field:P})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Quantity"}),n.jsx(it,{children:n.jsx(re,{type:"number",placeholder:"0",...P,"data-testid":"input-quantity"})}),n.jsx(rt,{})]})}),n.jsx(at,{control:b.control,name:"unitCost",render:({field:P})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Unit Cost"}),n.jsx(it,{children:n.jsx(re,{type:"number",step:"0.01",placeholder:"0.00",...P,"data-testid":"input-unit-cost"})}),n.jsx(rt,{})]})})]}),n.jsx(at,{control:b.control,name:"notes",render:({field:P})=>n.jsxs(nt,{children:[n.jsx(st,{children:"Notes"}),n.jsx(it,{children:n.jsx(ga,{placeholder:"Transfer notes...",className:"resize-none",...P,"data-testid":"input-notes"})}),n.jsx(rt,{})]})}),n.jsxs(ua,{children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel-transfer",children:"Cancel"}),n.jsx(D,{type:"submit",disabled:N.isPending,"data-testid":"button-submit-transfer",children:"Create Transfer"})]})]})})]})}),n.jsx(Ye,{open:!!c,onOpenChange:()=>d(null),children:n.jsxs(He,{children:[n.jsx(Ke,{children:n.jsx(Qe,{children:"Transaction Details"})}),c&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Transaction Number"}),n.jsx("p",{className:"font-medium",children:c.transactionNumber})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),n.jsx(Le,{className:_0[c.transactionType],children:c.transactionType})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Source Company"}),n.jsx("p",{className:"font-medium",children:I(c.sourceCompanyId)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Target Company"}),n.jsx("p",{className:"font-medium",children:I(c.targetCompanyId)})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount"}),n.jsxs("p",{className:"font-medium font-mono",children:[c.currency," ",parseFloat(c.amount).toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(Le,{className:sd[c.status],children:c.status})]})]}),c.description&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Description"}),n.jsx("p",{children:c.description})]})]})]})}),n.jsx(Ye,{open:!!f,onOpenChange:()=>m(null),children:n.jsxs(He,{children:[n.jsx(Ke,{children:n.jsx(Qe,{children:"Transfer Details"})}),f&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Transfer Number"}),n.jsx("p",{className:"font-medium",children:f.transferNumber})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(Le,{className:sd[f.status],children:f.status})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"From"}),n.jsx("p",{className:"font-medium",children:I(f.sourceCompanyId)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:$(f.sourceWarehouseId)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"To"}),n.jsx("p",{className:"font-medium",children:I(f.targetCompanyId)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:$(f.targetWarehouseId)})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"}),n.jsxs("p",{className:"font-medium font-mono",children:["$",parseFloat(f.totalValue).toLocaleString()]})]})]})]})})]})}function M6(){const[e,t]=u.useState(LD),[s,r]=u.useState(null),[a,i]=u.useState(!1),[o,l]=u.useState(!1),[c,d]=u.useState(null),[f,m]=u.useState({name:"",email:"",phone:"",status:"active"}),y=h=>{h?(d(h),m({name:h.name,email:h.email,phone:h.phone,status:h.status})):(d(null),m({name:"",email:"",phone:"",status:"active"})),i(!0)},v=h=>{if(h.preventDefault(),c)t(e.map(p=>p.id===c.id?{...p,...f}:p)),console.log("Updated vendor:",c.id);else{const p={id:`V${String(e.length+1).padStart(3,"0")}`,activePOs:0,totalValue:0,...f};t([...e,p]),console.log("Created vendor:",p)}i(!1)},j=h=>{r(h),l(!0)},x=h=>{t(e.filter(p=>p.id!==h)),console.log("Deleted vendor:",h)},w=s?M1.filter(h=>h.vendorId===s.id):[],g=[{key:"id",header:"ID",sortable:!0},{key:"name",header:"Vendor",sortable:!0,render:h=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-muted",children:n.jsx(yt,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:h.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:h.email})]})]})},{key:"phone",header:"Phone"},{key:"status",header:"Status",render:h=>n.jsx(Je,{status:h.status})},{key:"activePOs",header:"Active POs",className:"text-center"},{key:"totalValue",header:"Total Value",sortable:!0,className:"text-right",render:h=>`$${h.totalValue.toLocaleString()}`},{key:"actions",header:"",className:"text-right",render:h=>n.jsxs("div",{className:"flex justify-end gap-1",onClick:p=>p.stopPropagation(),children:[n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>j(h),"data-testid":`button-view-${h.id}`,children:n.jsx(Gn,{className:"h-4 w-4"})}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>y(h),"data-testid":`button-edit-${h.id}`,children:n.jsx(ps,{className:"h-4 w-4"})}),n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>x(h.id),"data-testid":`button-delete-${h.id}`,children:n.jsx(gn,{className:"h-4 w-4"})})]})}];return n.jsxs("div",{children:[n.jsx(St,{title:"Vendor Portal",description:"Manage vendor relationships and access",actions:n.jsxs(n.Fragment,{children:[n.jsxs(D,{variant:"outline","data-testid":"button-export",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Export"]}),n.jsxs(D,{onClick:()=>y(),"data-testid":"button-new-vendor",children:[n.jsx(Pt,{className:"h-4 w-4 mr-2"}),"New Vendor"]})]})}),n.jsx(Wt,{data:e,columns:g,searchKey:"name",searchPlaceholder:"Search vendors...",onRowClick:j}),n.jsx(Ye,{open:a,onOpenChange:i,children:n.jsxs(He,{className:"max-w-lg",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:c?"Edit Vendor":"New Vendor"})}),n.jsxs("form",{onSubmit:v,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"name",children:"Company Name *"}),n.jsx(re,{id:"name",value:f.name,onChange:h=>m({...f,name:h.target.value}),required:!0,"data-testid":"input-name"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"email",children:"Email *"}),n.jsx(re,{id:"email",type:"email",value:f.email,onChange:h=>m({...f,email:h.target.value}),required:!0,"data-testid":"input-email"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"phone",children:"Phone"}),n.jsx(re,{id:"phone",value:f.phone,onChange:h=>m({...f,phone:h.target.value}),"data-testid":"input-phone"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"status",children:"Status"}),n.jsxs(Pe,{value:f.status,onValueChange:h=>m({...f,status:h}),children:[n.jsx(Se,{"data-testid":"select-status",children:n.jsx(Ee,{})}),n.jsxs(Ce,{children:[n.jsx(Z,{value:"active",children:"Active"}),n.jsx(Z,{value:"pending",children:"Pending"}),n.jsx(Z,{value:"inactive",children:"Inactive"})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[n.jsx(D,{type:"button",variant:"outline",onClick:()=>i(!1),"data-testid":"button-cancel",children:"Cancel"}),n.jsx(D,{type:"submit","data-testid":"button-save",children:c?"Update":"Create"})]})]})]})}),n.jsx(Ye,{open:o,onOpenChange:l,children:n.jsxs(He,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:"Vendor Profile"})}),s&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-md bg-muted",children:n.jsx(yt,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold","data-testid":"text-vendor-name",children:s.name}),n.jsx("p",{className:"text-muted-foreground",children:s.email}),n.jsx(Je,{status:s.status,className:"mt-2"})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs(G,{children:[n.jsx(J,{className:"pb-3",children:n.jsx(ee,{className:"text-base",children:"Contact Information"})}),n.jsxs(Y,{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Email"}),n.jsx("span",{children:s.email})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Phone"}),n.jsx("span",{children:s.phone})]})]})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-3",children:n.jsx(ee,{className:"text-base",children:"Statistics"})}),n.jsxs(Y,{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Active POs"}),n.jsx("span",{children:s.activePOs})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Value"}),n.jsxs("span",{className:"font-semibold",children:["$",s.totalValue.toLocaleString()]})]})]})]})]}),n.jsxs(G,{children:[n.jsx(J,{className:"pb-3",children:n.jsx(ee,{className:"text-base",children:"Purchase Orders"})}),n.jsx(Y,{children:w.length>0?n.jsx("div",{className:"border rounded-md divide-y",children:w.map(h=>n.jsxs("div",{className:"flex items-center justify-between p-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:h.id}),n.jsx("span",{className:"text-muted-foreground ml-2",children:h.date})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Je,{status:h.status}),n.jsxs("span",{className:"font-medium",children:["$",h.total.toLocaleString()]})]})]},h.id))}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No purchase orders found"})})]})]})]})})]})}function F6(){const[e]=u.useState(OD[0]),[t,s]=u.useState(null),[r,a]=u.useState(null),[i,o]=u.useState(!1),[l,c]=u.useState(!1),d=Wf.filter(x=>x.customerId===e.id),f=F1.filter(x=>d.some(w=>w.id===x.orderId)),m=x=>{s(x),o(!0)},y=x=>{a(x),c(!0)},v=[{key:"id",header:"Order #",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"status",header:"Status",render:x=>n.jsx(Je,{status:x.status})},{key:"items",header:"Items",className:"text-center"},{key:"total",header:"Total",sortable:!0,className:"text-right",render:x=>`$${x.total.toLocaleString()}`},{key:"actions",header:"",className:"text-right",render:x=>n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>m(x),"data-testid":`button-view-order-${x.id}`,children:n.jsx(Gn,{className:"h-4 w-4"})})}],j=[{key:"id",header:"Invoice #",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"dueDate",header:"Due Date",sortable:!0},{key:"status",header:"Status",render:x=>n.jsx(Je,{status:x.status})},{key:"total",header:"Amount",sortable:!0,className:"text-right",render:x=>`$${x.total.toLocaleString()}`},{key:"actions",header:"",className:"text-right",render:x=>n.jsx(D,{variant:"ghost",size:"icon",onClick:()=>y(x),"data-testid":`button-view-invoice-${x.id}`,children:n.jsx(_t,{className:"h-4 w-4"})})}];return n.jsxs("div",{children:[n.jsx(St,{title:"Customer Portal",description:"View your orders and invoices"}),n.jsx(G,{className:"mb-6",children:n.jsx(Y,{className:"p-6",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Jl,{className:"h-12 w-12",children:n.jsx(ec,{className:"bg-primary/10 text-primary text-lg",children:e.name.split(" ").map(x=>x[0]).join("").slice(0,2)})}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-semibold","data-testid":"text-customer-name",children:e.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.email})]})]}),n.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-semibold",children:e.totalOrders}),n.jsx("p",{className:"text-muted-foreground",children:"Total Orders"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-2xl font-semibold",children:["$",e.totalSpent.toLocaleString()]}),n.jsx("p",{className:"text-muted-foreground",children:"Total Spent"})]})]})]})})}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[n.jsxs(G,{children:[n.jsx(J,{className:"flex flex-row items-center justify-between gap-2",children:n.jsxs(ee,{className:"text-base flex items-center gap-2",children:[n.jsx(yo,{className:"h-4 w-4"}),"Recent Orders"]})}),n.jsx(Y,{children:n.jsx(Wt,{data:d.slice(0,5),columns:v,pageSize:5})})]}),n.jsxs(G,{children:[n.jsx(J,{className:"flex flex-row items-center justify-between gap-2",children:n.jsxs(ee,{className:"text-base flex items-center gap-2",children:[n.jsx(Ro,{className:"h-4 w-4"}),"Recent Invoices"]})}),n.jsx(Y,{children:n.jsx(Wt,{data:f.slice(0,5),columns:j,pageSize:5})})]})]}),n.jsx(Ye,{open:i,onOpenChange:o,children:n.jsxs(He,{className:"max-w-lg",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:"Order Details"})}),t&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:t.id}),n.jsx("p",{className:"text-sm text-muted-foreground",children:t.date})]}),n.jsx(Je,{status:t.status})]}),n.jsxs("div",{className:"border rounded-md p-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Items"}),n.jsx("span",{children:t.items})]}),n.jsxs("div",{className:"flex justify-between font-semibold",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{children:["$",t.total.toLocaleString()]})]})]})]})]})}),n.jsx(Ye,{open:l,onOpenChange:c,children:n.jsxs(He,{className:"max-w-lg",children:[n.jsx(Ke,{children:n.jsx(Qe,{children:"Invoice"})}),r&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:r.id}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Due: ",r.dueDate]})]}),n.jsx(Je,{status:r.status})]}),n.jsxs("div",{className:"border rounded-md p-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Invoice Date"}),n.jsx("span",{children:r.date})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order"}),n.jsx("span",{children:r.orderId})]}),n.jsxs("div",{className:"flex justify-between font-semibold pt-2 border-t",children:[n.jsx("span",{children:"Amount Due"}),n.jsxs("span",{children:["$",r.total.toLocaleString()]})]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsxs(D,{variant:"outline","data-testid":"button-print-invoice",children:[n.jsx(qu,{className:"h-4 w-4 mr-2"}),"Print"]}),n.jsxs(D,{"data-testid":"button-download-invoice",children:[n.jsx(_t,{className:"h-4 w-4 mr-2"}),"Download PDF"]})]})]})]})})]})}var Cm="Switch",[$6]=Jn(Cm),[V6,z6]=$6(Cm),HC=u.forwardRef((e,t)=>{const{__scopeSwitch:s,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...m}=e,[y,v]=u.useState(null),j=et(t,p=>v(p)),x=u.useRef(!1),w=y?f||!!y.closest("form"):!0,[g,h]=_s({prop:a,defaultProp:i??!1,onChange:d,caller:Cm});return n.jsxs(V6,{scope:s,checked:g,disabled:l,children:[n.jsx(Ae.button,{type:"button",role:"switch","aria-checked":g,"aria-required":o,"data-state":YC(g),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:j,onClick:he(e.onClick,p=>{h(b=>!b),w&&(x.current=p.isPropagationStopped(),x.current||p.stopPropagation())})}),w&&n.jsx(GC,{control:y,bubbles:!x.current,name:r,value:c,checked:g,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});HC.displayName=Cm;var KC="SwitchThumb",QC=u.forwardRef((e,t)=>{const{__scopeSwitch:s,...r}=e,a=z6(KC,s);return n.jsx(Ae.span,{"data-state":YC(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});QC.displayName=KC;var U6="SwitchBubbleInput",GC=u.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:r=!0,...a},i)=>{const o=u.useRef(null),l=et(o,i),c=ag(s),d=Px(t);return u.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==s&&v){const j=new Event("click",{bubbles:r});v.call(f,s),f.dispatchEvent(j)}},[c,s,r]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});GC.displayName=U6;function YC(e){return e?"checked":"unchecked"}var ZC=HC,B6=QC;const Sd=u.forwardRef(({className:e,...t},s)=>n.jsx(ZC,{className:z("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:n.jsx(B6,{className:z("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Sd.displayName=ZC.displayName;const W6=[{id:"admin",name:"Administrator",users:2,permissions:["all"]},{id:"manager",name:"Manager",users:5,permissions:["read","write","approve"]},{id:"staff",name:"Staff",users:12,permissions:["read","write"]},{id:"viewer",name:"Viewer",users:8,permissions:["read"]}],q6=[{name:"Sales",permissions:["View Orders","Create Orders","Edit Orders","Delete Orders","Approve Orders"]},{name:"Warehouse",permissions:["View Products","Manage Products","View Stock","Adjust Stock","Manage POs"]},{name:"Financials",permissions:["View Accounts","Create Entries","Post Entries","View Reports"]},{name:"HR",permissions:["View Employees","Manage Employees","Approve Leave","Process Payroll"]}],H6=[{code:"IDR",name:"Indonesian Rupiah"},{code:"USD",name:"US Dollar"},{code:"EUR",name:"Euro"},{code:"GBP",name:"British Pound"},{code:"SGD",name:"Singapore Dollar"},{code:"JPY",name:"Japanese Yen"},{code:"CNY",name:"Chinese Yuan"},{code:"AUD",name:"Australian Dollar"},{code:"MYR",name:"Malaysian Ringgit"},{code:"THB",name:"Thai Baht"}],K6=[{value:"Asia/Jakarta",label:"Jakarta (WIB)"},{value:"Asia/Makassar",label:"Makassar (WITA)"},{value:"Asia/Jayapura",label:"Jayapura (WIT)"},{value:"Asia/Singapore",label:"Singapore (SGT)"},{value:"America/New_York",label:"Eastern Time (ET)"},{value:"America/Chicago",label:"Central Time (CT)"},{value:"America/Denver",label:"Mountain Time (MT)"},{value:"America/Los_Angeles",label:"Pacific Time (PT)"},{value:"Europe/London",label:"London (GMT/BST)"},{value:"Europe/Berlin",label:"Berlin (CET)"},{value:"UTC",label:"UTC"}];function Q6(){const{activeCompany:e,activeCompanyId:t,refreshContext:s}=gi(),{toast:r}=Vt(),a=hi(),[i,o]=u.useState("general"),[l,c]=u.useState(""),[d,f]=u.useState("IDR"),[m,y]=u.useState("Asia/Jakarta"),[v,j]=u.useState("id-ID"),[x,w]=u.useState(!0),[g,h]=u.useState(!0),[p,b]=u.useState(!0);u.useEffect(()=>{e&&(c(e.name||""),f(e.currency||"IDR"),y(e.timezone||"Asia/Jakarta"),j(e.locale||"id-ID"))},[e]);const S=Rt({mutationFn:async k=>{if(!t)throw new Error("No active company");return(await Gt("PATCH",`/api/companies/${t}`,k)).json()},onSuccess:()=>{r({title:"Settings saved",description:"Company settings have been updated successfully."}),a.invalidateQueries({queryKey:["/api/companies"]}),a.invalidateQueries({queryKey:["/api/session/context",t]}),a.invalidateQueries({queryKey:["/api/companies/hierarchy"]}),s()},onError:k=>{r({title:"Error",description:k.message||"Failed to save settings",variant:"destructive"})}}),N=()=>{S.mutate({name:l,currency:d,timezone:m,locale:v})},T=()=>{r({title:"Preferences saved",description:"Notification preferences have been updated."})};return n.jsxs("div",{children:[n.jsx(St,{title:"Settings",description:`Manage settings for ${(e==null?void 0:e.name)||"your company"}`}),n.jsxs(gs,{value:i,onValueChange:o,children:[n.jsxs(ns,{className:"mb-6",children:[n.jsxs(Oe,{value:"general","data-testid":"tab-general",children:[n.jsx(eu,{className:"h-4 w-4 mr-2"}),"General"]}),n.jsxs(Oe,{value:"roles","data-testid":"tab-roles",children:[n.jsx(Cl,{className:"h-4 w-4 mr-2"}),"Roles & Permissions"]}),n.jsxs(Oe,{value:"notifications","data-testid":"tab-notifications",children:[n.jsx(qP,{className:"h-4 w-4 mr-2"}),"Notifications"]}),n.jsxs(Oe,{value:"appearance","data-testid":"tab-appearance",children:[n.jsx(oE,{className:"h-4 w-4 mr-2"}),"Appearance"]})]}),n.jsx(We,{value:"general",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsx(ee,{children:"Company Settings"}),n.jsxs(Fe,{children:["Configure settings for ",(e==null?void 0:e.name)||"your company",(e==null?void 0:e.companyType)&&n.jsxs("span",{className:"ml-2 text-xs uppercase text-muted-foreground",children:["(",e.companyType,")"]})]})]}),n.jsxs(Y,{className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"companyName",children:"Company Name"}),n.jsx(re,{id:"companyName",value:l,onChange:k=>c(k.target.value),"data-testid":"input-company-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"currency",children:"Default Currency"}),n.jsxs(Pe,{value:d,onValueChange:f,children:[n.jsx(Se,{"data-testid":"select-currency",children:n.jsx(Ee,{})}),n.jsx(Ce,{children:H6.map(k=>n.jsxs(Z,{value:k.code,children:[k.code," - ",k.name]},k.code))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{htmlFor:"timezone",children:"Timezone"}),n.jsxs(Pe,{value:m,onValueChange:y,children:[n.jsx(Se,{"data-testid":"select-timezone",children:n.jsx(Ee,{})}),n.jsx(Ce,{children:K6.map(k=>n.jsx(Z,{value:k.value,children:k.label},k.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(K,{children:"Company Code"}),n.jsx(re,{value:(e==null?void 0:e.code)||"",disabled:!0,className:"bg-muted","data-testid":"input-company-code"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Company code cannot be changed"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(D,{onClick:N,disabled:S.isPending,"data-testid":"button-save-general",children:[S.isPending?n.jsx(an,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(dv,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})}),n.jsx(We,{value:"roles",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsx(ee,{children:"User Roles"}),n.jsx(Fe,{children:"Manage user roles and their members"})]}),n.jsx(Y,{children:n.jsx("div",{className:"space-y-3",children:W6.map(k=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md hover-elevate",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-primary/10",children:n.jsx(nr,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:k.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[k.users," users"]})]})]}),n.jsx(D,{variant:"outline",size:"sm","data-testid":`button-edit-role-${k.id}`,children:"Edit"})]},k.id))})})]}),n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsx(ee,{children:"Permissions Matrix"}),n.jsx(Fe,{children:"Configure role permissions"})]}),n.jsx(Y,{children:n.jsx("div",{className:"space-y-4",children:q6.map(k=>n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-sm",children:k.name}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:k.permissions.map(A=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ir,{id:A,defaultChecked:Math.random()>.3}),n.jsx(K,{htmlFor:A,className:"text-sm font-normal",children:A})]},A))})]},k.name))})})]})]})}),n.jsx(We,{value:"notifications",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsx(ee,{children:"Notification Preferences"}),n.jsx(Fe,{children:"Configure how you receive notifications"})]}),n.jsxs(Y,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Email Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications for important events"})]}),n.jsx(Sd,{checked:x,onCheckedChange:w,"data-testid":"switch-email-notifications"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Low Stock Alerts"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when products fall below minimum stock"})]}),n.jsx(Sd,{checked:g,onCheckedChange:h,"data-testid":"switch-low-stock"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Order Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive alerts for new orders and status changes"})]}),n.jsx(Sd,{checked:p,onCheckedChange:b,"data-testid":"switch-order-notifications"})]}),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsxs(D,{onClick:T,"data-testid":"button-save-notifications",children:[n.jsx(dv,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})})]})]})}),n.jsx(We,{value:"appearance",children:n.jsxs(G,{children:[n.jsxs(J,{children:[n.jsx(ee,{children:"Appearance Settings"}),n.jsx(Fe,{children:"Customize the look and feel of the application"})]}),n.jsxs(Y,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Theme"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Switch between light and dark mode"})]}),n.jsx(B1,{})]}),n.jsx("div",{className:"p-4 border rounded-md bg-muted/30",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:"The theme will be applied across all pages and saved to your preferences."})})]})]})})]})]})}function G6(){const{user:e,logout:t,isLoading:s}=xs(),[,r]=Na(),a=async()=>{await t(),r("/login")};return n.jsxs(W2,{children:[n.jsx(q2,{asChild:!0,children:n.jsx(D,{variant:"ghost",size:"icon","data-testid":"button-user-menu",children:n.jsx(tu,{className:"w-4 h-4"})})}),n.jsxs(Zx,{align:"end",children:[n.jsx(Xx,{children:(e==null?void 0:e.fullName)||(e==null?void 0:e.username)||"User"}),n.jsx(Jx,{}),n.jsxs(fm,{onClick:a,disabled:s,"data-testid":"button-logout",children:[n.jsx(nE,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})}function Y6(){return n.jsxs(lx,{children:[n.jsx(Ge,{path:"/",component:fM}),n.jsx(Ge,{path:"/reports",component:MM}),n.jsx(Ge,{path:"/reports/consolidation",component:UM}),n.jsx(Ge,{path:"/sales/orders",component:QM}),n.jsx(Ge,{path:"/sales/customers",component:XM}),n.jsx(Ge,{path:"/sales/deliveries",component:t3}),n.jsx(Ge,{path:"/sales/invoices",component:n3}),n.jsx(Ge,{path:"/warehouse/products",component:s3}),n.jsx(Ge,{path:"/warehouse/warehouses",component:a3}),n.jsx(Ge,{path:"/warehouse/locations",component:r3}),n.jsx(Ge,{path:"/warehouse/stock",component:i3}),n.jsx(Ge,{path:"/warehouse/movements",component:o3}),n.jsx(Ge,{path:"/warehouse/purchase-orders",component:c3}),n.jsx(Ge,{path:"/warehouse/vendors",component:d3}),n.jsx(Ge,{path:"/financials/journal",component:u3}),n.jsx(Ge,{path:"/financials/accounts",component:h3}),n.jsx(Ge,{path:"/financials/receivables",component:f3}),n.jsx(Ge,{path:"/financials/payables",component:p3}),n.jsx(Ge,{path:"/hr/employees",component:x3}),n.jsx(Ge,{path:"/hr/attendance",component:g3}),n.jsx(Ge,{path:"/hr/leave",component:y3}),n.jsx(Ge,{path:"/hr/payroll",component:j3}),n.jsx(Ge,{path:"/system/companies",component:NF}),n.jsx(Ge,{path:"/system/users",component:TF}),n.jsx(Ge,{path:"/system/intercompany",component:L6}),n.jsx(Ge,{path:"/system/vendors",component:M6}),n.jsx(Ge,{path:"/system/customer-portal",component:F6}),n.jsx(Ge,{path:"/system/settings",component:Q6}),n.jsx(Ge,{path:"/settings",children:n.jsx(Oa,{to:"/system/settings"})}),n.jsx(Ge,{children:n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Page Not Found"}),n.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist."})]})})})]})}function Z6(){const e={"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"};return n.jsx(mO,{children:n.jsxs(DD,{children:[" ",n.jsx(bD,{style:e,children:n.jsxs("div",{className:"flex h-screen w-full",children:[n.jsx(l5,{}),n.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[n.jsxs("header",{className:"flex items-center justify-between gap-2 p-3 border-b shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ND,{"data-testid":"button-sidebar-toggle"}),n.jsx(WL,{})," "]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(B1,{}),n.jsx(G6,{})]})]}),n.jsx("main",{className:"flex-1 overflow-auto p-6",children:n.jsx(Y6,{})})]})]})})]})})}function X6(){const{isAuthenticated:e,isLoading:t}=xs(),[s]=Na(),{data:r,isLoading:a}=jt({queryKey:["/api/setup/status"],retry:!1,staleTime:6e4}),i=r&&(!r.isInitialized||r.needsAdminSetup);if((t||a)&&s!=="/login"&&s!=="/setup")return n.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});const o=s==="/setup"||s.startsWith("/setup/");return i&&!o?n.jsx(Oa,{to:"/setup"}):n.jsxs(lx,{children:[n.jsx(Ge,{path:"/setup/company",component:yh}),n.jsx(Ge,{path:"/setup/admin-user",component:yh}),n.jsx(Ge,{path:"/setup",component:yh}),n.jsx(Ge,{path:"/login",component:Y5}),n.jsx(Ge,{children:e?n.jsx(Z6,{}):n.jsx(Oa,{to:"/login"})})]})}function J6(){return n.jsx(bT,{client:Ut,children:n.jsxs(PD,{children:[" ",n.jsxs(ZD,{children:[" ",n.jsxs(ZN,{children:[" ",n.jsx(X6,{}),n.jsx(JE,{})," "]})]})]})})}rw(document.getElementById("root")).render(n.jsx(J6,{}));
